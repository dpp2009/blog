<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>解密搜索引擎技术之爬虫Larbin</title>
<meta name="keywords" content="迷茫,dpp,丁盼盼,迷茫者" />
<meta name="description" content="" />
<meta name="generator" content="emlog" />
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://onelose.com/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="http://onelose.com/wlwmanifest.xml" />
<link rel="alternate" type="application/rss+xml" title="RSS"  href="http://onelose.com/rss.php" />
<link href="http://onelose.com/content/templates/dpp_icecream_02/main.css" rel="stylesheet" type="text/css" />
<link href="http://onelose.com/admin/editor/plugins/code/prettify.css" rel="stylesheet" type="text/css" />
<script src="http://onelose.com/admin/editor/plugins/code/prettify.js" type="text/javascript"></script>
<script src="http://onelose.com/include/lib/js/common_tpl.js" type="text/javascript"></script>
<script src="http://onelose.com/content/templates/dpp_icecream_02/js/nav.js" type="text/javascript"></script>
<script src="http://onelose.com/content/templates/dpp_icecream_02/js/jquery-1.10.2.min.js"></script>
<script id="allmobilize" charset="utf-8" src="http://a.yunshipei.com/cbca8680e2150f433cb28b942e85ec26/allmobilize.min.js"></script><meta http-equiv="Cache-Control" content="no-siteapp" /><link rel="alternate" media="handheld" href="#" />
<script src="http://onelose.com/include/lib/js/jquery/jquery-1.7.1.js" type="text/javascript"></script><link rel="stylesheet" type="text/css" href ="http://onelose.com/content/plugins/SHJS_for_Emlog/sh_style.min.css" />
	<script type="text/javascript" src="http://onelose.com/content/plugins/et_highlighter51/scripts/brush.js"></script>
	<link type="text/css" rel="stylesheet" href="http://onelose.com/content/plugins/et_highlighter51/styles/shCore.css"/>
	<link type="text/css" rel="stylesheet" href="http://onelose.com/content/plugins/et_highlighter51/styles/shThemeDefault.css"/>
	<script type="text/javascript">SyntaxHighlighter.config.clipboardSwf = 'http://onelose.com/content/plugins/et_highlighter51/scripts/clipboard.swf';SyntaxHighlighter.all();</script>
	</head>
<body>

<div id="wrap">
<div id="hm">
	<div id="header">
	<div><a href="http://onelose.com/"><img src="http://onelose.com/content/templates/dpp_icecream_02/images/logo.jpg" alt="迷茫者 " title="迷茫者"></a></div>
	<h3>迷茫者王者归来。</h3>
	</div>
	<!-- <div id="banner"><a href="http://onelose.com/"><img src="http://onelose.com/content/templates/default/images/top/terrace.jpg" height="134" width="960" /></a></div> -->
	<div id="nav" >	<ul>
			<li class="common"><a href="http://onelose.com/" >首页</a></li>
			<li class="common"><a href="http://onelose.com/t" >微语</a></li>
			<li class="common"><a href="http://onelose.com/post-113.html" >留言</a></li>
			<li class="common"><a href="http://onelose.com/admin" >登录</a></li>
		</ul>
</div>
</div>
<div id="content">
<div id="contentleft">
	<h2>解密搜索引擎技术之爬虫Larbin</h2>
	<p class="date">作者：<a href="http://onelose.com/author/1" title="及尽繁华 不过一掬细沙 只望淡泊名利 自在一生 奈何凡尘俗世之杂碎琐事 竟有我舍之不去的牵挂 故 始终俗人！ 1064490567@qq.com">迷茫者</a> 发布于：2015-1-17 7:00 Saturday 
			分类：<a href="http://onelose.com/sort/youdao">有道云笔记</a>
	 	</p>
	
 <div> 
 <h1 style='background-color: transparent; color: rgb(0, 0, 0); font-family: 宋体; font-size: 22px; font-style: normal; font-weight: bold; line-height: 1.9090909090909092;'></h1> 
 <p style='background-color: rgb(248, 248, 248); color: rgb(51, 51, 51); font-family: 宋体; font-size: 14.3999996185303px; font-style: normal; font-weight: normal; line-height: 2;'><strong style='font-weight:bold;'>一、简介<br></strong></p> 
 <p style='background-color: rgb(248, 248, 248); color: rgb(51, 51, 51); font-family: 宋体; font-size: 14.3999996185303px; font-style: normal; font-weight: normal; line-height: 2;'>Larbin是一个用C++开发的开源网络爬虫，有一定的定制选项和较高的网页抓取速度。</p> 
 <p style='background-color: rgb(248, 248, 248); color: rgb(51, 51, 51); font-family: 宋体; font-size: 14.3999996185303px; font-style: normal; font-weight: normal; line-height: 2;'>Larbin爬虫结构图及主要模块对应关系如下图所示：</p> 
 <p style='background-color: rgb(248, 248, 248); color: rgb(51, 51, 51); font-family: 宋体; font-size: 14.3999996185303px; font-style: normal; font-weight: normal; line-height: 2;'><img src='http://s4.51cto.com/wyfs02/M01/44/47/wKioL1PghpjwyLTSAACEne8V7Dg733.jpg' width='504' height='369' style='width:432px;height:355px;' data-media-type='image'></p> 
 <p style='background-color: rgb(248, 248, 248); color: rgb(51, 51, 51); font-family: 宋体; font-size: 14.3999996185303px; font-style: normal; font-weight: normal; line-height: 2;'>Larbin的运行过程可以描述如下：种子URL文件最初初始化*URLsDisk，读取到namedSiteList中，通过adns库调用，逐渐往Fifo&lt;NamedSite&gt; *dnsSites和Fifo&lt;IPSite&gt;*okSites内装入链接，而Fetch模块直接从Fifo&lt;IPSite&gt; *okSites中获得用于抓取的URL，为抓取到的网页建立hash表，以防止网页的重复抓取。然后通过html类的方法从下载到的网页中析取出新的URL，新加入前端队列的URL要求符合robots filter，并通过hash表对URL去重。一次抓取结束后进行相关的读写操作，然后通过poll函数选择适合的套接字接口，开始新的抓取。这样抓取就可以一直循环下去，直到用户终止或者发生中断。</p> 
 <p style='background-color: rgb(248, 248, 248); color: rgb(51, 51, 51); font-family: 宋体; font-size: 14.3999996185303px; font-style: normal; font-weight: normal; line-height: 2;'>更多关于<span>Larbin项目的细节（包括源码）可以参看<a href='http://larbin.sourceforge.net/index-eng.html' target='_blank' style='color:rgb(0, 66, 118);'>这里</a>。</span></p> 
 <p style='background-color: rgb(248, 248, 248); color: rgb(51, 51, 51); font-family: 宋体; font-size: 14.3999996185303px; font-style: normal; font-weight: normal; line-height: 2;'><strong style='font-weight:bold;'>二、安装</strong></p> 
 <p style='background-color: rgb(248, 248, 248); color: rgb(51, 51, 51); font-family: 宋体; font-size: 14.3999996185303px; font-style: normal; font-weight: normal; line-height: 2;'>这里以在CentOS 6.2下源码安装<a href='http://prdownloads.sourceforge.net/larbin/larbin-2.6.3.tar.gz' target='_blank' style='color:rgb(0, 66, 118);'>larbin-2.6.3.tar.gz</a>为例说明之。</p> 
 <p style='background-color: rgb(248, 248, 248); color: rgb(51, 51, 51); font-family: 宋体; font-size: 14.3999996185303px; font-style: normal; font-weight: normal; line-height: 2;'>解压到指定目录后，如果直接./configure，一般会出现缺少依赖makedepend的错误，如下安装改依赖即可：</p> 
 <pre style='background-color: rgb(230, 230, 230); color: rgb(51, 51, 51); font-family: 'Courier New', monospace; font-size: 12px; font-style: normal; font-weight: normal; line-height: 2.3333333333333335;'>
  
  
  
  
  <ol style='background-color:rgb(247, 247, 247);color:rgb(92, 92, 92);'>
   
   
   
   
   <li style='color: inherit; line-height: 1.5;'><span style='background-color:inherit;color:black;'><span style='background-color:inherit;color:black;'>#yum&nbsp;install&nbsp;makedepend &nbsp;</span></span></li>
   
   
   
   
   <li style='color: rgb(92, 92, 92); line-height: 1.5;'><span style='background-color:inherit;color:black;'>#./configure&nbsp;</span></li>
  
  
  
  
  </ol></pre> 
 <p style='background-color: rgb(248, 248, 248); color: rgb(51, 51, 51); font-family: 宋体; font-size: 14.3999996185303px; font-style: normal; font-weight: normal; line-height: 2;'>./configure成功后，如果直接make同样会出现错误，主要如下：</p> 
 <pre style='background-color: rgb(230, 230, 230); color: rgb(51, 51, 51); font-family: 'Courier New', monospace; font-size: 12px; font-style: normal; font-weight: normal; line-height: 2.3333333333333335;'>
  
  
  
  
  <ol style='background-color:rgb(247, 247, 247);color:rgb(92, 92, 92);'>
   
   
   
   
   <li style='color: inherit; line-height: 1.5;'><span style='background-color:inherit;color:black;'><span style='background-color:inherit;color:black;'>parse.c:113:&nbsp;error:&nbsp;conflicting&nbsp;types&nbsp;for&nbsp;‘adns__parse_domain’ &nbsp;</span></span></li>
   
   
   
   
   <li style='color: rgb(92, 92, 92); line-height: 1.5;'><span style='background-color:inherit;color:black;'>internal.h:569:&nbsp;note:&nbsp;previous&nbsp;declaration&nbsp;of&nbsp;‘adns__parse_domain’&nbsp;was&nbsp;here&nbsp;</span></li>
  
  
  
  
  </ol></pre> 
 <p style='background-color: rgb(248, 248, 248); color: rgb(51, 51, 51); font-family: 宋体; font-size: 14.3999996185303px; font-style: normal; font-weight: normal; line-height: 2;'>根据提示直接去adns目录找到internal.h注释掉该函数即可。</p> 
 <p style='background-color: rgb(248, 248, 248); color: rgb(51, 51, 51); font-family: 宋体; font-size: 14.3999996185303px; font-style: normal; font-weight: normal; line-height: 2;'>再次make，依然出现错误，这次主要是因为代码用老式C代码编写，具体表现如下：</p> 
 <pre style='background-color: rgb(230, 230, 230); color: rgb(51, 51, 51); font-family: 'Courier New', monospace; font-size: 12px; font-style: normal; font-weight: normal; line-height: 2.3333333333333335;'>
  
  
  
  
  <ol style='background-color:rgb(247, 247, 247);color:rgb(92, 92, 92);'>
   
   
   
   
   <li style='color: inherit; line-height: 1.5;'><span style='background-color:inherit;color:black;'><span style='background-color:inherit;color:black;'>input.cc:6:22:&nbsp;error:&nbsp;iostream.h:&nbsp;No&nbsp;such&nbsp;file&nbsp;or&nbsp;directory&nbsp;</span></span></li>
  
  
  
  
  </ol></pre> 
 <p style='background-color: rgb(248, 248, 248); color: rgb(51, 51, 51); font-family: 宋体; font-size: 14.3999996185303px; font-style: normal; font-weight: normal; line-height: 2;'>采用如下命令替换<span><span>&nbsp;</span>iostream.h为<span><span>&nbsp;</span>iostream</span></span>：</p> 
 <pre style='background-color: rgb(230, 230, 230); color: rgb(51, 51, 51); font-family: 'Courier New', monospace; font-size: 12px; font-style: normal; font-weight: normal; line-height: 2.3333333333333335;'>
  
  
  
  
  <ol style='background-color:rgb(247, 247, 247);color:rgb(92, 92, 92);'>
   
   
   
   
   <li style='color: inherit; line-height: 1.5;'><span style='background-color:inherit;color:black;'><span style='background-color:inherit;color:black;'>#sed&nbsp;-i&nbsp;-e&nbsp;'s/iostream.h/iostream/g'&nbsp;`grep&nbsp;-rl&nbsp;iostream.h&nbsp;*`&nbsp;</span></span></li>
  
  
  
  
  </ol></pre> 
 <p style='background-color: rgb(248, 248, 248); color: rgb(51, 51, 51); font-family: 宋体; font-size: 14.3999996185303px; font-style: normal; font-weight: normal; line-height: 2;'>注意上面包含grep的不是单引号而是Esc键下面那个符号`。</p> 
 <p style='background-color: rgb(248, 248, 248); color: rgb(51, 51, 51); font-family: 宋体; font-size: 14.3999996185303px; font-style: normal; font-weight: normal; line-height: 2;'>再次make，出现大量错误，原因同上，表现如下：</p> 
 <pre style='background-color: rgb(230, 230, 230); color: rgb(51, 51, 51); font-family: 'Courier New', monospace; font-size: 12px; font-style: normal; font-weight: normal; line-height: 2.3333333333333335;'>
  
  
  
  
  <ol style='background-color:rgb(247, 247, 247);color:rgb(92, 92, 92);'>
   
   
   
   
   <li style='color: inherit; line-height: 1.5;'><span style='background-color:inherit;color:black;'><span style='background-color:inherit;color:black;'>hashTable.cc:32:&nbsp;error:&nbsp;‘cerr’&nbsp;was&nbsp;not&nbsp;declared&nbsp;in&nbsp;this&nbsp;scope &nbsp;</span></span></li>
   
   
   
   
   <li style='color: rgb(92, 92, 92); line-height: 1.5;'><span style='background-color:inherit;color:black;'>hashTable.cc:41:&nbsp;error:&nbsp;‘cerr’&nbsp;was&nbsp;not&nbsp;declared&nbsp;in&nbsp;this&nbsp;scope &nbsp;</span></li>
   
   
   
   
   <li style='color: inherit; line-height: 1.5;'><span style='background-color:inherit;color:black;'>hashTable.cc:42:&nbsp;error:&nbsp;‘endl’&nbsp;was&nbsp;not&nbsp;declared&nbsp;in&nbsp;this&nbsp;scop&nbsp;</span></li>
  
  
  
  
  </ol></pre> 
 <p style='background-color: rgb(248, 248, 248); color: rgb(51, 51, 51); font-family: 宋体; font-size: 14.3999996185303px; font-style: normal; font-weight: normal; line-height: 2;'>执行如下命令将cerr和endl替换为std::cerr和std::endl：</p> 
 <pre style='background-color: rgb(230, 230, 230); color: rgb(51, 51, 51); font-family: 'Courier New', monospace; font-size: 12px; font-style: normal; font-weight: normal; line-height: 2.3333333333333335;'>
  
  
  
  
  <ol style='background-color:rgb(247, 247, 247);color:rgb(92, 92, 92);'>
   
   
   
   
   <li style='color: inherit; line-height: 1.5;'><span style='background-color:inherit;color:black;'><span style='background-color:inherit;color:black;'>#sed&nbsp;-i&nbsp;-e&nbsp;'s/cerr/std::cerr/g'&nbsp;`grep&nbsp;-rl&nbsp;cerr&nbsp;*` &nbsp;</span></span></li>
   
   
   
   
   <li style='color: rgb(92, 92, 92); line-height: 1.5;'><span style='background-color:inherit;color:black;'>#sed&nbsp;-i&nbsp;-e&nbsp;'s/endl/std::endl/g'&nbsp;`grep&nbsp;-rl&nbsp;endl&nbsp;*`&nbsp;</span></li>
  
  
  
  
  </ol></pre> 
 <p style='background-color: rgb(248, 248, 248); color: rgb(51, 51, 51); font-family: 宋体; font-size: 14.3999996185303px; font-style: normal; font-weight: normal; line-height: 2;'>再次make就不会有问题了，编译完后在当前目录下会产生larbin可执行文件。</p> 
 <pre style='background-color: rgb(230, 230, 230); color: rgb(51, 51, 51); font-family: 'Courier New', monospace; font-size: 12px; font-style: normal; font-weight: normal; line-height: 2.3333333333333335;'>
  
  
  
  
  <ol style='background-color:rgb(247, 247, 247);color:rgb(92, 92, 92);'>
   
   
   
   
   <li style='color: inherit; line-height: 1.5;'><span style='background-color:inherit;color:black;'><span style='background-color:inherit;color:black;'>#./larbin &nbsp;</span></span></li>
   
   
   
   
   <li style='color: rgb(92, 92, 92); line-height: 1.5;'><span style='background-color:inherit;color:black;'>larbin_2.6.3&nbsp;is&nbsp;starting&nbsp;its&nbsp;search&nbsp;</span></li>
  
  
  
  
  </ol></pre> 
 <p style='background-color: rgb(248, 248, 248); color: rgb(51, 51, 51); font-family: 宋体; font-size: 14.3999996185303px; font-style: normal; font-weight: normal; line-height: 2;'>看到上面屏幕输出说明成功启动larbin了。</p> 
 <p style='background-color: rgb(248, 248, 248); color: rgb(51, 51, 51); font-family: 宋体; font-size: 14.3999996185303px; font-style: normal; font-weight: normal; line-height: 2;'><strong style='font-weight:bold;'>三、配置</strong></p> 
 <p style='background-color: rgb(248, 248, 248); color: rgb(51, 51, 51); font-family: 宋体; font-size: 14.3999996185303px; font-style: normal; font-weight: normal; line-height: 2;'>上面方式启动larbin会使用默认配置文件larbin.conf，当然也可以如下来指定配置文件：</p> 
 <pre style='background-color: rgb(230, 230, 230); color: rgb(51, 51, 51); font-family: 'Courier New', monospace; font-size: 12px; font-style: normal; font-weight: normal; line-height: 2.3333333333333335;'>
  
  
  
  
  <ol style='background-color:rgb(247, 247, 247);color:rgb(92, 92, 92);'>
   
   
   
   
   <li style='color: inherit; line-height: 1.5;'><span style='background-color:inherit;color:black;'><span style='background-color:inherit;color:black;'>#./larbin&nbsp;-c&nbsp;conf_file&nbsp;</span></span></li>
  
  
  
  
  </ol></pre> 
 <p style='background-color: rgb(248, 248, 248); color: rgb(51, 51, 51); font-family: 宋体; font-size: 14.3999996185303px; font-style: normal; font-weight: normal; line-height: 2;'>larbin的配置是通过options.h和larbin.conf结合来完成的，前者修改后需要重新编译，后者修改后只需要重启即可。</p> 
 <p style='background-color: rgb(248, 248, 248); color: rgb(51, 51, 51); font-family: 宋体; font-size: 14.3999996185303px; font-style: normal; font-weight: normal; line-height: 2;'>在options.h中以下参数最好打开：</p> 
 <pre style='background-color: rgb(230, 230, 230); color: rgb(51, 51, 51); font-family: 'Courier New', monospace; font-size: 12px; font-style: normal; font-weight: normal; line-height: 2.3333333333333335;'>
  
  
  
  
  <ol style='background-color:rgb(247, 247, 247);color:rgb(92, 92, 92);'>
   
   
   
   
   <li style='color: inherit; line-height: 1.5;'><span style='background-color:inherit;color:black;'><span style='background-color:inherit;color:black;'>#define&nbsp;SIMPLE_SAVE&nbsp;//简单保存抓取页面，存在save/dxxxxx/fyyyyy文件中，每个目录下2000个文件 &nbsp;</span></span></li>
   
   
   
   
   <li style='color: rgb(92, 92, 92); line-height: 1.5;'><span style='background-color:inherit;color:black;'>#define&nbsp;FOLLOW_LINKS&nbsp;//继续抓取子链接 &nbsp;</span></li>
   
   
   
   
   <li style='color: inherit; line-height: 1.5;'><span style='background-color:inherit;color:black;'>#define&nbsp;CGILEVEL&nbsp;1&nbsp;//是否获得CGI &nbsp;</span></li>
   
   
   
   
   <li style='color: rgb(92, 92, 92); line-height: 1.5;'><span style='background-color:inherit;color:black;'>#define&nbsp;DEPTHBYSITE&nbsp;//进入新的URL时是否初始化深度 &nbsp;</span></li>
   
   
   
   
   <li style='color: inherit; line-height: 1.5;'><span style='background-color:inherit;color:black;'>#define&nbsp;RELOAD&nbsp;//设置此项时可以从上次终止处继续爬取，使用-scratch&nbsp;选项从上次结束处重启 &nbsp;</span></li>
   
   
   
   
   <li style='color: rgb(92, 92, 92); line-height: 1.5;'><span style='background-color:inherit;color:black;'>#define&nbsp;CRASH&nbsp;//用于报告严重的bugs用，以gmake&nbsp;debug模式编译时使用&nbsp;</span></li>
  
  
  
  
  </ol></pre> 
 <p style='background-color: rgb(248, 248, 248); color: rgb(51, 51, 51); font-family: 宋体; font-size: 14.3999996185303px; font-style: normal; font-weight: normal; line-height: 2;'>配置完别忘了make。</p> 
 <p style='background-color: rgb(248, 248, 248); color: rgb(51, 51, 51); font-family: 宋体; font-size: 14.3999996185303px; font-style: normal; font-weight: normal; line-height: 2;'>在larbin.conf中以下参数最好打开：</p> 
 <pre style='background-color: rgb(230, 230, 230); color: rgb(51, 51, 51); font-family: 'Courier New', monospace; font-size: 12px; font-style: normal; font-weight: normal; line-height: 2.3333333333333335;'>
  
  
  
  
  <ol style='background-color:rgb(247, 247, 247);color:rgb(92, 92, 92);'>
   
   
   
   
   <li style='color: inherit; line-height: 1.5;'><span style='background-color:inherit;color:black;'><span style='background-color:inherit;color:black;'>httpPort&nbsp;8081&nbsp;//用于查看爬行结果的web服务端口 &nbsp;</span></span></li>
   
   
   
   
   <li style='color: rgb(92, 92, 92); line-height: 1.5;'><span style='background-color:inherit;color:black;'>inputPort&nbsp;1976&nbsp;//用于设置爬行url的telnet服务端口 &nbsp;</span></li>
   
   
   
   
   <li style='color: inherit; line-height: 1.5;'><span style='background-color:inherit;color:black;'>pagesConnexions&nbsp;100&nbsp;//并行抓取网页的连接数 &nbsp;</span></li>
   
   
   
   
   <li style='color: rgb(92, 92, 92); line-height: 1.5;'><span style='background-color:inherit;color:black;'>dnsConnexions&nbsp;5&nbsp;//并行DNS解析的数量 &nbsp;</span></li>
   
   
   
   
   <li style='color: inherit; line-height: 1.5;'><span style='background-color:inherit;color:black;'>depthInSite&nbsp;5&nbsp;//对一个站点的爬取深度 &nbsp;</span></li>
   
   
   
   
   <li style='color: rgb(92, 92, 92); line-height: 1.5;'><span style='background-color:inherit;color:black;'>waitDuration&nbsp;60&nbsp;//访问同一服务器的时间间隔，不可低于30s，建议60s &nbsp;</span></li>
   
   
   
   
   <li style='color: inherit; line-height: 1.5;'><span style='background-color:inherit;color:black;'>startUrl&nbsp;http://slashdot.org/&nbsp;//起始抓取页面&nbsp;</span></li>
  
  
  
  
  </ol></pre> 
 <p style='background-color: rgb(248, 248, 248); color: rgb(51, 51, 51); font-family: 宋体; font-size: 14.3999996185303px; font-style: normal; font-weight: normal; line-height: 2;'>关于配置的详细可以参见<a href='http://blog.chinaunix.net/uid-26548237-id-3391533.html' target='_blank' style='color:rgb(0, 66, 118);'>这里</a>。</p> 
 <p style='background-color: rgb(248, 248, 248); color: rgb(51, 51, 51); font-family: 宋体; font-size: 14.3999996185303px; font-style: normal; font-weight: normal; line-height: 2;'>配置好就可以启动服务开始抓取了。</p> 
 <p style='background-color: rgb(248, 248, 248); color: rgb(51, 51, 51); font-family: 宋体; font-size: 14.3999996185303px; font-style: normal; font-weight: normal; line-height: 2;'>关于起始抓取url除了可以设置外，还可以通过telnet localhost 1976来设置，在终端提示符下输入：</p> 
 <pre style='background-color: rgb(230, 230, 230); color: rgb(51, 51, 51); font-family: 'Courier New', monospace; font-size: 12px; font-style: normal; font-weight: normal; line-height: 2.3333333333333335;'>
  
  
  
  
  <ol style='background-color:rgb(247, 247, 247);color:rgb(92, 92, 92);'>
   
   
   
   
   <li style='color: inherit; line-height: 1.5;'><span style='background-color:inherit;color:black;'><span style='background-color:inherit;color:black;'>priority:1&nbsp;depth:3&nbsp;test:0 &nbsp;</span></span></li>
   
   
   
   
   <li style='color: rgb(92, 92, 92); line-height: 1.5;'><span style='background-color:inherit;color:black;'>http://www.baidu.com&nbsp;</span></li>
  
  
  
  
  </ol></pre> 
 <p style='background-color: rgb(248, 248, 248); color: rgb(51, 51, 51); font-family: 宋体; font-size: 14.3999996185303px; font-style: normal; font-weight: normal; line-height: 2;'>这里把优先级设为了1，保证你输入的URL比一般的URL优先被抓取，如果输入了很多URL，把优先级设为0，防止run out of memory。</p> 
 <p style='background-color: rgb(248, 248, 248); color: rgb(51, 51, 51); font-family: 宋体; font-size: 14.3999996185303px; font-style: normal; font-weight: normal; line-height: 2;'>depth指定抓取链接的深度，一般不要超过5。</p> 
 <p style='background-color: rgb(248, 248, 248); color: rgb(51, 51, 51); font-family: 宋体; font-size: 14.3999996185303px; font-style: normal; font-weight: normal; line-height: 2;'>test设为0表示如果一面网页之前已经抓取过了，并且现在又要抓取,那就抓取，test设为1可以防止重复的抓取。</p> 
 <p style='background-color: rgb(248, 248, 248); color: rgb(51, 51, 51); font-family: 宋体; font-size: 14.3999996185303px; font-style: normal; font-weight: normal; line-height: 2;'><span>这里设置的效果同</span><span>larbin.conf中的</span><span>startUrl。</span></p> 
 <p style='background-color: rgb(248, 248, 248); color: rgb(51, 51, 51); font-family: 宋体; font-size: 14.3999996185303px; font-style: normal; font-weight: normal; line-height: 2;'><strong style='font-weight:bold;'>四、使用</strong></p> 
 <p style='background-color: rgb(248, 248, 248); color: rgb(51, 51, 51); font-family: 宋体; font-size: 14.3999996185303px; font-style: normal; font-weight: normal; line-height: 2;'>运行：./larbin（或“nohup ./larbin &amp;”，可使larbin在后台运行）</p> 
 <p style='background-color: rgb(248, 248, 248); color: rgb(51, 51, 51); font-family: 宋体; font-size: 14.3999996185303px; font-style: normal; font-weight: normal; line-height: 2;'>中止：Ctrl+C</p> 
 <p style='background-color: rgb(248, 248, 248); color: rgb(51, 51, 51); font-family: 宋体; font-size: 14.3999996185303px; font-style: normal; font-weight: normal; line-height: 2;'>重启：./larbin -scratch</p> 
 <p style='background-color: rgb(248, 248, 248); color: rgb(51, 51, 51); font-family: 宋体; font-size: 14.3999996185303px; font-style: normal; font-weight: normal; line-height: 2;'>注意停止larbin的时候不要用Ctrl+z，那样当你再次./larbin或者./larbin -scratch的时候，会出现端口已被占用，无法重新启动。</p> 
 <p style='background-color: rgb(248, 248, 248); color: rgb(51, 51, 51); font-family: 宋体; font-size: 14.3999996185303px; font-style: normal; font-weight: normal; line-height: 2;'>另外，可通过http://localhost:8081来访问larbin，从页面上获取一些关于larbin运行的信息。</p> 
 <p style='background-color: rgb(248, 248, 248); color: rgb(51, 51, 51); font-family: 宋体; font-size: 14.3999996185303px; font-style: normal; font-weight: normal; line-height: 2;'>原文链接：<a href='http://blog.chinaunix.net/uid-22312037-id-4390559.html' style='color:rgb(0, 66, 118);'>http://blog.chinaunix.net/uid-22312037-id-4390559.html</a></p> 
 <br> 
</div>
 	<p class="tag"></p>
	<div style="display:none;">et_highlighter51</div>	<div class="nextlog">		&laquo; <a href="http://onelose.com/post-320.html">compileyourappwiththecommandbellowgcc-otest-L/usr/</a>
				|
				 <a href="http://onelose.com/post-336.html">JavaScript奇技淫巧45招</a>&raquo;
	</div>
				    <div id="pagenavi">
	        </div>
		<div id="comment-place">
	<div class="comment-post" id="comment-post">
		<div class="cancel-reply" id="cancel-reply" style="display:none"><a href="javascript:void(0);" onclick="cancelReply()">取消回复</a></div>
		<p class="comment-header"><b>发表评论：</b><a name="respond"></a></p>
		<form method="post" name="commentform" action="http://onelose.com/index.php?action=addcom" id="commentform">
			<input type="hidden" name="gid" value="323" />
						<p>
				<input type="text" name="comname" maxlength="49" value="" size="22" tabindex="1">
				<label for="author"><small>昵称</small></label>
			</p>
			<p>
				<input type="text" name="commail"  maxlength="128"  value="" size="22" tabindex="2">
				<label for="email"><small>邮件地址 (选填)</small></label>
			</p>
			<p>
				<input type="text" name="comurl" maxlength="128"  value="" size="22" tabindex="3">
				<label for="url"><small>个人主页 (选填)</small></label>
			</p>
						<p><textarea name="comment" id="comment" rows="10" tabindex="4"></textarea></p>
			<p> <input type="submit" id="comment_submit" value="发表评论" tabindex="6" /></p>
			<input type="hidden" name="pid" id="comment-pid" value="0" size="22" tabindex="1"/>
		</form>
	</div>
	</div>
		<div style="clear:both;"></div>
</div><!--end #contentleft-->
<ul id="sidebar">
	<li>
	<h3><span>搜索</span></h3>
	<ul id="logsearch">
	<form name="keyform" method="get" action="http://onelose.com/index.php">
	<input name="keyword" class="search" type="text" />
	</form>
	</ul>
	</li>
	<li>
	<h3><span>最新微语</span></h3>
	<ul id="twitter">
			<li>诺基亚ceo可以对比尔盖茨说，主公，幸不辱命<p>2013-09-03 16:22</p></li>
			<li>换空间了<p>2013-09-02 23:28</p></li>
			<li>玩上古剑奇谭2了，画质非常好<p>2013-08-20 14:08</p></li>
			<li>最打算更新这个模板，估计会用上php<p>2013-08-16 23:10</p></li>
			<li>模板在emlog官网已经下载超过100次~\(≧▽≦)/~啦啦啦<p>2013-08-02 21:33</p></li>
	    	<p><a href="http://onelose.com/t/">更多&raquo;</a></p>
		</ul>
	</li>
	<li>
	<h3><span>随机文章</span></h3>
	<ul id="randlog">
		<li><a href="http://onelose.com/post-248.html">mysql分组取每组前几条记录(排序)</a></li>
		<li><a href="http://onelose.com/post-35.html">那年在仓中</a></li>
		<li><a href="http://onelose.com/post-345.html">Linux的计划任务</a></li>
		<li><a href="http://onelose.com/post-372.html">http://www.couchbase.com/</a></li>
		<li><a href="http://onelose.com/post-506.html">phpize学习</a></li>
		</ul>
	</li>
	<li>
	<h3><span>最新文章</span></h3>
	<ul id="newlog">
		<li><a href="http://onelose.com/post-204.html">Redis数据库安全手册</a></li>
		<li><a href="http://onelose.com/post-200.html">MongoDB服务器端的JavaScript注入</a></li>
		<li><a href="http://onelose.com/post-202.html">http://www.freebuf.com/author/unshell</a></li>
		<li><a href="http://onelose.com/post-211.html">mysql性能优化方向</a></li>
		<li><a href="http://onelose.com/post-209.html">开源消息队列MemcacheQ在Linux中编译安装教程</a></li>
		</ul>
	</li>
	<li>
	<h3><span>最新评论</span></h3>
	<ul id="newcomment">
		<li id="comment">你大爷	<br /><a href="http://onelose.com/post-216.html#5096">我搞定了哈哈,不告诉你我是谁</a></li>
		<li id="comment">网络精灵	<br /><a href="http://onelose.com/post-113.html#4948">我想问改一下你的魔板的问题，能加下我QQ...</a></li>
		<li id="comment">9格购	<br /><a href="http://onelose.com/post-169.html#4698">很不错的模板</a></li>
		<li id="comment">陈正杰博客	<br /><a href="http://onelose.com/post-113.html#4649">好像很就没有更新内容了哟</a></li>
		<li id="comment">迷茫者	<br /><a href="http://onelose.com/post-113.html#4647">@彼岸时光网：O(∩_∩)O~&nbsp;&nbsp; 欢迎...</a></li>
		</ul>
	</li>
	<li>
	<h3><span>分类</span></h3>
	<ul id="blogsort">
		<li>
	<a href="http://onelose.com/sort/youdao">有道云笔记(305)</a>
	<a href="http://onelose.com/rss.php?sort=19"><img src="http://onelose.com/content/templates/dpp_icecream_02/images/rss.png" alt="订阅该分类"/></a>
			<li>
	<a href="http://onelose.com/sort/notes">学习笔记(8)</a>
	<a href="http://onelose.com/rss.php?sort=18"><img src="http://onelose.com/content/templates/dpp_icecream_02/images/rss.png" alt="订阅该分类"/></a>
			<li>
	<a href="http://onelose.com/sort/4">生活(1)</a>
	<a href="http://onelose.com/rss.php?sort=4"><img src="http://onelose.com/content/templates/dpp_icecream_02/images/rss.png" alt="订阅该分类"/></a>
			<li>
	<a href="http://onelose.com/sort/5">网站(7)</a>
	<a href="http://onelose.com/rss.php?sort=5"><img src="http://onelose.com/content/templates/dpp_icecream_02/images/rss.png" alt="订阅该分类"/></a>
			<li>
	<a href="http://onelose.com/sort/6">服务器(1)</a>
	<a href="http://onelose.com/rss.php?sort=6"><img src="http://onelose.com/content/templates/dpp_icecream_02/images/rss.png" alt="订阅该分类"/></a>
			<li>
	<a href="http://onelose.com/sort/7">动画片(1)</a>
	<a href="http://onelose.com/rss.php?sort=7"><img src="http://onelose.com/content/templates/dpp_icecream_02/images/rss.png" alt="订阅该分类"/></a>
			<li>
	<a href="http://onelose.com/sort/16">作业(1)</a>
	<a href="http://onelose.com/rss.php?sort=16"><img src="http://onelose.com/content/templates/dpp_icecream_02/images/rss.png" alt="订阅该分类"/></a>
			<li>
	<a href="http://onelose.com/sort/17">大学(1)</a>
	<a href="http://onelose.com/rss.php?sort=17"><img src="http://onelose.com/content/templates/dpp_icecream_02/images/rss.png" alt="订阅该分类"/></a>
			</ul>
	</li>
	<li>
	<h3><span>存档</span></h3>
	<ul id="record">
		<li><a href="http://onelose.com/record/201504">2015年4月(23)</a></li>
		<li><a href="http://onelose.com/record/201503">2015年3月(69)</a></li>
		<li><a href="http://onelose.com/record/201502">2015年2月(9)</a></li>
		<li><a href="http://onelose.com/record/201501">2015年1月(57)</a></li>
		<li><a href="http://onelose.com/record/201412">2014年12月(46)</a></li>
		<li><a href="http://onelose.com/record/201411">2014年11月(16)</a></li>
		<li><a href="http://onelose.com/record/201410">2014年10月(18)</a></li>
		<li><a href="http://onelose.com/record/201409">2014年9月(9)</a></li>
		<li><a href="http://onelose.com/record/201408">2014年8月(10)</a></li>
		<li><a href="http://onelose.com/record/201407">2014年7月(17)</a></li>
		<li><a href="http://onelose.com/record/201406">2014年6月(5)</a></li>
		<li><a href="http://onelose.com/record/201405">2014年5月(7)</a></li>
		<li><a href="http://onelose.com/record/201404">2014年4月(21)</a></li>
		<li><a href="http://onelose.com/record/201402">2014年2月(7)</a></li>
		<li><a href="http://onelose.com/record/201401">2014年1月(2)</a></li>
		<li><a href="http://onelose.com/record/201309">2013年9月(3)</a></li>
		<li><a href="http://onelose.com/record/201308">2013年8月(5)</a></li>
		<li><a href="http://onelose.com/record/201307">2013年7月(4)</a></li>
		<li><a href="http://onelose.com/record/201105">2011年5月(2)</a></li>
		<li><a href="http://onelose.com/record/201104">2011年4月(3)</a></li>
		<li><a href="http://onelose.com/record/201103">2011年3月(8)</a></li>
		<li><a href="http://onelose.com/record/201102">2011年2月(4)</a></li>
		<li><a href="http://onelose.com/record/201101">2011年1月(7)</a></li>
		<li><a href="http://onelose.com/record/201012">2010年12月(18)</a></li>
		<li><a href="http://onelose.com/record/201011">2010年11月(4)</a></li>
		<li><a href="http://onelose.com/record/201010">2010年10月(18)</a></li>
		<li><a href="http://onelose.com/record/201009">2010年9月(1)</a></li>
		<li><a href="http://onelose.com/record/201008">2010年8月(1)</a></li>
		<li><a href="http://onelose.com/record/201003">2010年3月(1)</a></li>
		</ul>
	</li>
	<li>
	<h3><span>链接</span></h3>
	<ul id="link">
		<li><a href="http://www.swoole.com/" title="Swoole：重新定义PHP" target="_blank">Swoole</a></li>
		<li><a href="http://rango.swoole.com/" title="" target="_blank">韩天峰(Rango)</a></li>
		<li><a href="http://www.laruence.com/" title="" target="_blank">风雪之隅</a></li>
		<li><a href="http://blog.csdn.net/ldy3243942" title="" target="_blank">ldy3243942的专栏</a></li>
		<li><a href="http://programmer.csdn.net/" title="" target="_blank">程序员</a></li>
		<li><a href="http://www.mysqlsupport.cn/" title="" target="_blank">mysqlsupport</a></li>
		<li><a href="http://www.ttlsa.com/" title="" target="_blank">运维生存时间</a></li>
		<li><a href="http://imysql.com/" title="" target="_blank">MySQL中文网</a></li>
		<li><a href="http://jinnianshilongnian.iteye.com/" title="" target="_blank">开涛的博客</a></li>
		<li><a href="http://www.imsiren.com/" title="Where Amaze happen，Where I Am !" target="_blank">斯人-吴帅</a></li>
		<li><a href="http://blog.41ms.com/" title="" target="_blank">松鼠先生</a></li>
		</ul>
	</li>
	<li>
	<h3><span>蝴蝶</span></h3>
	<ul>
	<CENTER><EMBED style="RIGHT: 10px; POSITION: absolute; TOP: -40px" align=right src=http://onelose.com/butterfly.swf width=160 height=200 type=application/x-shockwave-flash wmode="transparent" quality="high" ;></CENTER>	</ul>
	</li>
<div class="rss">
<a href="http://onelose.com/rss.php" title="RSS订阅"><img src="http://onelose.com/content/templates/dpp_icecream_02/images/rss.gif" alt="订阅Rss"/></a>
</div>
</ul><!--end #siderbar-->
</div><!--end #content-->
<div style="clear:both;"></div>
<div id="footerbar">
	Design By blogbus | Theme By <a href="http://onelose.com" title="迷茫者博客">迷茫者</a> | Powered by <a href="http://www.emlog.net" title="emlog 5.1.2">emlog</a> |  
	<a href="http://www.miibeian.gov.cn" target="_blank">苏ICP备10020146号-1</a> | 	
<script type="text/javascript">$(function(){$.get("http://onelose.com/?plugin=autopub");})</script>
<a href="http://onelose.com/sitemap.xml" rel="sitemap">sitemap</a></div><!--end #footerbar-->
</div><!--end #wrap-->
<script>prettyPrint();</script>

<div id="returnhome"><a href="#"><img src="http://onelose.com/content/templates/dpp_icecream_02/images/home.png" title="返回" alt="header" id="returnhome_img"></a></div>

</body>
</html>