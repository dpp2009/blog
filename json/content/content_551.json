{"gid":"551","title":"\u4fee\u6539MySQL\u9ed8\u8ba4\u6570\u636e\u5e93\u5b58\u653e\u8def\u5f84","date":"1396476000","content":"\r\n <div>\r\n  \u4fee\u6539MySQL\u9ed8\u8ba4\u6570\u636e\u5e93\u5b58\u653e\u8def\u5f84 \r\n <div> \r\n  <div style='background-color:rgb(255, 255, 255);color:rgb(51, 51, 51);font-family:Arial;'> \r\n   <p><br><strong>Windows\u7cfb\u7edf\uff1a<\/strong><br><span style='font-family: arial;'><br>\u628aMySQL\u88c5\u5728\u4e86C:\\Program Files\\MySQL\\MySQL Server 5.0\uff0c\u9ed8\u8ba4\u7684\u6570\u636e\u5e93\u6587\u4ef6\u662f\u653e\u5728C:\\Program Files\\MySQL\\MySQL Server 5.0\\data\u4e0b\u3002&nbsp;<\/span><br style='font-family: arial;'><br style='font-family: arial;'><span style='font-family: arial;'>\u4f46\u73b0\u5728\u5728D\u76d8\u4e0b\u505a\u9879\u76ee\uff0c\u56e0\u6b64\u4e00\u4e2a\u6570\u636e\u5e93\u5c31\u653e\u5728\u4e86D\u76d8\uff0c\u8def\u7ecf\u662f\u8fd9\u6837\u7684\uff1aD:\\eclipse\\workspace\\pro1\\lib\\db\u3002&nbsp;<\/span><br style='font-family: arial;'><br style='font-family: arial;'><span style='font-family: arial;'>\u627e\u5230\u4e86my.ini\u7684\u914d\u7f6e\u6587\u4ef6\u4e2d\u7684\uff1a&nbsp;<\/span><br style='font-family: arial;'><br style='font-family: arial;'><span style='font-family: arial;'>datadir='C:\/Program Files\/MySQL\/MySQL Server 5.0\/Data\/'&nbsp;<\/span><br style='font-family: arial;'><br style='font-family: arial;'><span style='font-family: arial;'>\u5c06\u5176\u4fee\u6539\u6210\uff1adatadir='D:\/eclipse\/workspace \/pro1\/lib\/db\/'&nbsp;<\/span><br style='font-family: arial;'><br style='font-family: arial;'><span style='font-family: arial;'>BUT\u6211\u91cd\u542f\u7684\u65f6\u5019\uff0cMySQL\u670d\u52a1\u542f\u52a8\u4e0d\u4e86\u4e86\u3002\u800c\u4e14\u7528MySQL-Front\u8fde\u63a5\u7684\u65f6\u5019\u63d0\u793a\uff1a \u4e3b\u673a127.0.0.1\u627e\u4e0d\u5230\u3002&nbsp;<\/span><br style='font-family: arial;'><br style='font-family: arial;'><span style='font-family: arial;'>\u7b54\uff1a<\/span><br style='font-family: arial;'><br style='font-family: arial;'><span style='font-family: arial;'>\u4f7f\u7528\u7b26\u53f7\u94fe\u63a5\u5427\uff0c\u4e0b\u9762\u662fmysql 5.0\u624b\u518c\u4e0a\u7684\u4f8b\u5b50\u3002&nbsp;<\/span><br style='font-family: arial;'><br style='font-family: arial;'><span style='font-family: arial;'>Suppose that the MySQL data directory is C:\\mysql\\data and you want to have database foo located at D:\\data\\foo. Set up a symlink using this procedure&nbsp;<\/span><br style='font-family: arial;'><br style='font-family: arial;'><span style='font-family: arial;'>Make sure that the D:\\data\\foo directory exists by creating it if necessary. If you already have a database directory named foo in the data directory, you should move it to D:\\data. Otherwise, the symbolic link will be ineffective. To avoid problems, make sure that the server is not running when you move the database directory.&nbsp;<\/span><br style='font-family: arial;'><br style='font-family: arial;'><span style='font-family: arial;'>Create a text file C:\\mysql\\data\\foo.sym that contains the pathname D:\\data\\foo\\.&nbsp;<\/span><br style='font-family: arial;'><br style='font-family: arial;'><span style='font-family: arial;'>After this, all tables created in the database foo are created in D:\\data\\foo. Note that the symbolic link is not used if a directory with the same name as the database exists in the MySQL data directory.&nbsp;<\/span><br style='font-family: arial;'><br style='font-family: arial;'><span style='font-family: arial;'>\u5047\u8bbe\u4f60\u7684mysql\u5b89\u88c5\u5728c:\\mysql,\u6570\u636e\u76ee\u5f55\u5c31\u662fc:\\mysql\\data,\u73b0\u5728\u4f60\u60f3\u5728D \u76d8\u5efa\u7acb\u4e00\u4e2a\u540d\u4e3afoo\u7684\u6570\u636e\u5e93\uff0c\u8def\u5f84\u4e3ad:\\data\\foo.&nbsp;<\/span><br style='font-family: arial;'><br style='font-family: arial;'><span style='font-family: arial;'>\u9996\u5148\uff1a\u4fdd\u8bc1d:\\data\\foo\u76ee\u5f55\u5b58\u5728\uff0c\u5982\u679c\u6ca1\u6709\u5c31\u521b\u5efa\u6216 \u8005\u4f60c:\\mysql\\data\u4e0b\u9762\u6709\uff0c\u5c31\u628a\u5b83\u526a\u5207\u8fc7\u6765\uff0c\u5f53\u7136\u5728\u505c\u6b62mysql\u7684\u60c5\u51b5\u4e0b\u4f5c\u79fb\u52a8\uff0c\u5426\u5219\u662f\u4e0d\u8d77\u4efb\u4f55\u4f5c\u7528\u7684\u3002&nbsp;<\/span><br style='font-family: arial;'><br style='font-family: arial;'><span style='font-family: arial;'>\u518d\u6b21\uff1a \u5728c:\\mysql\\data\u76ee\u5f55\u4e0b\u5efa\u7acb\u4e00\u4e2a\u6587\u672c\u6587\u4ef6\u547d\u540d\u4e3afoo.sym\uff0c\u6587\u4ef6\u540d\u4e0e\u6570\u636e\u5e93\u540d\u76f8\u540c\uff0c\u540e\u7f00\u540d\u4e3asym\uff0c\u91cc\u9762\u7684\u5185\u5bb9\u4e3a\uff1aD:\\data \\foo\\\uff0c\u5c31\u662ffoo\u6570\u636e\u5e93\u7684\u7edd\u5bf9\u8def\u5f84\u3002<\/span><br><br><br><strong>Linux\u7cfb\u7edf\uff1a<\/strong><br><br>linux\u4e0b\uff0cMySQL\u9ed8\u8ba4\u7684\u6570\u636e\u6587\u6863\u5b58\u50a8\u76ee\u5f55\u4e3a\/var\/lib\/mysql\u3002\u5047\u5982\u8981\u628aMySQL\u76ee\u5f55\u79fb\u5230\/home\/data\u4e0b\u9700\u8981\u8fdb\u884c\u4e0b\u9762\u51e0\u6b65\uff1a<br><br>\u3000\u30001\u3001home\u76ee\u5f55\u4e0b\u5efa\u7acbdata\u76ee\u5f55<br><br>\u3000\u3000cd \/home<br><br>\u3000\u3000mkdir data<br><br>\u3000\u30002\u3001\u628aMySQL\u670d\u52a1\u8fdb\u7a0b\u505c\u6389\uff1a<br><br>\u3000\u3000mysqladmin -u root -p shutdown<br><br>\u3000\u30003\u3001\u628a\/var\/lib\/mysql\u6574\u4e2a\u76ee\u5f55\u79fb\u5230\/home\/data<br><br>\u3000\u3000mv \/var\/lib\/mysql\u3000\/home\/data\/<br><br>\u3000\u3000\u8fd9\u6837\u5c31\u628aMySQL\u7684\u6570\u636e\u6587\u6863\u79fb\u52a8\u5230\u4e86\/home\/data\/mysql\u4e0b<br><br>\u3000\u30004\u3001\u627e\u5230my.cnf\u914d\u7f6e\u6587\u6863<br><br>\u3000\u3000\u5047\u5982\/etc\/\u76ee\u5f55\u4e0b\u6ca1\u6709my.cnf\u914d\u7f6e\u6587\u6863\uff0c\u8bf7\u5230\/usr\/share\/mysql\/\u4e0b\u627e\u5230*.cnf\u6587\u6863\uff0c\u62f7\u8d1d\u5176\u4e2d\u4e00\u4e2a\u5230\/etc\/\u5e76\u6539\u540d\u4e3amy.cnf)\u4e2d\u3002\u547d\u4ee4\u5982\u4e0b\uff1a<br><br>\u3000\u3000[root@test1 mysql]# cp \/usr\/share\/mysql\/my-medium.cnf\u3000\/etc\/my.cnf<br><br>\u3000\u30005\u3001\u7f16\u8f91MySQL\u7684\u914d\u7f6e\u6587\u6863\/etc\/my.cnf<br><br>\u3000\u3000\u4e3a\u786e\u4fddMySQL\u80fd\u591f\u6b63\u5e38\u5de5\u4f5c\uff0c\u9700\u8981\u6307\u660emysql.sock\u6587\u6863\u7684\u4ea7\u751f\u4f4d\u7f6e\u3002\u4fee\u6539socket=\/var\/lib\/mysql\/mysql.sock\u4e00\u884c\u4e2d\u7b49\u53f7\u53f3\u8fb9\u7684\u503c\u4e3a\uff1a\/home\/mysql\/mysql.sock \u3002\u64cd\u4f5c\u5982\u4e0b\uff1a<br><br>\u3000\u3000vi\u3000 my.cnf\u3000\u3000\u3000 (\u7528vi\u5de5\u5177\u7f16\u8f91my.cnf\u6587\u6863\uff0c\u627e\u5230\u4e0b\u5217\u6570\u636e\u4fee\u6539\u4e4b)<br><br>\u3000\u3000# The MySQL server<br><br>\u3000\u3000[mysqld]<br><br>\u3000\u3000port\u3000\u3000\u3000= 3306<br><br>\u3000\u3000#socket\u3000 = \/var\/lib\/mysql\/mysql.sock(\u539f\u5185\u5bb9\uff0c\u4e3a\u4e86\u66f4\u7a33\u59a5\u7528\u201c#\u201d\u6ce8\u91ca\u6b64\u884c)<br><br>\u3000\u3000socket\u3000 = \/home\/data\/mysql\/mysql.sock\u3000\u3000\u3000(\u52a0\u4e0a\u6b64\u884c)<br><br>\u3000\u30006\u3001\u4fee\u6539MySQL\u542f\u52a8\u811a\u672c\/etc\/init.d\/mysql<br><br>\u3000\u3000\u6700\u540e\uff0c\u9700\u8981\u4fee\u6539MySQL\u542f\u52a8\u811a\u672c\/etc\/init.d\/mysql\uff0c\u628a\u5176\u4e2ddatadir=\/var\/lib\/mysql\u4e00\u884c\u4e2d\uff0c\u7b49\u53f7\u53f3\u8fb9\u7684\u8def\u5f84\u6539\u6210\u60a8\u73b0\u5728\u7684\u5b9e\u9645\u5b58\u653e\u8def\u5f84\uff1ahome\/data\/mysql\u3002<br><br>\u3000\u3000[root@test1 etc]# vi\u3000\/etc\/init.d\/mysql<br><br>\u3000\u3000#datadir=\/var\/lib\/mysql\u3000\u3000\u3000\u3000(\u6ce8\u91ca\u6b64\u884c)<br><br>\u3000\u3000datadir=\/home\/data\/mysql\u3000\u3000 (\u52a0\u4e0a\u6b64\u884c)<br><br>&nbsp; &nbsp; \u5982\u679c\u662fCentOS\u8fd8\u8981\u6539 \/usr\/bin\/mysqld_safe \u76f8\u5173\u6587\u4ef6\u4f4d\u7f6e\uff1b<br><br>&nbsp; &nbsp; \u6700\u540e \u505a\u4e00\u4e2amysql.sock \u94fe\u63a5\uff1a<br>ln -s \/home\/data\/mysql\/mysql.sock \/var\/lib\/mysql\/mysql.sock<br>\u3000\u30007\u3001\u91cd\u65b0\u542f\u52a8MySQL\u670d\u52a1<br><br>\u3000\u3000\/etc\/init.d\/mysql\u3000start<br><br>\u3000\u3000\u6216\u7528reboot\u547d\u4ee4\u91cd\u542fLinux<br><br>\u3000\u3000\u5047\u5982\u5de5\u4f5c\u6b63\u5e38\u79fb\u52a8\u5c31\u6210\u529f\u4e86\uff0c\u5426\u5219\u5bf9\u7167\u524d\u9762\u76847\u6b65\u518d\u68c0\u67e5\u4e00\u4e0b\u3002\u8fd8\u8981\u6ce8\u610f\u76ee\u5f55\u7684\u5c5e\u4e3b\u548c\u6743\u9650\u3002<br><br>&nbsp; &nbsp; \u590d\u5236\u5185\u5bb9\u5230\u526a\u8d34\u677f&nbsp;<br>\u4ee3\u7801:<br>[root@sample ~]# chown -R mysql:mysql \/home\/data\/mysql\/\u3000 \u2190 \u6539\u53d8\u6570\u636e\u5e93\u7684\u5f52\u5c5e\u4e3amysql<br><br>[root@sample ~]# chmod 700 \/home\/data\/mysql\/test\/\u3000 \u2190 \u6539\u53d8\u6570\u636e\u5e93\u76ee\u5f55\u5c5e\u6027\u4e3a700<br><br>[root@sample ~]# chmod 660 \/home\/data\/mysql\/test\/*\u3000 \u2190 \u6539\u53d8\u6570\u636e\u5e93\u4e2d\u6570\u636e\u7684\u5c5e\u6027\u4e3a660<\/p> \r\n  <\/div> \r\n <\/div> \r\n<\/div>\r\n ","excerpt":"\u00a0\u4fee\u6539MySQL\u9ed8\u8ba4\u6570\u636e\u5e93\u5b58\u653e\u8def\u5f84Windows\u7cfb\u7edf\uff1a\u628aMySQL\u88c5\u5728\u4e86C:\\\\ProgramFiles\\\\MySQL\\\\MySQLServer5.0\uff0c\u9ed8\u8ba4\u7684\u6570\u636e\u5e93\u6587\u4ef6\u662f\u653e\u5728C:\\\\ProgramFiles\\\\MySQL\\\\MySQLServer5.0\\\\data\u4e0b\u3002\u4f46\u73b0\u5728\u5728D\u76d8\u4e0b\u505a\u9879\u76ee\uff0c\u56e0\u6b64\u4e00\u4e2a\u6570\u636e","author":"1","sortid":"19","type":"blog","views":"39","comnum":"0","tbcount":"0","attnum":"0","top":"n","hide":"n","allow_remark":"y","allow_tb":"y","password":"","thumb":"0","alias":""}