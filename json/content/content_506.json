{"gid":"506","title":"phpize\u5b66\u4e60","date":"1405288800","content":"\r\n <div> \r\n <p style='background-color: rgb(255, 255, 255); color: rgb(51, 51, 51); font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 13px;'>Compiling shared PECL extensions with phpize<br><br>Sometimes, using the pecl installer is not an option. This could be because you're behind a firewall, or it could be because the extension you want to install is not available as a PECL compatible package, such as unreleased extensions from SVN. If you need to build such an extension, you can use the lower-level build tools to perform the build manually.<br><br>The phpize command is used to prepare the build environment for a PHP extension. In the following sample, the sources for an extension are in a directory named extname:<br><br>$ cd extname&nbsp; \u8fdb\u5165\u5230\u6e90\u7801\u5305\u4e2d\u7684\u6269\u5c55\u76ee\u5f55\uff0c\u8fd9\u4e2a\u6269\u5c55\u76ee\u5f55\uff0c\u901a\u4fd7\u7406\u89e3\uff0c\u5982\u679c\u8981\u5b89\u88c5\u64cd\u4f5cgd\u5e93,\u90a3\u4e48\u4e0b\u8f7d\u5230\u8fd9\u4e2a\u5e93\u7684\u6e90\u7801\u540e\uff0c\u89e3\u538b\u6e90\u7801\u4f1a\u6709\u4e2a\u4e00\u4e2a\u76ee\u5f55\uff0c\u8fdb\u5165\u8fd9\u4e2a\u76ee\u5f55\u3002<br>$ phpize&nbsp; \u8fd0\u884cphpize\u3002\u8def\u5f84\u4e0d\u4e00\u5b9a\u5728\u8fd9\u4e2a\u76ee\u5f55\u4e0b\uff0c\u4f46\u4e00\u822c\u662f\u5728\u5b89\u88c5\u76ee\u5f55\u4e0b(\u6309\u7167\u6211\u7406\u89e3,\u6bcf\u4e2aphpize\u4e0e\u5177\u4f53\u7684\u7248\u672c\u6709\u5173,\u4e0d\u53ef\u80fd\u901a\u7528)\uff0c\u53bb\u5bfb\u627ephpize\u8fd0\u884c\u3002\u4e4b\u540e\u4f1a\u751f\u6210\u4e86\u4e00\u4e2aconfigure\u6587\u4ef6<br>$ .\/configure&nbsp;&nbsp;&nbsp;&nbsp; \u8fd0\u884c\u3002&nbsp;&nbsp;&nbsp; \u5982\u679c\u751f\u6210\u57fa\u4e8e\u6570\u636e\u5e93\u7684\u6269\u5c55\uff0c\u9700\u8981\u52a0\u4e0a\u53c2\u6570\u8fd0\u884c\uff1a1,--with-php-config\u30022,'--with-\u5177\u4f53\u7684\u6570\u636e\u5e93\u53c2\u6570'.\u6bd4\u5982, --with-pgsql\u3001--with-mysql<br>$ make<br># make install \u5c06\u4f1a\u751f\u6210\u4e00\u4e2aextname.so\u7684\u6269\u5c55\uff0c\u88ab\u653e\u5230\u4e86PHP extensions directory<\/p> \r\n <p style='background-color: rgb(255, 255, 255); color: rgb(51, 51, 51); font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 13px;'>&nbsp;<\/p> \r\n <p style='background-color: rgb(255, 255, 255); color: rgb(51, 51, 51); font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 13px;'><br><strong>A successful install will have created extname.so and put it into the PHP extensions directory(<\/strong>\u751f\u6210\u4e00\u4e2a.so\u6587\u4ef6\uff0c\u81ea\u52a8\u653e\u5230php\u7684\u6269\u5c55\u76ee\u5f55\u4e0b\u53bb\uff0c\u6211\u89c9\u5f97\u5e94\u8be5\u662fphpize\u80fd\u591f\u81ea\u52a8\u4fa6\u6d4b\u5230php\u6269\u5c55\u76ee\u5f55\u7684\u4f4d\u7f6e<strong>)<\/strong>.<\/p> \r\n <p style='background-color: rgb(255, 255, 255); color: rgb(51, 51, 51); font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 13px;'>You'll need to and adjust php.ini and add an extension=extname.so line before you can use the extension.<br><br>If the system is missing the phpize command, and precompiled packages (like RPM's) are used, be sure to also install the appropriate devel version of the PHP package as they often include the phpize command along with the appropriate header files to build PHP and its extensions.<br><br>Execute phpize --help to display additional usage information.<br><br><br>phpize\u7684\u4f5c\u7528\u53ef\u4ee5\u8fd9\u6837\u7406\u89e3\uff1a\u4fa6\u6d4b\u73af\u5883(phpize\u5de5\u5177\u662f\u5728php\u5b89\u88c5\u76ee\u5f55\u4e0b,\u57fa\u4e8e\u8fd9\u70b9phpize\u5bf9\u5e94\u4e86\u5f53\u65f6\u7684php\u73af\u5883\uff0c\u6240\u4ee5\u662f\u8981\u6839\u636e\u8be5php\u7684\u914d\u7f6e\u60c5\u51b5\u751f\u6210\u5bf9\u5e94\u7684configure\u6587\u4ef6)\uff0c\u5efa\u7acb\u4e00\u4e2aconfigure\u6587\u4ef6\u3002\u5fc5\u987b\u5728\u4e00\u4e2a\u76ee\u5f55\u4e0b\u53bb\u8fd0\u884cphpize\u3002\u90a3\u4e48phpize\u5c31\u77e5\u9053\u4f60\u7684\u7684\u73af\u5883\u662f\u54ea\u4e2a\u76ee\u5f55\uff0c\u5e76\u4e14configure\u6587\u4ef6\u5efa\u7acb\u5728\u8be5\u76ee\u5f55\u4e0b\u3002<\/p> \r\n <p style='background-color: rgb(255, 255, 255); color: rgb(51, 51, 51); font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 13px;'>\u6b65\u9aa4\u603b\u7ed3\uff1a<\/p> \r\n <p style='background-color: rgb(255, 255, 255); color: rgb(51, 51, 51); font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 13px;'>\u4e00\u3001cd \/usr\/src\/php\u6e90\u7801\u5305\u76ee\u5f55\/ext\/\u6269\u5c55\u76ee\u5f55\/&nbsp;&nbsp;<br><br>\u4e8c\u3001\/usr\/local\/php5314\/bin\/phpize<br><br><br>\u4e09\u3001.\/configure --with-php-config=\/usr\/local\/php5314\/bin\/php-config<br><br>\u56db\u3001make &amp;&amp; make install<br><br>\u4e94\u3001\u5269\u4e0b\u662f\u914d\u7f6ephp.ini<\/p> \r\n <p style='background-color: rgb(255, 255, 255); color: rgb(51, 51, 51); font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 13px;'>&nbsp;<\/p> \r\n <p style='background-color: rgb(255, 255, 255); color: rgb(51, 51, 51); font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 13px;'><br><br><br><strong>\u5047\u5982\u4f60\u7684\u670d\u52a1\u5668\u4e0a\u5b89\u88c5\u4e86\u591a\u4e2a\u7248\u672cphp\uff0c\u90a3\u4e48\u9700\u8981\u544a\u8bc9phpize\u8981\u5efa\u7acb\u57fa\u4e8e\u54ea\u4e2a\u7248\u672c\u7684\u6269\u5c55\u3002\u901a\u8fc7\u4f7f\u7528--with-php-config=\u6307\u5b9a\u4f60\u4f7f\u7528\u54ea\u4e2aphp\u7248\u672c\u3002<\/strong><br><br>\u6bd4\u5982\uff1a--with-php-config=\/usr\/local\/php524\/bin\/php-config&nbsp;&nbsp;<br><br>\u5173\u4e8ephp-config\u6587\u4ef6\uff1a\u662f\u5728php\u7f16\u8bd1\u751f\u6210\u540e(\u5b89\u88c5\u597d)\uff0c\u653e\u5728\u5b89\u88c5\u76ee\u5f55\u4e0b\u7684\u4e00\u4e2a\u6587\u4ef6\u3002\u6253\u5f00phpize\u6587\u4ef6\u5185\u5bb9\u4f1a\u53d1\u73b0\uff0c\u91cc\u9762\u5b9a\u4e49\u597d\u4e86php\u7684\u5b89\u88c5\u76ee\u5f55\u7b49\u53d8\u91cf<\/p> \r\n <p style='background-color: rgb(255, 255, 255); color: rgb(51, 51, 51); font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 13px;'>prefix='\/usr\/local\/php'<\/p> \r\n <p style='background-color: rgb(255, 255, 255); color: rgb(51, 51, 51); font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 13px;'>phpize\u662f\u7f16\u8bd1\u5b89\u88c5\u65f6\u5019\u751f\u6210\u597d\u7684\uff0c\u8bb0\u5f55\u4e86\u5f53\u65f6\u5b89\u88c5\u7684\u4e00\u4e9b\u4fe1\u606f\u3002\u5e76\u4e0d\u80fd\u4ece\u5176\u4ed6\u5730\u65b9\u62ff\u4e2aphpize\u6765\u4f7f\u7528\u3002<\/p> \r\n <p style='background-color: rgb(255, 255, 255); color: rgb(51, 51, 51); font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 13px;'>&nbsp;phpize\u662f\u5728php\u5b89\u88c5\u76ee\u5f55\u4e0b\u7684\u4e00\u4e2a\u6587\u4ef6\u3002\u6bd4\u5982\u6211\u5b89\u88c5\u4e86\u4e24\u4e2aphp5.2 \u548cphp5.3\u90a3\u4e48\u4f7f\u7528phpize\u4e5f\u8981<strong>\u4f7f\u7528\u5bf9\u5e94\u7248\u672c\u7684phpize\u624d\u884c<\/strong>\u3002\u6b64\u65f6\u4f7f\u7528--with-php-config\u6709\u4ec0\u4e48\u4f5c\u7528\uff1f<\/p> \r\n <p style='background-color: rgb(255, 255, 255); color: rgb(51, 51, 51); font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 13px;'>&nbsp;<\/p> \r\n <p style='background-color: rgb(255, 255, 255); color: rgb(51, 51, 51); font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 13px;'>phpize\u5de5\u5177\u4e00\u822c\u5728\u54ea\u91cc\uff1f<\/p> \r\n <p style='background-color: rgb(255, 255, 255); color: rgb(51, 51, 51); font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 13px;'>\u5f53php\u7f16\u8bd1\u5b8c\u6210\u540e\uff0c<strong>php\u5b89\u88c5\u76ee\u5f55\u4e0b\u7684bin\u76ee\u5f55\u4e0b\u4f1a\u6709phpize\u8fd9\u4e2a\u811a\u672c\u6587\u4ef6<\/strong>\u3002\u6240\u4ee5\u662f\u53bb\u5b89\u88c5\u597d\u7684php\u5b89\u88c5\u76ee\u5f55\u53bb\u627e\u3002<\/p> \r\n<\/div>\r\n ","excerpt":"\u00a0CompilingsharedPECLextensionswithphpizeSometimes,usingthepeclinstallerisnotanoption.Thiscouldbebecauseyou\\'rebehindafirewall,ori","author":"1","sortid":"19","type":"blog","views":"43","comnum":"0","tbcount":"0","attnum":"0","top":"n","hide":"n","allow_remark":"y","allow_tb":"y","password":"","thumb":"0","alias":""}