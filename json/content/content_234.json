{"gid":"234","title":"MySQLexplain\u6267\u884c\u8ba1\u5212\u89e3\u8bfb","date":"1427752800","content":"\r\n <div> \r\n <p style='background-color: rgb(255, 255, 255); font-family: Arial;'>\u672c\u6587\u6211\u4eec\u4e3b\u8981\u4ecb\u7ecd\u4e86MySQL\u6027\u80fd\u5206\u6790\u4ee5\u53caexplain\u7684\u4f7f\u7528\uff0c\u5305\u62ec\uff1a\u7ec4\u5408\u7d22\u5f15\u3001\u6162\u67e5\u8be2\u5206\u6790\u3001MYISAM\u548cINNODB\u7684\u9501\u5b9a\u3001MYSQL\u7684\u4e8b\u52a1\u914d\u7f6e\u9879\u7b49\uff0c\u5e0c\u671b\u80fd\u591f\u5bf9\u60a8\u6709\u6240\u5e2e\u52a9\u3002<\/p> \r\n <p style='background-color: rgb(255, 255, 255); font-family: Arial;'><span style='font-size:18px;'><strong>1.\u4f7f\u7528explain\u8bed\u53e5\u53bb\u67e5\u770b\u5206\u6790\u7ed3\u679c&nbsp;<br><\/strong><\/span>\u5982explain select * from test1 where id=1;\u4f1a\u51fa\u73b0\uff1aid selecttype table type possible_keys key key_len ref rows extra\u5404\u5217\u3002<\/p> \r\n <p style='background-color: rgb(255, 255, 255); font-family: Arial;'><img src='http:\/\/note.youdao.com\/yws\/res\/2711\/213F83E20E7E4B24B9B29051FB8EB2A4' data-media-type='image'><\/p> \r\n <p style='background-color: rgb(255, 255, 255); font-family: Arial;'><img src='http:\/\/note.youdao.com\/yws\/res\/2708\/D8CC935E15A94AEFA514D74D1D077CE5' data-media-type='image'><br>\u5176\u4e2d\uff0c&nbsp;<br>type=const\u8868\u793a\u901a\u8fc7\u7d22\u5f15\u4e00\u6b21\u5c31\u627e\u5230\u4e86\uff1b&nbsp;<br>key=primary\u7684\u8bdd\uff0c\u8868\u793a\u4f7f\u7528\u4e86\u4e3b\u952e\uff1b&nbsp;<br>type=all,\u8868\u793a\u4e3a\u5168\u8868\u626b\u63cf\uff1b&nbsp;<br>key=null\u8868\u793a\u6ca1\u7528\u5230\u7d22\u5f15\u3002<\/p> \r\n <p style='background-color: rgb(255, 255, 255); font-family: Arial;'>type=ref\uff0c\u56e0\u4e3a\u8fd9\u65f6\u8ba4\u4e3a\u662f\u591a\u4e2a\u5339\u914d\u884c\uff0c\u5728\u8054\u5408\u67e5\u8be2\u4e2d\uff0c\u4e00\u822c\u4e3aREF\u3002<\/p> \r\n <p style='background-color: rgb(255, 255, 255); font-family: Arial;'>&nbsp;<\/p> \r\n <p style='background-color: rgb(255, 255, 255); font-family: Arial;'><strong><span style='font-size:18px;'>2.MYSQL\u4e2d\u7684\u7ec4\u5408\u7d22\u5f15&nbsp;<br><\/span><\/strong>\u5047\u8bbe\u8868\u6709id,key1,key2,key3,\u628a\u4e09\u8005\u5f62\u6210\u4e00\u4e2a\u7ec4\u5408\u7d22\u5f15\uff0c\u5219\u5982\uff1a&nbsp;<br>\u590d\u5236\u4ee3\u7801 \u4ee3\u7801\u5982\u4e0b:<\/p> \r\n <div style='background-color: rgb(231, 229, 220); font-family: Consolas, 'Courier New', Courier, mono, serif; font-size: 12px;'> \r\n  <div style='background-color: rgb(248, 248, 248); color: silver; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 9px;'> \r\n   <b>[sql]<\/b>&nbsp; \r\n   <a title='view plain' href='http:\/\/blog.csdn.net\/xifeijian\/article\/details\/19773795#' style='color: rgb(160, 160, 160);'>view plain<\/a> \r\n   <a title='copy' href='http:\/\/blog.csdn.net\/xifeijian\/article\/details\/19773795#' style='color: rgb(160, 160, 160);'>copy<\/a> \r\n   <a title='\u5728CODE\u4e0a\u67e5\u770b\u4ee3\u7801\u7247' href='https:\/\/code.csdn.net\/snippets\/213907' target='_blank' style='color: rgb(160, 160, 160);'><img src='http:\/\/note.youdao.com\/yws\/res\/2713\/915EC9F41D6E46F6A18DA7DE33FC3FA9' alt='\u5728CODE\u4e0a\u67e5\u770b\u4ee3\u7801\u7247' width='12' height='12' data-media-type='image'><\/a> \r\n   <a title='\u6d3e\u751f\u5230\u6211\u7684\u4ee3\u7801\u7247' href='https:\/\/code.csdn.net\/snippets\/213907\/fork' target='_blank' style='color: rgb(160, 160, 160);'><img src='https:\/\/code.csdn.net\/assets\/ico_fork.svg' alt='\u6d3e\u751f\u5230\u6211\u7684\u4ee3\u7801\u7247' width='12' height='12' data-media-type='image'><\/a> \r\n  <\/div> \r\n  <ol start='1' style='background-color:rgb(255, 255, 255);color:rgb(92, 92, 92);'> \r\n   <li style='background-color:rgb(255, 255, 255);color:inherit;'><span style='color: black;'><span style='color: rgb(0, 102, 153); font-weight: bold;'>where<\/span>&nbsp;key1=....&nbsp;&nbsp;&nbsp;<\/span><\/li> \r\n   <li style='background-color: rgb(248, 248, 248);'><span style='color: black;'><span style='color: rgb(0, 102, 153); font-weight: bold;'>where<\/span>&nbsp;key1=1&nbsp;<span style='color: rgb(128, 128, 128);'>and<\/span>&nbsp;key2=2&nbsp;&nbsp;&nbsp;<\/span><\/li> \r\n   <li style='background-color:rgb(255, 255, 255);color:inherit;'><span style='color: black;'><span style='color: rgb(0, 102, 153); font-weight: bold;'>where<\/span>&nbsp;key1=3&nbsp;<span style='color: rgb(128, 128, 128);'>and<\/span>&nbsp;key3=3&nbsp;<span style='color: rgb(128, 128, 128);'>and<\/span>&nbsp;key2=2&nbsp;&nbsp;&nbsp;<\/span><\/li> \r\n  <\/ol> \r\n <\/div> \r\n <p style='background-color: rgb(255, 255, 255); font-family: Arial;'>\u6839\u636e\u6700\u5de6\u524d\u7f00\u539f\u5219\uff0c\u8fd9\u4e9b\u90fd\u662f\u53ef\u4ee5\u4f7f\u7528\u7d22\u5f15\u7684\uff0c\u5982from test where key1=1 order by key3\uff0c\u7528explain\u5206\u6790\u7684\u8bdd\uff0c\u53ea\u7528\u5230\u4e86normal_key\u7d22\u5f15\uff0c\u4f46\u53ea\u5bf9where\u5b50\u53e5\u8d77\u4f5c\u7528\uff0c\u800c\u540e\u9762\u7684order by\u9700\u8981\u6392\u5e8f\u3002<\/p> \r\n <p style='background-color: rgb(255, 255, 255); font-family: Arial;'>&nbsp;<\/p> \r\n <p style='background-color: rgb(255, 255, 255); font-family: Arial;'><strong><span style='font-size:18px;'>3.\u4f7f\u7528\u6162\u67e5\u8be2\u5206\u6790\uff08\u5b9e\u7528\uff09<br><\/span><\/strong>\u5728my.ini\u4e2d\uff1a&nbsp;<br>long_query_time=1&nbsp;<br>log-slow-queries=d:\\mysql5\\logs\\mysqlslow.log&nbsp;<br>\u628a\u8d85\u8fc71\u79d2\u7684\u8bb0\u5f55\u5728\u6162\u67e5\u8be2\u65e5\u5fd7\u4e2d&nbsp;<br>\u53ef\u4ee5\u7528mysqlsla\u6765\u5206\u6790\u4e4b\u3002\u4e5f\u53ef\u4ee5\u5728mysqlreport\u4e2d\uff0c\u6709\u5982&nbsp;<br>DMS\u5206\u522b\u5206\u6790\u4e86select ,update,insert,delete,replace\u7b49\u6240\u5360\u7684\u767e\u5206\u6bd4<\/p> \r\n <p style='background-color: rgb(255, 255, 255); font-family: Arial;'><br><strong><span style='font-size:18px;'>4.MYISAM\u548cINNODB\u7684\u9501\u5b9a&nbsp;<br><\/span><\/strong>myisam\u4e2d\uff0c\u6ce8\u610f\u662f\u8868\u9501\u6765\u7684\uff0c\u6bd4\u5982\u5728\u591a\u4e2aUPDATE\u64cd\u4f5c\u540e\uff0c\u518dSELECT\u65f6\uff0c\u4f1a\u53d1\u73b0SELECT\u64cd\u4f5c\u88ab\u9501\u5b9a\u4e86\uff0c\u5fc5\u987b\u7b49\u6240\u6709UPDATE\u64cd\u4f5c\u5b8c\u6bd5\u540e\uff0c\u518d\u80fdSELECT<br>innodb\u7684\u8bdd\u5219\u4e0d\u540c\u4e86\uff0c\u7528\u7684\u662f\u884c\u9501\uff0c\u4e0d\u5b58\u5728\u4e0a\u9762\u95ee\u9898\u3002&nbsp;<br><\/p> \r\n <p style='background-color: rgb(255, 255, 255); font-family: Arial;'><strong><span style='font-size:18px;'>5.MYSQL\u7684\u4e8b\u52a1\u914d\u7f6e\u9879&nbsp;<br><\/span><\/strong>innodb_flush_log_at_trx_commit=1&nbsp;<br>\u8868\u793a\u4e8b\u52a1\u63d0\u4ea4\u65f6\u7acb\u5373\u628a\u4e8b\u52a1\u65e5\u5fd7\u5199\u5165\u78c1\u76d8\uff0c\u540c\u65f6\u6570\u636e\u548c\u7d22\u5f15\u4e5f\u66f4\u65b0\u3002&nbsp;<br>innodb_flush_log_at_trx_commit=0&nbsp;<br>\u4e8b\u52a1\u63d0\u4ea4\u65f6\uff0c\u4e0d\u7acb\u5373\u628a\u4e8b\u52a1\u65e5\u5fd7\u5199\u5165\u78c1\u76d8\uff0c\u6bcf\u96941\u79d2\u5199\u4e00\u6b21&nbsp;<br>innodb_flush_log_at_trx_commit=2&nbsp;<br>\u4e8b\u52a1\u63d0\u4ea4\u65f6\uff0c\u7acb\u5373\u5199\u5165\u78c1\u76d8\u6587\u4ef6\uff08\u8fd9\u91cc\u53ea\u662f\u5199\u5165\u5230\u5185\u6838\u7f13\u51b2\u533a\uff0c\u4f46\u4e0d\u7acb\u5373\u5237\u65b0\u5230\u78c1\u76d8\uff0c\u800c\u662f\u6bcf\u96941\u79d2\u5237\u65b0\u5230\u76d8\uff0c\u540c\u65f6\u66f4\u65b0\u6570\u636e\u548c\u7d22\u5f15\uff09\uff0c\u8fd9\u79cd\u65b9\u6848\u662f\u4e0d\u662f\u6027\u4ef7\u6bd4\u597d\u4e00\u4e9b\uff0c\u5f53\u7136\u5982\u4f55\u914d\u7f6e\uff0c\u51b3\u5b9a\u4e8e\u4f60\u5bf9\u7cfb\u7edf\u6570\u636e\u5b89\u5168\u6027\u7684\u8981\u6c42\u3002<\/p> \r\n <p style='background-color: rgb(255, 255, 255); font-family: Arial;'><br><strong><span style='color: rgb(204, 0, 0);'>explain\u7528\u6cd5\u8be6\u89e3<br><\/span><\/strong>EXPLAIN tbl_name\u6216\uff1aEXPLAIN [EXTENDED] SELECT select_options&nbsp;<br>\u524d\u8005\u53ef\u4ee5\u5f97\u51fa\u4e00\u4e2a\u8868\u7684\u5b57\u6bb5\u7ed3\u6784\u7b49\u7b49\uff0c\u540e\u8005\u4e3b\u8981\u662f\u7ed9\u51fa\u76f8\u5173\u7684\u4e00\u4e9b\u7d22\u5f15\u4fe1\u606f\uff0c\u800c\u4eca\u5929\u8981\u8bb2\u8ff0\u7684\u91cd\u70b9\u662f\u540e\u8005\u3002&nbsp;<br>\u4e3e\u4f8b<\/p> \r\n <div style='background-color: rgb(231, 229, 220); font-family: Consolas, 'Courier New', Courier, mono, serif; font-size: 12px;'> \r\n  <div style='background-color: rgb(248, 248, 248); color: silver; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 9px;'> \r\n   <b>[sql]<\/b>&nbsp; \r\n   <a title='view plain' href='http:\/\/blog.csdn.net\/xifeijian\/article\/details\/19773795#' style='color: rgb(160, 160, 160);'>view plain<\/a> \r\n   <a title='copy' href='http:\/\/blog.csdn.net\/xifeijian\/article\/details\/19773795#' style='color: rgb(160, 160, 160);'>copy<\/a> \r\n   <a title='\u5728CODE\u4e0a\u67e5\u770b\u4ee3\u7801\u7247' href='https:\/\/code.csdn.net\/snippets\/213907' target='_blank' style='color: rgb(160, 160, 160);'><img src='http:\/\/note.youdao.com\/yws\/res\/2713\/915EC9F41D6E46F6A18DA7DE33FC3FA9' alt='\u5728CODE\u4e0a\u67e5\u770b\u4ee3\u7801\u7247' width='12' height='12' data-media-type='image'><\/a> \r\n   <a title='\u6d3e\u751f\u5230\u6211\u7684\u4ee3\u7801\u7247' href='https:\/\/code.csdn.net\/snippets\/213907\/fork' target='_blank' style='color: rgb(160, 160, 160);'><img src='https:\/\/code.csdn.net\/assets\/ico_fork.svg' alt='\u6d3e\u751f\u5230\u6211\u7684\u4ee3\u7801\u7247' width='12' height='12' data-media-type='image'><\/a> \r\n  <\/div> \r\n  <ol start='1' style='background-color:rgb(255, 255, 255);color:rgb(92, 92, 92);'> \r\n   <li style='background-color:rgb(255, 255, 255);color:inherit;'><span style='color: black;'>mysql&gt;&nbsp;explain&nbsp;<span style='color: rgb(0, 102, 153); font-weight: bold;'>select<\/span>&nbsp;*&nbsp;<span style='color: rgb(0, 102, 153); font-weight: bold;'>from<\/span>&nbsp;event;&nbsp;&nbsp;&nbsp;<\/span><\/li> \r\n   <li style='background-color: rgb(248, 248, 248);'><span style='color: black;'>+\u2014-+\u2014\u2014\u2014\u2014-+\u2014\u2014-+\u2014\u2014+\u2014\u2014\u2014\u2014\u2014+\u2014\u2014+\u2014\u2014\u2014+\u2014\u2014+\u2014\u2014+\u2014\u2014-+&nbsp;&nbsp;&nbsp;<\/span><\/li> \r\n   <li style='background-color:rgb(255, 255, 255);color:inherit;'><span style='color: black;'>|&nbsp;id&nbsp;|&nbsp;select_type&nbsp;|&nbsp;<span style='color: rgb(0, 102, 153); font-weight: bold;'>table<\/span>&nbsp;|&nbsp;type&nbsp;|&nbsp;possible_keys&nbsp;|&nbsp;<span style='color: rgb(0, 102, 153); font-weight: bold;'>key<\/span>&nbsp;|&nbsp;key_len&nbsp;|&nbsp;ref&nbsp;|&nbsp;<span style='color: rgb(0, 102, 153); font-weight: bold;'>rows<\/span>&nbsp;|&nbsp;Extra&nbsp;|&nbsp;&nbsp;&nbsp;<\/span><\/li> \r\n   <li style='background-color: rgb(248, 248, 248);'><span style='color: black;'>+\u2014-+\u2014\u2014\u2014\u2014-+\u2014\u2014-+\u2014\u2014+\u2014\u2014\u2014\u2014\u2014+\u2014\u2014+\u2014\u2014\u2014+\u2014\u2014+\u2014\u2014+\u2014\u2014-+&nbsp;&nbsp;&nbsp;<\/span><\/li> \r\n   <li style='background-color:rgb(255, 255, 255);color:inherit;'><span style='color: black;'>|&nbsp;1&nbsp;|&nbsp;SIMPLE&nbsp;|&nbsp;event&nbsp;|&nbsp;<span style='color: rgb(128, 128, 128);'>ALL<\/span>&nbsp;|&nbsp;<span style='color: rgb(128, 128, 128);'>NULL<\/span>&nbsp;|&nbsp;<span style='color: rgb(128, 128, 128);'>NULL<\/span>&nbsp;|&nbsp;<span style='color: rgb(128, 128, 128);'>NULL<\/span>&nbsp;|&nbsp;<span style='color: rgb(128, 128, 128);'>NULL<\/span>&nbsp;|&nbsp;13&nbsp;|&nbsp;|&nbsp;&nbsp;&nbsp;<\/span><\/li> \r\n   <li style='background-color: rgb(248, 248, 248);'><span style='color: black;'>+\u2014-+\u2014\u2014\u2014\u2014-+\u2014\u2014-+\u2014\u2014+\u2014\u2014\u2014\u2014\u2014+\u2014\u2014+\u2014\u2014\u2014+\u2014\u2014+\u2014\u2014+\u2014\u2014-+&nbsp;&nbsp;&nbsp;<\/span><\/li> \r\n   <li style='background-color:rgb(255, 255, 255);color:inherit;'><span style='color: black;'>1&nbsp;row&nbsp;<span style='color: rgb(128, 128, 128);'>in<\/span>&nbsp;<span style='color: rgb(0, 102, 153); font-weight: bold;'>set<\/span>&nbsp;(0.00&nbsp;sec)&nbsp;&nbsp;&nbsp;<\/span><\/li> \r\n  <\/ol> \r\n <\/div> \r\n <p style='background-color: rgb(255, 255, 255); font-family: Arial;'>\u5404\u4e2a\u5c5e\u6027\u7684\u542b\u4e49<\/p> \r\n <p style='background-color: rgb(255, 255, 255); font-family: Arial;'><img src='http:\/\/note.youdao.com\/yws\/res\/2714\/DBE57A67138F4258B45AF4DAFA7550A3' width='724' height='52' data-media-type='image'><br><strong>id<\/strong>&nbsp;:select\u67e5:\u8be2\u7684\u5e8f\u5217\u53f7<\/p> \r\n <p style='background-color: rgb(255, 255, 255); font-family: Arial;'><br><strong>select_type<\/strong>:select\u67e5\u8be2\u7684\u7c7b\u578b\uff0c\u4e3b\u8981\u662f\u533a\u522b\u666e\u901a\u67e5\u8be2\u548c\u8054\u5408\u67e5\u8be2\u3001\u5b50\u67e5\u8be2\u4e4b\u7c7b\u7684\u590d\u6742\u67e5\u8be2\u3002<\/p> \r\n <div style='background-color: rgb(255, 255, 255); font-family: Arial;'>\r\n   a.SIMPLE\uff1a\u67e5\u8be2\u4e2d\u4e0d\u5305\u542b\u5b50\u67e5\u8be2\u6216\u8005UNION \r\n <\/div> \r\n <div style='background-color: rgb(255, 255, 255); font-family: Arial;'>\r\n   b.\u67e5\u8be2\u4e2d\u82e5\u5305\u542b\u4efb\u4f55\u590d\u6742\u7684\u5b50\u90e8\u5206\uff0c\u6700\u5916\u5c42\u67e5\u8be2\u5219\u88ab\u6807\u8bb0\u4e3a\uff1aPRIMARY \r\n <\/div> \r\n <div style='background-color: rgb(255, 255, 255); font-family: Arial;'>\r\n   c.\u5728SELECT\u6216WHERE\u5217\u8868\u4e2d\u5305\u542b\u4e86\u5b50\u67e5\u8be2\uff0c\u8be5\u5b50\u67e5\u8be2\u88ab\u6807\u8bb0\u4e3a\uff1aSUBQUERY \r\n <\/div> \r\n <div style='background-color: rgb(255, 255, 255); font-family: Arial;'>\r\n   d.\u5728FROM\u5217\u8868\u4e2d\u5305\u542b\u7684\u5b50\u67e5\u8be2\u88ab\u6807\u8bb0\u4e3a\uff1aDERIVED\uff08\u884d\u751f\uff09 \r\n <\/div> \r\n <div style='background-color: rgb(255, 255, 255); font-family: Arial;'>\r\n   e.\u82e5\u7b2c\u4e8c\u4e2aSELECT\u51fa\u73b0\u5728UNION\u4e4b\u540e\uff0c\u5219\u88ab\u6807\u8bb0\u4e3aUNION\uff1b\u82e5UNION\u5305\u542b\u5728&nbsp;FROM\u5b50\u53e5\u7684\u5b50\u67e5\u8be2\u4e2d\uff0c\u5916\u5c42SELECT\u5c06\u88ab\u6807\u8bb0\u4e3a\uff1aDERIVED \r\n <\/div> \r\n <div style='background-color: rgb(255, 255, 255); font-family: Arial;'>\r\n   f.\u4eceUNION\u8868\u83b7\u53d6\u7ed3\u679c\u7684SELECT\u88ab\u6807\u8bb0\u4e3a\uff1aUNION RESULT \r\n <\/div> \r\n <p style='background-color: rgb(255, 255, 255); font-family: Arial;'><br><strong>table<\/strong>&nbsp;:\u8f93\u51fa\u7684\u884c\u6240\u5f15\u7528\u7684\u8868\u3002<\/p> \r\n <p style='background-color: rgb(255, 255, 255); font-family: Arial;'><br><strong>type<\/strong>&nbsp;:\u8054\u5408\u67e5\u8be2\u6240\u4f7f\u7528\u7684\u7c7b\u578b\uff0c\u8868\u793aMySQL\u5728\u8868\u4e2d\u627e\u5230\u6240\u9700\u884c\u7684\u65b9\u5f0f\uff0c\u53c8\u79f0\u201c\u8bbf\u95ee\u7c7b\u578b\u201d\u3002<\/p> \r\n <p style='background-color: rgb(255, 255, 255); font-family: Arial;'><img src='http:\/\/note.youdao.com\/yws\/res\/2712\/95CAE71862C54032A0190FBBBFD889BD' width='512' height='53' data-media-type='image'><br>type\u663e\u793a\u7684\u662f\u8bbf\u95ee\u7c7b\u578b\uff0c\u662f\u8f83\u4e3a\u91cd\u8981\u7684\u4e00\u4e2a\u6307\u6807\uff0c\u7ed3\u679c\u503c\u4ece\u597d\u5230\u574f\u4f9d\u6b21\u662f\uff1a&nbsp;<br>system &gt; const &gt; eq_ref &gt; ref &gt; fulltext &gt; ref_or_null &gt; index_merge &gt; unique_subquery &gt; index_subquery &gt; range &gt; index &gt; ALL \uff0c\u4e00\u822c\u6765\u8bf4\uff0c\u5f97\u4fdd\u8bc1\u67e5\u8be2\u81f3\u5c11\u8fbe\u5230range\u7ea7\u522b\uff0c\u6700\u597d\u80fd\u8fbe\u5230ref\u3002<\/p> \r\n <p style='background-color: rgb(255, 255, 255); font-family: Arial;'>ALL: \u626b\u63cf\u5168\u8868<br>index:&nbsp;\u626b\u63cf\u5168\u90e8\u7d22\u5f15\u6811<br>range:&nbsp;\u626b\u63cf\u90e8\u5206\u7d22\u5f15\uff0c\u7d22\u5f15\u8303\u56f4\u626b\u63cf\uff0c\u5bf9\u7d22\u5f15\u7684\u626b\u63cf\u5f00\u59cb\u4e8e\u67d0\u4e00\u70b9\uff0c\u8fd4\u56de\u5339\u914d\u503c\u57df\u7684\u884c\uff0c\u5e38\u89c1\u4e8ebetween\u3001&lt;\u3001&gt;\u7b49\u7684\u67e5\u8be2<br>ref:&nbsp;\u975e\u552f\u4e00\u6027\u7d22\u5f15\u626b\u63cf\uff0c\u8fd4\u56de\u5339\u914d\u67d0\u4e2a\u5355\u72ec\u503c\u7684\u6240\u6709\u884c\u3002\u5e38\u89c1\u4e8e\u4f7f\u7528\u975e\u552f\u4e00\u7d22\u5f15\u5373\u552f\u4e00\u7d22\u5f15\u7684\u975e\u552f\u4e00\u524d\u7f00\u8fdb\u884c\u7684\u67e5\u627e<\/p> \r\n <p style='background-color: rgb(255, 255, 255); font-family: Arial;'>eq_ref\uff1a\u552f\u4e00\u6027\u7d22\u5f15\u626b\u63cf\uff0c\u5bf9\u4e8e\u6bcf\u4e2a\u7d22\u5f15\u952e\uff0c\u8868\u4e2d\u53ea\u6709\u4e00\u6761\u8bb0\u5f55\u4e0e\u4e4b\u5339\u914d\u3002\u5e38\u89c1\u4e8e\u4e3b\u952e\u6216\u552f\u4e00\u7d22\u5f15\u626b\u63cf<br>const, system:&nbsp;\u5f53MySQL\u5bf9\u67e5\u8be2\u67d0\u90e8\u5206\u8fdb\u884c\u4f18\u5316\uff0c\u5e76\u8f6c\u6362\u4e3a\u4e00\u4e2a\u5e38\u91cf\u65f6\uff0c\u4f7f\u7528\u8fd9\u4e9b\u7c7b\u578b\u8bbf\u95ee\u3002\u5982\u5c06\u4e3b\u952e\u7f6e\u4e8ewhere\u5217\u8868\u4e2d\uff0cMySQL\u5c31\u80fd\u5c06\u8be5\u67e5\u8be2\u8f6c\u6362\u4e3a\u4e00\u4e2a\u5e38\u91cf\u3002system\u662fconst\u7c7b\u578b\u7684\u7279\u4f8b\uff0c\u5f53\u67e5\u8be2\u7684\u8868\u53ea\u6709\u4e00\u884c\u7684\u60c5\u51b5\u4e0b\uff0c \u4f7f\u7528system\u3002<br>NULL:&nbsp;MySQL\u5728\u4f18\u5316\u8fc7\u7a0b\u4e2d\u5206\u89e3\u8bed\u53e5\uff0c\u6267\u884c\u65f6\u751a\u81f3\u4e0d\u7528\u8bbf\u95ee\u8868\u6216\u7d22\u5f15\u3002\u5982\u4e0b\u6240\u793a\uff1a<br><img src='http:\/\/note.youdao.com\/yws\/res\/2710\/4FCB3D7D175B4045A98C619AA3AFE3B6' data-media-type='image'><br><strong>possible_keys<\/strong>:\u6307\u51faMySQL\u80fd\u4f7f\u7528\u54ea\u4e2a\u7d22\u5f15\u5728\u8be5\u8868\u4e2d\u627e\u5230\u884c\u3002\u67e5\u8be2\u6d89\u53ca\u5230\u7684\u5b57\u6bb5\u4e0a\u82e5\u5b58\u5728\u7d22\u5f15\uff0c\u5219\u8be5\u7d22\u5f15\u5c06\u88ab\u5217\u51fa\uff0c\u4f46\u4e0d\u4e00\u5b9a\u88ab\u67e5\u8be2\u4f7f\u7528\u3002\u5982\u679c\u662f\u7a7a\u7684\uff0c\u6ca1\u6709\u76f8\u5173\u7684\u7d22\u5f15\u3002\u8fd9\u65f6\u8981\u63d0\u9ad8\u6027\u80fd\uff0c\u53ef\u901a\u8fc7\u68c0\u9a8cWHERE\u5b50\u53e5\uff0c\u770b\u662f\u5426\u5f15\u7528\u67d0\u4e9b\u5b57\u6bb5\uff0c\u6216\u8005\u68c0\u67e5\u5b57\u6bb5\u4e0d\u662f\u9002\u5408\u7d22\u5f15\u3002&nbsp;<br>&nbsp;<\/p> \r\n <p style='background-color: rgb(255, 255, 255); font-family: Arial;'><strong>key&nbsp;<\/strong>:\u663e\u793aMySQL\u5b9e\u9645\u51b3\u5b9a\u4f7f\u7528\u7684\u952e\u3002\u5982\u679c\u6ca1\u6709\u7d22\u5f15\u88ab\u9009\u62e9\uff0c\u952e\u662fNULL\u3002<\/p> \r\n <p style='background-color: rgb(255, 255, 255); font-family: Arial;'>&nbsp;<\/p> \r\n <p style='background-color: rgb(255, 255, 255); font-family: Arial;'><strong>key_len<\/strong>:\u663e\u793aMySQL\u51b3\u5b9a\u4f7f\u7528\u7684\u952e\u957f\u5ea6\u3002\u8868\u793a\u7d22\u5f15\u4e2d\u4f7f\u7528\u7684\u5b57\u8282\u6570\uff0c\u53ef\u901a\u8fc7\u8be5\u5217\u8ba1\u7b97\u67e5\u8be2\u4e2d\u4f7f\u7528\u7684\u7d22\u5f15\u7684\u957f\u5ea6\u3002\u5982\u679c\u952e\u662fNULL\uff0c\u957f\u5ea6\u5c31\u662fNULL\u3002\u6587\u6863\u63d0\u793a\u7279\u522b\u6ce8\u610f\u8fd9\u4e2a\u503c\u53ef\u4ee5\u5f97\u51fa\u4e00\u4e2a\u591a\u91cd\u4e3b\u952e\u91ccmysql\u5b9e\u9645\u4f7f\u7528\u4e86\u54ea\u4e00\u90e8\u5206\u3002<\/p> \r\n <p style='background-color: rgb(255, 255, 255); font-family: Arial;'>&nbsp;\u6ce8\uff1akey_len\u663e\u793a\u7684\u503c\u4e3a\u7d22\u5f15\u5b57\u6bb5\u7684\u6700\u5927\u53ef\u80fd\u957f\u5ea6\uff0c\u5e76\u975e\u5b9e\u9645\u4f7f\u7528\u957f\u5ea6\uff0c\u5373key_len\u662f\u6839\u636e\u8868\u5b9a\u4e49\u8ba1\u7b97\u800c\u5f97\uff0c\u4e0d\u662f\u901a\u8fc7\u8868\u5185\u68c0\u7d22\u51fa\u7684\u3002<\/p> \r\n <p style='background-color: rgb(255, 255, 255); font-family: Arial;'><strong>ref<\/strong>:\u663e\u793a\u54ea\u4e2a\u5b57\u6bb5\u6216\u5e38\u6570\u4e0ekey\u4e00\u8d77\u88ab\u4f7f\u7528\u3002<\/p> \r\n <p style='background-color: rgb(255, 255, 255); font-family: Arial;'>&nbsp;<\/p> \r\n <p style='background-color: rgb(255, 255, 255); font-family: Arial;'><strong>rows<\/strong>:\u8fd9\u4e2a\u6570\u8868\u793amysql\u8981\u904d\u5386\u591a\u5c11\u6570\u636e\u624d\u80fd\u627e\u5230\uff0c\u8868\u793aMySQL\u6839\u636e\u8868\u7edf\u8ba1\u4fe1\u606f\u53ca\u7d22\u5f15\u9009\u7528\u60c5\u51b5\uff0c\u4f30\u7b97\u7684\u627e\u5230\u6240\u9700\u7684\u8bb0\u5f55\u6240\u9700\u8981\u8bfb\u53d6\u7684\u884c\u6570\uff0c\u5728innodb\u4e0a\u53ef\u80fd\u662f\u4e0d\u51c6\u786e\u7684\u3002<\/p> \r\n <p style='background-color: rgb(255, 255, 255); font-family: Arial;'>&nbsp;<\/p> \r\n <p style='background-color: rgb(255, 255, 255); font-family: Arial;'><strong>Extra<\/strong>:\u5305\u542b\u4e0d\u9002\u5408\u5728\u5176\u4ed6\u5217\u4e2d\u663e\u793a\u4f46\u5341\u5206\u91cd\u8981\u7684\u989d\u5916\u4fe1\u606f\u3002<\/p> \r\n <p style='background-color: rgb(255, 255, 255); font-family: Arial;'>Only index\uff0c\u8fd9\u610f\u5473\u7740\u4fe1\u606f\u53ea\u7528\u7d22\u5f15\u6811\u4e2d\u7684\u4fe1\u606f\u68c0\u7d22\u51fa\u7684\uff0c\u8fd9\u6bd4\u626b\u63cf\u6574\u4e2a\u8868\u8981\u5feb\u3002&nbsp;<br>using where\u662f\u4f7f\u7528\u4e0a\u4e86where\u9650\u5236\uff0c\u8868\u793aMySQL\u670d\u52a1\u5668\u5728\u5b58\u50a8\u5f15\u64ce\u53d7\u5230\u8bb0\u5f55\u540e\u8fdb\u884c\u201c\u540e\u8fc7\u6ee4\u201d\uff08Post-filter\uff09\uff0c\u5982\u679c\u67e5\u8be2\u672a\u80fd\u4f7f\u7528\u7d22\u5f15\uff0cUsing where\u7684\u4f5c\u7528\u53ea\u662f\u63d0\u9192\u6211\u4eecMySQL\u5c06\u7528where\u5b50\u53e5\u6765\u8fc7\u6ee4\u7ed3\u679c\u96c6\u3002<br>impossible where \u8868\u793a\u7528\u4e0d\u7740where\uff0c\u4e00\u822c\u5c31\u662f\u6ca1\u67e5\u51fa\u6765\u5565\u3002&nbsp;<br>Using filesort\uff08MySQL\u4e2d\u65e0\u6cd5\u5229\u7528\u7d22\u5f15\u5b8c\u6210\u7684\u6392\u5e8f\u64cd\u4f5c\u79f0\u4e3a\u201c\u6587\u4ef6\u6392\u5e8f\u201d\uff09<\/p> \r\n <p style='background-color: rgb(255, 255, 255); font-family: Arial;'>Using temporary\uff08\u8868\u793aMySQL\u9700\u8981\u4f7f\u7528\u4e34\u65f6\u8868\u6765\u5b58\u50a8\u7ed3\u679c\u96c6\uff0c\u5e38\u89c1\u4e8e\u6392\u5e8f\u548c\u5206\u7ec4\u67e5\u8be2\uff09\uff0c\u4f7f\u7528filesort\u548ctemporary\u7684\u8bdd\u4f1a\u5f88\u5403\u529b\uff0cWHERE\u548cORDER BY\u7684\u7d22\u5f15\u7ecf\u5e38\u65e0\u6cd5\u517c\u987e\uff0c\u5982\u679c\u6309\u7167WHERE\u6765\u786e\u5b9a\u7d22\u5f15\uff0c\u90a3\u4e48\u5728ORDER BY\u65f6\uff0c\u5c31\u5fc5\u7136\u4f1a\u5f15\u8d77Using filesort\uff0c\u8fd9\u5c31\u8981\u770b\u662f\u5148\u8fc7\u6ee4\u518d\u6392\u5e8f\u5212\u7b97\uff0c\u8fd8\u662f\u5148\u6392\u5e8f\u518d\u8fc7\u6ee4\u5212\u7b97\u3002<\/p> \r\n <p style='background-color: rgb(255, 255, 255); font-family: Arial;'>&nbsp;<\/p> \r\n <p style='background-color: rgb(255, 255, 255); font-family: Arial;'>\u6700\u540e\uff0c\u518d\u770b\u4e00\u4e2a\u67e5\u8be2\u8ba1\u5212\u7684\u4f8b\u5b50\uff1a<\/p> \r\n <p style='background-color: rgb(255, 255, 255); font-family: Arial;'><img src='http:\/\/note.youdao.com\/yws\/res\/2709\/D89CAAA7D92F4E789A4252E8083475F2' data-media-type='image'><\/p> \r\n <p style='background-color: rgb(255, 255, 255); font-family: Arial;'><strong>\u7b2c\u4e00\u884c\uff1aid\u5217\u4e3a1\uff0c\u8868\u793a\u7b2c\u4e00\u4e2aselect\uff0cselect_type\u5217\u7684primary\u8868 \u793a\u8be5\u67e5\u8be2\u4e3a\u5916\u5c42\u67e5\u8be2\uff0ctable\u5217\u88ab\u6807\u8bb0\u4e3a&lt;derived3&gt;\uff0c\u8868\u793a\u67e5\u8be2\u7ed3\u679c\u6765\u81ea\u4e00\u4e2a\u884d\u751f\u8868\uff0c\u5176\u4e2d3\u4ee3\u8868\u8be5\u67e5\u8be2\u884d\u751f\u81ea\u7b2c\u4e09\u4e2aselect\u67e5\u8be2\uff0c\u5373id\u4e3a3\u7684select\u3002<br>\u7b2c\u4e8c\u884c\uff1aid\u4e3a3\uff0c\u8868\u793a\u8be5\u67e5\u8be2\u7684\u6267\u884c\u6b21\u5e8f\u4e3a2\uff084\u21923\uff09\uff0c\u662f\u6574\u4e2a\u67e5\u8be2\u4e2d\u7b2c\u4e09\u4e2aselect\u7684\u4e00\u90e8\u5206\u3002\u56e0\u67e5\u8be2\u5305\u542b\u5728from\u4e2d\uff0c\u6240\u4ee5\u4e3aderived\u3002<br>\u7b2c\u4e09\u884c\uff1aselect\u5217\u8868\u4e2d\u7684\u5b50\u67e5\u8be2\uff0cselect_type\u4e3asubquery\uff0c\u4e3a\u6574\u4e2a\u67e5\u8be2\u4e2d\u7684\u7b2c\u4e8c\u4e2aselect\u3002<br>\u7b2c\u56db\u884c\uff1aselect_type\u4e3aunion\uff0c\u8bf4\u660e\u7b2c\u56db\u4e2aselect\u662funion\u91cc\u7684\u7b2c\u4e8c\u4e2aselect\uff0c\u6700\u5148\u6267\u884c\u3002<br>\u7b2c\u4e94\u884c\uff1a\u4ee3\u8868\u4eceunion\u7684\u4e34\u65f6\u8868\u4e2d\u8bfb\u53d6\u884c\u7684\u9636\u6bb5\uff0ctable\u5217\u7684&lt;union1,4&gt;\u8868\u793a\u7528\u7b2c\u4e00\u4e2a\u548c\u7b2c\u56db\u4e2aselect\u7684\u7ed3\u679c\u8fdb\u884cunion\u64cd\u4f5c\u3002<\/strong><\/p> \r\n <p style='background-color: rgb(255, 255, 255); font-family: Arial;'>&nbsp;<\/p> \r\n <p style='background-color: rgb(255, 255, 255); font-family: Arial;'>\u5173\u4e8eMySQL\u6267\u884c\u8ba1\u5212\u7684\u5c40\u9650\u6027\uff1a<\/p> \r\n <p style='background-color: rgb(255, 255, 255); font-family: Arial;'><strong>EXPLAIN\u4e0d\u4f1a\u544a\u8bc9\u4f60\u5173\u4e8e\u89e6\u53d1\u5668\u3001\u5b58\u50a8\u8fc7\u7a0b\u7684\u4fe1\u606f\u6216\u7528\u6237\u81ea\u5b9a\u4e49\u51fd\u6570\u5bf9\u67e5\u8be2\u7684\u5f71\u54cd\u60c5\u51b5<br>EXPLAIN\u4e0d\u8003\u8651\u5404\u79cdCache<br>EXPLAIN\u4e0d\u80fd\u663e\u793aMySQL\u5728\u6267\u884c\u67e5\u8be2\u65f6\u6240\u4f5c\u7684\u4f18\u5316\u5de5\u4f5c<br>\u90e8\u5206\u7edf\u8ba1\u4fe1\u606f\u662f\u4f30\u7b97\u7684\uff0c\u5e76\u975e\u7cbe\u786e\u503c<br>EXPALIN\u53ea\u80fd\u89e3\u91caSELECT\u64cd\u4f5c\uff0c\u5176\u4ed6\u64cd\u4f5c\u8981\u91cd\u5199\u4e3aSELECT\u540e\u67e5\u770b\u3002<\/strong><\/p> \r\n <p style='background-color: rgb(255, 255, 255); font-family: Arial;'><br>\u5173\u4e8eMySQL\u6027\u80fd\u5206\u6790\u53caexplain\u7528\u6cd5\u7684\u77e5\u8bc6\u5c31\u4ecb\u7ecd\u5230\u8fd9\u91cc\u4e86\uff0c\u5e0c\u671b\u672c\u6b21\u7684\u4ecb\u7ecd\u80fd\u591f\u5bf9\u60a8\u6709\u6240\u6536\u83b7\uff01<\/p> \r\n<\/div>\r\n ","excerpt":"\u00a0\u672c\u6587\u6211\u4eec\u4e3b\u8981\u4ecb\u7ecd\u4e86MySQL\u6027\u80fd\u5206\u6790\u4ee5\u53caexplain\u7684\u4f7f\u7528\uff0c\u5305\u62ec\uff1a\u7ec4\u5408\u7d22\u5f15\u3001\u6162\u67e5\u8be2\u5206\u6790\u3001MYISAM\u548cINNODB\u7684\u9501\u5b9a\u3001MYSQL\u7684\u4e8b\u52a1\u914d\u7f6e\u9879\u7b49\uff0c\u5e0c\u671b\u80fd\u591f\u5bf9\u60a8\u6709\u6240\u5e2e\u52a9\u30021.\u4f7f\u7528explain\u8bed\u53e5\u53bb\u67e5\u770b\u5206\u6790\u7ed3\u679c\u5982explainselect*fromtest1whereid=1;\u4f1a\u51fa\u73b0","author":"1","sortid":"19","type":"blog","views":"56","comnum":"0","tbcount":"0","attnum":"0","top":"n","hide":"n","allow_remark":"y","allow_tb":"y","password":"","thumb":"0","alias":""}