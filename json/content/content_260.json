{"gid":"260","title":"InstallingtheMongoDBCDriver","date":"1426719600","content":"\r\n <div> \r\n <div style='color: rgb(46, 52, 54); font-family: sans-serif; font-size: medium;'> \r\n  <h1 style='font-size: 2em;'>Installing the MongoDB C Driver<\/h1> \r\n <\/div> \r\n <div style='font-family: sans-serif; font-size: medium;'> \r\n  <p>The following guide will step you through the process of downloading, building, and installing the current release of the MongoDB C Driver.<\/p> \r\n  <div style='color:rgb(46, 52, 54);'> \r\n   <h2 style='font-size: 1.44em;'>Supported Platforms<\/h2> \r\n  <\/div> \r\n  <p>The MongoDB C Driver currently supports the following operating systems and CPU architectures.<\/p> \r\n  <div> \r\n   <table border='1' cellpadding='2' cellspacing='0'> \r\n    <tbody> \r\n     <tr> \r\n      <td> \r\n       <div style='color:rgb(46, 52, 54);font-weight:bold;'> \r\n        <h3 style='color:inherit;font-size:inherit;font-weight:inherit;'>Operating Systems<\/h3> \r\n       <\/div><\/td> \r\n      <td> \r\n       <div style='color:rgb(46, 52, 54);font-weight:bold;'> \r\n        <h3 style='color:inherit;font-size:inherit;font-weight:inherit;'>CPU Architectures<\/h3> \r\n       <\/div><\/td> \r\n      <td> \r\n       <div style='color:rgb(46, 52, 54);font-weight:bold;'> \r\n        <h3 style='color:inherit;font-size:inherit;font-weight:inherit;'>Compiler Toolchain<\/h3> \r\n       <\/div><\/td> \r\n     <\/tr> \r\n     <tr> \r\n      <td> \r\n       <div> \r\n        <ul> \r\n         <li><p>GNU\/Linux<\/p><\/li> \r\n         <li><p>Solaris 10 and 11<\/p><\/li> \r\n         <li><p>Mac OS X 10.6 and newer<\/p><\/li> \r\n         <li><p>Windows Vista, 7, and 8<\/p><\/li> \r\n         <li><p>FreeBSD<\/p><\/li> \r\n         <li><p>OpenBSD 5.4<\/p><\/li> \r\n         <li><p>Dragonfly BSD<\/p><\/li> \r\n        <\/ul> \r\n       <\/div><\/td> \r\n      <td> \r\n       <div> \r\n        <ul> \r\n         <li><p>x86 and x86_64<\/p><\/li> \r\n         <li><p>ARM<\/p><\/li> \r\n         <li><p>PPC<\/p><\/li> \r\n         <li><p>SPARC<\/p><\/li> \r\n        <\/ul> \r\n       <\/div><\/td> \r\n      <td> \r\n       <div> \r\n        <ul> \r\n         <li><p>GCC 4.1 and newer<\/p><\/li> \r\n         <li><p>Clang 3.3 and newer<\/p><\/li> \r\n         <li><p><a title='http:\/\/www.visualstudio.com\/en-us\/downloads\/download-visual-studio-vs#DownloadFamilies_4' href='http:\/\/www.visualstudio.com\/en-us\/downloads\/download-visual-studio-vs#DownloadFamilies_4' style='color:rgb(92, 53, 102);'>Microsoft Visual Studio 2010 Express<\/a><\/p><\/li> \r\n         <li><p><a title='http:\/\/www.oracle.com\/technetwork\/server-storage\/solarisstudio\/downloads\/index.html' href='http:\/\/www.oracle.com\/technetwork\/server-storage\/solarisstudio\/downloads\/index.html' style='color:rgb(92, 53, 102);'>Oracle Solaris Studio 12<\/a><\/p><\/li> \r\n         <li><p>MinGW<\/p><\/li> \r\n        <\/ul> \r\n       <\/div><\/td> \r\n     <\/tr> \r\n    <\/tbody> \r\n   <\/table> \r\n  <\/div> \r\n  <div style='color:rgb(46, 52, 54);font-weight:bold;'> \r\n   <h3 style='color:inherit;font-size:inherit;font-weight:inherit;'>More Information<\/h3> \r\n  <\/div> \r\n  <div> \r\n   <ul> \r\n    <li><a title='Installation' href='http:\/\/api.mongodb.org\/c\/current\/index.html#installation' style='color:rgb(92, 53, 102);'>Installation<\/a><\/li> \r\n   <\/ul> \r\n  <\/div> \r\n  <div style='background-color:rgba(1, 1, 1, 0);'> \r\n   <div style='color:rgb(46, 52, 54);'> \r\n    <h2 style='font-size: 1.44em;'>Installing from Source<\/h2> \r\n   <\/div> \r\n   <p>The following instructions are for UNIX-like systems such as GNU\/Linux, FreeBSD, and Solaris. To build on Windows, see the instructions for&nbsp;<a title='Building on Windows' href='http:\/\/api.mongodb.org\/c\/current\/installing.html#building-windows' style='color:rgb(92, 53, 102);'>Building on Windows<\/a>.<\/p> \r\n   <p>The most recent release of the mongo-c-driver is 1.1.0 and can be&nbsp;<a title='https:\/\/github.com\/mongodb\/mongo-c-driver\/releases\/download\/1.1.0\/mongo-c-driver-1.1.0.tar.gz' href='https:\/\/github.com\/mongodb\/mongo-c-driver\/releases\/download\/1.1.0\/mongo-c-driver-1.1.0.tar.gz' style='color:rgb(92, 53, 102);'>downloaded here<\/a>. The following snippet will download and extract the current release of the driver.<\/p> \r\n   <div style='background-color:rgb(243, 243, 240);'> \r\n    <pre><span style='color:rgb(46, 52, 54);font-family:monospace;'>$ <\/span><span style='color:rgb(46, 52, 54);font-family:monospace;font-weight:bold;'>wget https:\/\/github.com\/mongodb\/mongo-c-driver\/releases\/download\/1.1.0\/mongo-c-driver-1.1.0.tar.gz<\/span>\r\n<span style='color:rgb(46, 52, 54);font-family:monospace;'>$ <\/span><span style='color:rgb(46, 52, 54);font-family:monospace;font-weight:bold;'>tar -xzf mongo-c-driver-1.1.0.tar.gz<\/span>\r\n<span style='color:rgb(46, 52, 54);font-family:monospace;'>$ <\/span><span style='color:rgb(46, 52, 54);font-family:monospace;font-weight:bold;'>cd mongo-c-driver-1.1.0\/<\/span><\/pre> \r\n   <\/div> \r\n   <p>Minimal dependencies are needed to build the MongoDB C driver. Optionally, if you want Kerberos (GSSAPI) or SSL support, you need to install&nbsp;<span style='font-family:monospace;'>libsasl2<\/span>&nbsp;and&nbsp;<span style='font-family:monospace;'>OpenSSL<\/span>&nbsp;libraries and development headers respectively.<\/p> \r\n   <p>Make sure you have access to a&nbsp;<a title='Supported Platforms' href='http:\/\/api.mongodb.org\/c\/current\/installing.html#supported-platforms' style='color:rgb(92, 53, 102);'>supported toolchain<\/a>&nbsp;such as GCC, Clang, SolarisStudio, or MinGW. Optionally,&nbsp;<span style='font-family:monospace;'>pkg-config<\/span>&nbsp;can be used if your system supports it to simplify locating proper compiler and linker arguments when compiling your program.<\/p> \r\n   <p>The following will configure for a typical 64-bit Linux system such as RedHat Enterprise Linux 6 or CentOS 6. Note that not all systems place 64-bit libraries in&nbsp;<span style='font-family:monospace;'>\/usr\/lib64<\/span>. Check your system to see what the convention is if you are building 64-bit versions of the library.<\/p> \r\n   <div style='background-color:rgb(243, 243, 240);'> \r\n    <pre>.\/configure --prefix=\/usr --libdir=\/usr\/lib64<\/pre> \r\n   <\/div> \r\n   <div title='Advanced' style='background-color:rgb(243, 243, 240);'> \r\n    <p>If you require&nbsp;<span style='font-family:monospace;'>SSL<\/span>&nbsp;add&nbsp;<span style='font-family:monospace;'>--enable-ssl<\/span>&nbsp;to the above configuration. This will require the&nbsp;<span style='font-family:monospace;'>openssl-devel<\/span>&nbsp;on RedHat Entrprise Linux. Other Linux-based operating systems may have another name for this package such as&nbsp;<span style='font-family:monospace;'>libssl-dev<\/span>on Debian.<\/p> \r\n   <\/div> \r\n   <div title='Advanced' style='background-color:rgb(243, 243, 240);'> \r\n    <p>If you require&nbsp;<span style='font-family:monospace;'>Kerberos<\/span>&nbsp;add&nbsp;<span style='font-family:monospace;'>--enable-sasl<\/span>&nbsp;to the above configuration. This will require the&nbsp;<span style='font-family:monospace;'>cyris-sasl-devel<\/span>&nbsp;on RedHat Entrprise Linux. Other Linux-based operating systems may have another name for this package.<\/p> \r\n   <\/div> \r\n   <p>If&nbsp;<span style='font-family:monospace;'>configure<\/span>&nbsp;completed successfully, you'll see something like the following describing your build configuration.<\/p> \r\n   <div style='background-color:rgb(243, 243, 240);'> \r\n    <pre>libmongoc was configured with the following options:\r\n\r\nBuild configuration:\r\nEnable debugging (slow)                          : no\r\nCompile with debug symbols (slow)                : no\r\nEnable GCC build optimization                    : yes\r\nEnable automatic binary hardening                : yes\r\nCode coverage support                            : no\r\nCross Compiling                                  : no\r\nFast counters                                    : no\r\nSASL                                             : sasl2\r\nSSL                                              : yes\r\nLibbson                                          : bundled\r\n\r\nDocumentation:\r\nGenerate man pages                               : yes\r\nInstall man pages                                : yes<\/pre> \r\n   <\/div> \r\n   <p>We can now build the driver with the venerable&nbsp;<span style='font-family:monospace;'>make<\/span>&nbsp;program.<\/p> \r\n   <div style='background-color:rgb(243, 243, 240);'> \r\n    <pre><span style='color:rgb(46, 52, 54);font-family:monospace;'>$ <\/span><span style='color:rgb(46, 52, 54);font-family:monospace;font-weight:bold;'>make<\/span><\/pre> \r\n   <\/div> \r\n   <div title='Note' style='background-color:rgb(243, 243, 240);'> \r\n    <p>You can optionally build code objects in parallel using the&nbsp;<span style='font-family:monospace;'>-j<\/span>&nbsp;option to GNU make. Some implementations of&nbsp;<span style='font-family:monospace;'>make<\/span>do not support this option, such as Sun's make on Solaris 10. To build in parallel on an 8 core machine, you might use:<\/p> \r\n    <div style='background-color:rgb(243, 243, 240);'> \r\n     <pre><span style='color:rgb(46, 52, 54);font-family:monospace;'>$ <\/span><span style='color:rgb(46, 52, 54);font-family:monospace;font-weight:bold;'>gmake -j8<\/span><\/pre> \r\n    <\/div> \r\n   <\/div> \r\n   <p>To install the driver, we use&nbsp;<span style='font-family:monospace;'>make<\/span>&nbsp;with the&nbsp;<span style='font-family:monospace;'>install<\/span>&nbsp;target.<\/p> \r\n   <div style='background-color:rgb(243, 243, 240);'> \r\n    <pre><span style='color:rgb(46, 52, 54);font-family:monospace;'>$ <\/span><span style='color:rgb(46, 52, 54);font-family:monospace;font-weight:bold;'>sudo make install<\/span><\/pre> \r\n   <\/div> \r\n   <div title='Note' style='background-color:rgb(243, 243, 240);'> \r\n    <p>On systems that do not support the&nbsp;<span style='font-family:monospace;'>sudo<\/span>&nbsp;command, we can use&nbsp;<span style='font-family:monospace;'>su -c 'make install'<\/span>.<\/p> \r\n   <\/div> \r\n   <div style='color:rgb(46, 52, 54);font-weight:bold;'> \r\n    <h3 style='color:inherit;font-size:inherit;font-weight:inherit;'>More Information<\/h3> \r\n   <\/div> \r\n   <div> \r\n    <ul> \r\n     <li><a title='Installation' href='http:\/\/api.mongodb.org\/c\/current\/index.html#installation' style='color:rgb(92, 53, 102);'>Installation<\/a><\/li> \r\n    <\/ul> \r\n   <\/div> \r\n  <\/div> \r\n  <div style='color:rgb(46, 52, 54);'> \r\n   <h2 style='font-size: 1.44em;'>Installing on Solaris 10<\/h2> \r\n  <\/div> \r\n  <p>MongoDB provides two ways to install the MongoDB C driver on Solaris 10. You can either&nbsp;<a title='Installing from Source' href='http:\/\/api.mongodb.org\/c\/current\/installing.html#build-yourself' style='color:rgb(92, 53, 102);'>build the driver yourself<\/a>from a source code release, or install the precompiled binary driver as provided by MongoDB as follows.<\/p> \r\n  <p>Binary releases of the MongoDB C driver include support for both 32-bit and 64-bit architectures for both&nbsp;<span style='font-family:monospace;'>i386<\/span>&nbsp;and<span style='font-family:monospace;'>sparc<\/span>.<\/p> \r\n  <div title='Warning' style='background-color:rgb(243, 243, 240);'> \r\n   <p>Solaris 11 packaging is not compatible with Solaris 10. For Solaris 11, please follow the directions to&nbsp;<a title='Installing from Source' href='http:\/\/api.mongodb.org\/c\/current\/installing.html#build-yourself' style='color:rgb(92, 53, 102);'>build the driver yourself<\/a>.<\/p> \r\n  <\/div> \r\n  <p>The following commands will download the most recent MongoDB binary release and install it using the&nbsp;<span style='font-family:monospace;'>pkgadd<\/span>&nbsp;command on Solaris 10.<\/p> \r\n  <div style='background-color:rgb(243, 243, 240);'> \r\n   <pre><span style='color:rgb(46, 52, 54);font-family:monospace;'>$ <\/span><span style='color:rgb(46, 52, 54);font-family:monospace;font-weight:bold;'>bash<\/span>\r\n<span style='color:rgb(46, 52, 54);font-family:monospace;'>bash-3.2$ <\/span><span style='color:rgb(46, 52, 54);font-family:monospace;font-weight:bold;'>export ARCH=`uname -m`<\/span>\r\n<span style='color:rgb(46, 52, 54);font-family:monospace;'>bash-3.2$ <\/span><span style='color:rgb(46, 52, 54);font-family:monospace;font-weight:bold;'>\/usr\/sfw\/bin\/wget --no-check-certificate 'https:\/\/github.com\/mongodb\/mongo-c-driver\/releases\/download\/1.1.0\/MONGOmongo-c-driver-1.1.0.${ARCH}.pkg.tar.gz'<\/span>\r\n<span style='color:rgb(46, 52, 54);font-family:monospace;'>bash-3.2$ <\/span><span style='color:rgb(46, 52, 54);font-family:monospace;font-weight:bold;'>gunzip -c 'MONGOmongo-c-driver-1.1.0.${ARCH}.pkg.tar.gz' | tar -xf -<\/span>\r\n<span style='color:rgb(46, 52, 54);font-family:monospace;'>bash-3.2$ <\/span><span style='color:rgb(46, 52, 54);font-family:monospace;font-weight:bold;'>pkgadd -d . MONGOmongo-c-driver<\/span><\/pre> \r\n  <\/div> \r\n  <div style='color:rgb(46, 52, 54);font-weight:bold;'> \r\n   <h3 style='color:inherit;font-size:inherit;font-weight:inherit;'>More Information<\/h3> \r\n  <\/div> \r\n  <div> \r\n   <ul> \r\n    <li><a title='Installation' href='http:\/\/api.mongodb.org\/c\/current\/index.html#installation' style='color:rgb(92, 53, 102);'>Installation<\/a><\/li> \r\n   <\/ul> \r\n  <\/div> \r\n  <div style='color:rgb(46, 52, 54);'> \r\n   <h2 style='font-size: 1.44em;'>Building on Windows<\/h2> \r\n  <\/div> \r\n  <p>Building on Windows requires Windows Vista or newer and Visual Studio 2010 or newer. Additionally,&nbsp;<span style='font-family:monospace;'>cmake<\/span>&nbsp;is required to generate Visual Studio project files.<\/p> \r\n  <p>Let's start by generating Visual Studio project files for libbson, a dependency of the C driver. The following assumes we are compiling for 64-bit Windows using Visual Studio 2010 Express which can be freely downloaded from Microsoft.<\/p> \r\n  <div style='background-color:rgb(243, 243, 240);'> \r\n   <pre>cd mongo-c-driver-1.1.0\\src\\libbson\r\ncmake -G 'Visual Studio 10 Win64' '-DCMAKE_INSTALL_PREFIX=C:\\mongo-c-driver'<\/pre> \r\n  <\/div> \r\n  <p>Now that we have project files generated, we can either open the project in Visual Studio or compile from the command line. Let's build using the command line program&nbsp;<span style='font-family:monospace;'>msbuild.exe<\/span><\/p> \r\n  <div style='background-color:rgb(243, 243, 240);'> \r\n   <pre>msbuild.exe ALL_BUILD.vcxproj<\/pre> \r\n  <\/div> \r\n  <p>Now that libbson is compiled, let's install it using msbuild. It will be installed to the path specified by<span style='font-family:monospace;'>CMAKE_INSTALL_PREFIX<\/span>.<\/p> \r\n  <div style='background-color:rgb(243, 243, 240);'> \r\n   <pre>msbuild.exe INSTALL.vcxproj<\/pre> \r\n  <\/div> \r\n  <p>You should now see libbson installed in&nbsp;<span style='font-family:monospace;'>C:\\mongo-c-driver<\/span><\/p> \r\n  <p>Now let's do the same for the MongoDB C driver.<\/p> \r\n  <div style='background-color:rgb(243, 243, 240);'> \r\n   <pre>cd mongo-c-driver-1.1.0\r\ncmake -G 'Visual Studio 2010 Win64' '-DCMAKE_INSTALL_PREFIX=C:\\mongo-c-driver' '-DBSON_ROOT_DIR=C:\\mongo-c-driver'\r\nmsbuild.exe ALL_BUILD.vcxproj\r\nmsbuild.exe INSTALL.vcxproj<\/pre> \r\n  <\/div> \r\n  <p>All of the MongoDB C Driver's components will now be found in&nbsp;<span style='font-family:monospace;'>C:\\mongo-c-driver<\/span>.<\/p> \r\n <\/div> \r\n<\/div>\r\n ","excerpt":"\u00a0InstallingtheMongoDBCDriverThefollowingguidewillstepyouthroughtheprocessofdownloading,building,andinstallingthecurrentreleaseoft","author":"1","sortid":"19","type":"blog","views":"55","comnum":"0","tbcount":"0","attnum":"0","top":"n","hide":"n","allow_remark":"y","allow_tb":"y","password":"","thumb":"0","alias":""}