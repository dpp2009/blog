{"gid":"459","title":"MySQL\u67e5\u8be2in\u64cd\u4f5c\u67e5\u8be2\u7ed3\u679c\u6309in\u96c6\u5408\u987a\u5e8f\u663e\u793a","date":"1414623600","content":"\r\n <div> \r\n <div style='font-family: Tahoma, Helvetica, Arial, \u5b8b\u4f53, sans-serif;'>\r\n   MySQL \u67e5\u8be2in\u64cd\u4f5c\uff0c\u67e5\u8be2\u7ed3\u679c\u6309in\u96c6\u5408\u987a\u5e8f\u663e\u793a\u7684\u5b9e\u73b0\u4ee3\u7801\uff0c\u9700\u8981\u7684\u670b\u53cb\u53ef\u4ee5\u53c2\u8003\u4e0b\u3002 \r\n <\/div> \r\n <div style='font-family: Tahoma, Helvetica, Arial, \u5b8b\u4f53, sans-serif;'> \r\n  <strong>MySQL \u67e5\u8be2in\u64cd\u4f5c\uff0c\u67e5\u8be2\u7ed3\u679c\u6309in\u96c6\u5408\u987a\u5e8f\u663e\u793a<\/strong>&nbsp; \r\n  <br> \r\n  <div style='background-color: rgb(242, 246, 251);'> \r\n   <a style='color:rgb(51, 51, 51);'><u>\u590d\u5236\u4ee3\u7801<\/u><\/a>\u4ee3\u7801\u5982\u4e0b: \r\n  <\/div> \r\n  <div style='background-color: rgb(221, 237, 251);'> \r\n   <br>select * from test where id in(3,1,5) order by find_in_set(id,'3,1,5');&nbsp; \r\n   <br>select * from test where id in(3,1,5) order by substring_index('3,1,2',id,1); \r\n   <br> \r\n  <\/div> \r\n  <br> \r\n  <br>\u5076\u5c14\u770b\u5230\u7684\u3002\u3002\u3002\u6216\u8bb8\u6709\u4eba\u4f1a\u6ce8\u610f\u8fc7\uff0c\u4f46\u6211\u4ee5\u524d\u771f\u4e0d\u77e5\u9053&nbsp; \r\n  <br>SQL: select * from table where id IN (3,6,9,1,2,5,8,7);&nbsp; \r\n  <br> \r\n  <br>\u8fd9\u6837\u7684\u60c5\u51b5\u53d6\u51fa\u6765\u540e\uff0c\u5176\u5b9e\uff0cid\u8fd8\u662f\u63091,2,3,4,5,6,7,8,9,\u6392\u5e8f\u7684\uff0c\u4f46\u5982\u679c\u6211\u4eec\u771f\u8981\u6309IN\u91cc\u9762\u7684\u987a\u5e8f\u6392\u5e8f\u600e\u4e48\u529e\uff1fSQL\u80fd\u4e0d\u80fd\u5b8c\u6210\uff1f\u662f\u5426\u9700\u8981\u53d6\u56de\u6765\u540e\u518dforeach\u4e00\u4e0b\uff1f\u5176\u5b9emysql\u5c31\u6709\u8fd9\u4e2a\u65b9\u6cd5&nbsp; \r\n  <br> \r\n  <br>sql: select * from table where id IN (3,6,9,1,2,5,8,7) order by field(id,3,6,9,1,2,5,8,7);&nbsp; \r\n  <br> \r\n  <br>\u51fa\u6765\u7684\u987a\u5e8f\u5c31\u662f\u6307\u5b9a\u7684\u987a\u5e8f\u4e86\u3002\u3002\u3002\u3002\u8fd9\u4e2a\uff0c\u4ee5\u524d\u8fd8\u771f\u7684\u4ece\u6765\u6ca1\u7528\u8fc7\uff0c\u5076\u5c14\u770b\u5230\uff0c\u6240\u4ee5\u5c31\u8bb0\u5f55\u4e86\u4e00\u4e0b\u3002\u4e00\u662f\u505a\u4e2a\u7b14\u8bb0\uff0c\u4e8c\u662f\u5e0c\u671b\u53ef\u4ee5\u7ed9\u66f4\u591a\u7684\u4eba\u770b\u5230&nbsp; \r\n  <br> \r\n  <br> \r\n  <strong>MySQL\u4e2dNOT IN\u8bed\u53e5\u5bf9NULL\u503c\u7684\u5904\u7406<\/strong>&nbsp; \r\n  <br> \r\n  <br>mysql&gt; SELECT COUNT(name) FROM CVE WHERE name NOT IN ('CVE-1999-0001', 'CVE-1999-0002');&nbsp; \r\n  <br>+-------------+&nbsp; \r\n  <br>| count(name) |&nbsp; \r\n  <br>+-------------+&nbsp; \r\n  <br>| 17629 |&nbsp; \r\n  <br>+-------------+&nbsp; \r\n  <br>1 row in set (0.02 sec)&nbsp; \r\n  <br>mysql&gt; SELECT COUNT(name) FROM CVE WHERE name NOT IN ('CVE-1999-0001', 'CVE-1999-0002', NULL);&nbsp; \r\n  <br>+-------------+&nbsp; \r\n  <br>| count(name) |&nbsp; \r\n  <br>+-------------+&nbsp; \r\n  <br>| 0 |&nbsp; \r\n  <br>+-------------+&nbsp; \r\n  <br>1 row in set (0.01 sec)&nbsp; \r\n  <br>\u5f53\u5728\u5b50\u67e5\u8be2\u4e2d\u51fa\u73b0NULL\u7684\u65f6\u5019\uff0c\u7ed3\u679c\u5c31\u4e00\u5b9a\u662f0\u4e86\u3002\u67e5\u4e86\u4e00\u4e0b\u624b\u518c\uff0c\u786e\u5b9e\u6709\u8fd9\u6837\u7684\u8bf4\u6cd5\u3002\u6240\u4ee5\u6700\u540e\u5b9e\u9645\u91c7\u7528\u4e86\u8fd9\u6837\u7684\u67e5\u8be2\uff1a&nbsp; \r\n  <br>SELECT COUNT(DISTINCT name)&nbsp; \r\n  <br>FROM CVE&nbsp; \r\n  <br>WHERE name NOT IN (SELECT cveID FROM cve_sig WHERE cveID IS NOT NULL)&nbsp; \r\n  <br>\u987a\u4fbf\u63d0\u4e00\u4e0bMySQL\u4e2d\u6b63\u5219\u8868\u8fbe\u5f0f\u5339\u914d\u7684\u7b80\u5355\u4f7f\u7528\uff1a&nbsp; \r\n  <br>SELECT COUNT(alarmID)&nbsp; \r\n  <br>FROM Alarm&nbsp; \r\n  <br>WHERE (CVE NOT RLIKE '^CVE-[0-9]{4}-[0-9]{4}$' OR CVE IS NULL)&nbsp; \r\n  <br>\u5f53\u7136\uff0cRLIKE\u4e5f\u53ef\u4ee5\u5199\u4f5cREGEXP\uff0c\u6211\u4e2a\u4eba\u503e\u5411\u4e8e\u4f7f\u7528RLIKE\uff0c\u56e0\u4e3a\u62fc\u5199\u63a5\u8fd1LIKE\uff0c\u53ef\u4ee5\u89c1\u540d\u77e5\u4e49\u3002&nbsp; \r\n  <br> \r\n  <br> \r\n  <strong>mysql - not in&nbsp;<br><\/strong>table:info primary key(id, info_type_id)&nbsp; \r\n  <br>id, info_type_id, programme_id, episode_id&nbsp; \r\n  <br>3, 4, 382, 100034&nbsp; \r\n  <br>3, 8, 382, 100034&nbsp; \r\n  <br>4, 8, 382, 100034&nbsp; \r\n  <br>6, 8, 382, 100034&nbsp; \r\n  <br>7, 8, 382, 100034&nbsp; \r\n  <br>8, 8, 382, 100034&nbsp; \r\n  <br>9, 8, 382, 100034&nbsp; \r\n  <br>10, 8, 382, 100034&nbsp; \r\n  <br>11, 8, 382, 100034&nbsp; \r\n  <br>12, 8, 382, 100034&nbsp; \r\n  <br>13, 8, 382, 100034&nbsp; \r\n  <br>100001, 4, 382, 100034&nbsp; \r\n  <br>100002, 4, 382, 100034&nbsp; \r\n  <br> \r\n  <br>\u6392\u9664(id=3 &amp;&amp; info_type_id=8) and (id=4 &amp;&amp; info_type_id=8)\u9019\u5169\u689d\u8a18\u9304\uff0c\u5373\u627e\u51fa\u5176\u5b83\u8a18\u9304&nbsp; \r\n  <br>error: select * from info where episode_id=100034 and id not in(3,4) and info_type_id not in (8);&nbsp; \r\n  <br>error result:&nbsp; \r\n  <br>id, info_type_id, programme_id, episode_id&nbsp; \r\n  <br>100001, 4, 382, 100034&nbsp; \r\n  <br>100002, 4, 382, 100034&nbsp; \r\n  <br>correct: select * from info where episode_id=100034 and (id&lt;&gt;3 or info_type_id&lt;&gt;8) and (id&lt;&gt;4 or info_type_id&lt;&gt;8);&nbsp; \r\n  <br>correct result:&nbsp; \r\n  <br>id, info_type_id, programme_id, episode_id&nbsp; \r\n  <br>3, 4, 382, 100034&nbsp; \r\n  <br>6, 8, 382, 100034&nbsp; \r\n  <br>7, 8, 382, 100034&nbsp; \r\n  <br>8, 8, 382, 100034&nbsp; \r\n  <br>9, 8, 382, 100034&nbsp; \r\n  <br>10, 8, 382, 100034&nbsp; \r\n  <br>11, 8, 382, 100034&nbsp; \r\n  <br>12, 8, 382, 100034&nbsp; \r\n  <br>13, 8, 382, 100034&nbsp; \r\n  <br>100001, 4, 382, 100034&nbsp; \r\n  <br>100002, 4, 382, 100034&nbsp; \r\n  <br>\u7406\u89e3\uff1aid&lt;&gt;3 or info_type_id&lt;&gt;8\u6392\u9664\u6389id=3 &amp;&amp; info_type_id=8\u9019\u689d\u8a18\u9304,\u7576\u8868\u4e2d\u4e3b\u9375\u591a\u4e8e\u4e00\u500b\u6642\uff0c\u4e0d\u80fd\u7c21\u55ae\u5730\u4f7f\u7528key1 NOT IN (\u2026\u2026) AND key2 NOT IN (\u2026\u2026) .. \r\n <\/div> \r\n<\/div>\r\n ","excerpt":"\u00a0MySQL\u67e5\u8be2in\u64cd\u4f5c\uff0c\u67e5\u8be2\u7ed3\u679c\u6309in\u96c6\u5408\u987a\u5e8f\u663e\u793a\u7684\u5b9e\u73b0\u4ee3\u7801\uff0c\u9700\u8981\u7684\u670b\u53cb\u53ef\u4ee5\u53c2\u8003\u4e0b\u3002MySQL\u67e5\u8be2in\u64cd\u4f5c\uff0c\u67e5\u8be2\u7ed3\u679c\u6309in\u96c6\u5408\u987a\u5e8f\u663e\u793a\u590d\u5236\u4ee3\u7801\u4ee3\u7801\u5982\u4e0b:select*fromtestwhereidin(3,1,5)orderbyfind_in_set(id,\\'3,1,5\\');","author":"1","sortid":"19","type":"blog","views":"62","comnum":"0","tbcount":"0","attnum":"0","top":"n","hide":"n","allow_remark":"y","allow_tb":"y","password":"","thumb":"0","alias":""}