{"gid":"196","title":"sphinx\u5168\u6587\u68c0\u7d22\u4e4bPHP\u4f7f\u7528\u6559\u7a0b","date":"1393400116","content":"<h1 style=\"text-indent:2em;\">\n\t<span style=\"font-size:12px;font-weight:normal;line-height:1.5;\">\u6570\u636e\u7ed3\u6784\uff1a<\/span>\n<\/h1>\n<div style=\"padding:0px;margin:0px;\">\n<pre>\tCREATE TABLE email (\nemailid mediumint(8) unsigned NOT NULL auto_increment COMMENT '\u90ae\u4ef6id',\n\nfromid int(10) unsigned NOT NULL default '0' COMMENT '\u53d1\u9001\u4ebaID',\n\ntoid int(10) unsigned NOT NULL default '0' COMMENT '\u6536\u4ef6\u4ebaID',\ncontent text unsigned NOT NULL COMMENT '\u90ae\u4ef6\u5185\u5bb9',\nsubject varchar(100) unsigned NOT NULL COMMENT '\u90ae\u4ef6\u6807\u9898',\n\nsendtime int(10) NOT NULL COMMENT '\u53d1\u9001\u65f6\u95f4',\n\nattachment varchar(100) NOT NULL COMMENT '\u9644\u4ef6ID\uff0c\u4ee5\u9017\u53f7\u5206\u5272', PRIMARY KEY (emailid),\n) ENGINE=MyISAM';<\/pre>\n<\/div>\n<p style=\"text-indent:2em;\">\n\t<br \/>\n<\/p>\n<p style=\"text-indent:2em;\">\n\t<br \/>\n<\/p>\n<p style=\"text-indent:2em;\">\n\t\u4f7f\u7528\u6253\u5f00\u63a7\u5236\u53f0\uff0c\u5fc5\u9700\u6253\u5f00\u63a7\u5236\u53f0PHP\u624d\u80fd\u8fde\u63a5\u5230sphinx\uff08\u786e\u4fdd\u4f60\u5df2\u7ecf\u5efa\u7acb\u597d\u7d22\u5f15\u6e90\uff09\uff1a\n<\/p>\n<p style=\"text-indent:2em;\">\n\td:\\coreseek\\bin\\searchd&nbsp;-c&nbsp;d:\\coreseek\\bin\\sphinx.conf\n<\/p>\n<p style=\"text-indent:2em;\">\n\t<br \/>\n<\/p>\n<p style=\"text-indent:2em;\">\n\tcoreseek\/api\u76ee\u5f55\u4e0b\u63d0\u4f9b\u4e86PHP\u7684\u63a5\u53e3\u6587\u4ef6&nbsp;sphinxapi.php\uff0c\u8fd9\u4e2a\u6587\u4ef6\u5305\u542b\u4e00\u4e2aSphinxClient\u7684\u7c7b\n<\/p>\n<p style=\"text-indent:2em;\">\n\t\u5728PHP\u5f15\u5165\u8fd9\u4e2a\u6587\u4ef6\uff0cnew\u4e00\u4e0b\n<\/p>\n<div id=\"highlighter_971303\" style=\"padding:0px;margin:0px;\">\n\t<div style=\"padding:0px;margin:0px;\">\n\t\t<div style=\"padding:0px;margin:0px;\">\n\t\t\t<table style=\"padding:0px;margin:0px;\">\n\t\t\t\t<tbody>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t01\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t$sphinx&nbsp;=&nbsp;new&nbsp;SphinxClient();\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t<\/tr>\n\t\t\t\t<\/tbody>\n\t\t\t<\/table>\n\t\t<\/div>\n\t\t<div style=\"padding:0px;margin:0px;\">\n\t\t\t<table style=\"padding:0px;margin:0px;\">\n\t\t\t\t<tbody>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t02\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t&nbsp;\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t<\/tr>\n\t\t\t\t<\/tbody>\n\t\t\t<\/table>\n\t\t<\/div>\n\t\t<div style=\"padding:0px;margin:0px;\">\n\t\t\t<table style=\"padding:0px;margin:0px;\">\n\t\t\t\t<tbody>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t03\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\/\/sphinx\u7684\u4e3b\u673a\u540d\u548c\u7aef\u53e3\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t<\/tr>\n\t\t\t\t<\/tbody>\n\t\t\t<\/table>\n\t\t<\/div>\n\t\t<div style=\"padding:0px;margin:0px;\">\n\t\t\t<table style=\"padding:0px;margin:0px;\">\n\t\t\t\t<tbody>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t04\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t&nbsp;\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t<\/tr>\n\t\t\t\t<\/tbody>\n\t\t\t<\/table>\n\t\t<\/div>\n\t\t<div style=\"padding:0px;margin:0px;\">\n\t\t\t<table style=\"padding:0px;margin:0px;\">\n\t\t\t\t<tbody>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t05\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t$sphinx-&gt;SetServer (&nbsp;'loclahost', 9312 );\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t<\/tr>\n\t\t\t\t<\/tbody>\n\t\t\t<\/table>\n\t\t<\/div>\n\t\t<div style=\"padding:0px;margin:0px;\">\n\t\t\t<table style=\"padding:0px;margin:0px;\">\n\t\t\t\t<tbody>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t06\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t&nbsp;\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t<\/tr>\n\t\t\t\t<\/tbody>\n\t\t\t<\/table>\n\t\t<\/div>\n\t\t<div style=\"padding:0px;margin:0px;\">\n\t\t\t<table style=\"padding:0px;margin:0px;\">\n\t\t\t\t<tbody>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t07\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\/\/\u8bbe\u7f6e\u8fd4\u56de\u7ed3\u679c\u96c6\u4e3aphp\u6570\u7ec4\u683c\u5f0f\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t<\/tr>\n\t\t\t\t<\/tbody>\n\t\t\t<\/table>\n\t\t<\/div>\n\t\t<div style=\"padding:0px;margin:0px;\">\n\t\t\t<table style=\"padding:0px;margin:0px;\">\n\t\t\t\t<tbody>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t08\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t&nbsp;\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t<\/tr>\n\t\t\t\t<\/tbody>\n\t\t\t<\/table>\n\t\t<\/div>\n\t\t<div style=\"padding:0px;margin:0px;\">\n\t\t\t<table style=\"padding:0px;margin:0px;\">\n\t\t\t\t<tbody>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t09\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t$sphinx-&gt;SetArrayResult ( true );\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t<\/tr>\n\t\t\t\t<\/tbody>\n\t\t\t<\/table>\n\t\t<\/div>\n\t\t<div style=\"padding:0px;margin:0px;\">\n\t\t\t<table style=\"padding:0px;margin:0px;\">\n\t\t\t\t<tbody>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t10\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t&nbsp;\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t<\/tr>\n\t\t\t\t<\/tbody>\n\t\t\t<\/table>\n\t\t<\/div>\n\t\t<div style=\"padding:0px;margin:0px;\">\n\t\t\t<table style=\"padding:0px;margin:0px;\">\n\t\t\t\t<tbody>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t11\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\/\/\u5339\u914d\u7ed3\u679c\u7684\u504f\u79fb\u91cf\uff0c\u53c2\u6570\u7684\u610f\u4e49\u4f9d\u6b21\u4e3a\uff1a\u8d77\u59cb\u4f4d\u7f6e\uff0c\u8fd4\u56de\u7ed3\u679c\u6761\u6570\uff0c\u6700\u5927\u5339\u914d\u6761\u6570\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t<\/tr>\n\t\t\t\t<\/tbody>\n\t\t\t<\/table>\n\t\t<\/div>\n\t\t<div style=\"padding:0px;margin:0px;\">\n\t\t\t<table style=\"padding:0px;margin:0px;\">\n\t\t\t\t<tbody>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t12\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t&nbsp;\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t<\/tr>\n\t\t\t\t<\/tbody>\n\t\t\t<\/table>\n\t\t<\/div>\n\t\t<div style=\"padding:0px;margin:0px;\">\n\t\t\t<table style=\"padding:0px;margin:0px;\">\n\t\t\t\t<tbody>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t13\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t$sphinx-&gt;SetLimits(0, 20, 1000);\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t<\/tr>\n\t\t\t\t<\/tbody>\n\t\t\t<\/table>\n\t\t<\/div>\n\t\t<div style=\"padding:0px;margin:0px;\">\n\t\t\t<table style=\"padding:0px;margin:0px;\">\n\t\t\t\t<tbody>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t14\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t&nbsp;\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t<\/tr>\n\t\t\t\t<\/tbody>\n\t\t\t<\/table>\n\t\t<\/div>\n\t\t<div style=\"padding:0px;margin:0px;\">\n\t\t\t<table style=\"padding:0px;margin:0px;\">\n\t\t\t\t<tbody>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t15\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\/\/\u6700\u5927\u641c\u7d22\u65f6\u95f4\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t<\/tr>\n\t\t\t\t<\/tbody>\n\t\t\t<\/table>\n\t\t<\/div>\n\t\t<div style=\"padding:0px;margin:0px;\">\n\t\t\t<table style=\"padding:0px;margin:0px;\">\n\t\t\t\t<tbody>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t16\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t&nbsp;\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t<\/tr>\n\t\t\t\t<\/tbody>\n\t\t\t<\/table>\n\t\t<\/div>\n\t\t<div style=\"padding:0px;margin:0px;\">\n\t\t\t<table style=\"padding:0px;margin:0px;\">\n\t\t\t\t<tbody>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t17\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t$sphinx-&gt;SetMaxQueryTime(10);\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t<\/tr>\n\t\t\t\t<\/tbody>\n\t\t\t<\/table>\n\t\t<\/div>\n\t\t<div style=\"padding:0px;margin:0px;\">\n\t\t\t<table style=\"padding:0px;margin:0px;\">\n\t\t\t\t<tbody>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t18\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t&nbsp;\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t<\/tr>\n\t\t\t\t<\/tbody>\n\t\t\t<\/table>\n\t\t<\/div>\n\t\t<div style=\"padding:0px;margin:0px;\">\n\t\t\t<table style=\"padding:0px;margin:0px;\">\n\t\t\t\t<tbody>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t19\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t&nbsp;\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t<\/tr>\n\t\t\t\t<\/tbody>\n\t\t\t<\/table>\n\t\t<\/div>\n\t\t<div style=\"padding:0px;margin:0px;\">\n\t\t\t<table style=\"padding:0px;margin:0px;\">\n\t\t\t\t<tbody>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t20\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t&nbsp;\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t<\/tr>\n\t\t\t\t<\/tbody>\n\t\t\t<\/table>\n\t\t<\/div>\n\t\t<div style=\"padding:0px;margin:0px;\">\n\t\t\t<table style=\"padding:0px;margin:0px;\">\n\t\t\t\t<tbody>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t21\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\/\/\u6267\u884c\u7b80\u5355\u7684\u641c\u7d22\uff0c\u8fd9\u4e2a\u641c\u7d22\u5c06\u4f1a\u67e5\u8be2\u6240\u6709\u5b57\u6bb5\u7684\u4fe1\u606f\uff0c\u8981\u67e5\u8be2\u6307\u5b9a\u7684\u5b57\u6bb5\u8bf7\u7ee7\u7eed\u770b\u4e0b\u6587\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t<\/tr>\n\t\t\t\t<\/tbody>\n\t\t\t<\/table>\n\t\t<\/div>\n\t\t<div style=\"padding:0px;margin:0px;\">\n\t\t\t<table style=\"padding:0px;margin:0px;\">\n\t\t\t\t<tbody>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t22\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t&nbsp;\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t<\/tr>\n\t\t\t\t<\/tbody>\n\t\t\t<\/table>\n\t\t<\/div>\n\t\t<div style=\"padding:0px;margin:0px;\">\n\t\t\t<table style=\"padding:0px;margin:0px;\">\n\t\t\t\t<tbody>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t23\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t$index&nbsp;=&nbsp;'email'&nbsp;\/\/\u7d22\u5f15\u6e90\u662f\u914d\u7f6e\u6587\u4ef6\u4e2d\u7684 index \u7c7b\uff0c\u5982\u679c\u6709\u591a\u4e2a\u7d22\u5f15\u6e90\u53ef\u4f7f\u7528,\u53f7\u9694\u5f00\uff1a'email,diary' \u6216\u8005\u4f7f\u7528'*'\u53f7\u4ee3\u8868\u5168\u90e8\u7d22\u5f15\u6e90\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t<\/tr>\n\t\t\t\t<\/tbody>\n\t\t\t<\/table>\n\t\t<\/div>\n\t\t<div style=\"padding:0px;margin:0px;\">\n\t\t\t<table style=\"padding:0px;margin:0px;\">\n\t\t\t\t<tbody>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t24\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t&nbsp;\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t<\/tr>\n\t\t\t\t<\/tbody>\n\t\t\t<\/table>\n\t\t<\/div>\n\t\t<div style=\"padding:0px;margin:0px;\">\n\t\t\t<table style=\"padding:0px;margin:0px;\">\n\t\t\t\t<tbody>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t25\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t$result&nbsp;=&nbsp;$sphinx-&gt;query ('\u641c\u7d22\u5173\u952e\u5b57',&nbsp;$index);\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t<\/tr>\n\t\t\t\t<\/tbody>\n\t\t\t<\/table>\n\t\t<\/div>\n\t\t<div style=\"padding:0px;margin:0px;\">\n\t\t\t<table style=\"padding:0px;margin:0px;\">\n\t\t\t\t<tbody>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t26\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t&nbsp;\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t<\/tr>\n\t\t\t\t<\/tbody>\n\t\t\t<\/table>\n\t\t<\/div>\n\t\t<div style=\"padding:0px;margin:0px;\">\n\t\t\t<table style=\"padding:0px;margin:0px;\">\n\t\t\t\t<tbody>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t27\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\techo&nbsp;'&lt;pre&gt;';\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t<\/tr>\n\t\t\t\t<\/tbody>\n\t\t\t<\/table>\n\t\t<\/div>\n\t\t<div style=\"padding:0px;margin:0px;\">\n\t\t\t<table style=\"padding:0px;margin:0px;\">\n\t\t\t\t<tbody>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t28\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t&nbsp;\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t<\/tr>\n\t\t\t\t<\/tbody>\n\t\t\t<\/table>\n\t\t<\/div>\n\t\t<div style=\"padding:0px;margin:0px;\">\n\t\t\t<table style=\"padding:0px;margin:0px;\">\n\t\t\t\t<tbody>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t29\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\tprint_r($result);\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t<\/tr>\n\t\t\t\t<\/tbody>\n\t\t\t<\/table>\n\t\t<\/div>\n\t\t<div style=\"padding:0px;margin:0px;\">\n\t\t\t<table style=\"padding:0px;margin:0px;\">\n\t\t\t\t<tbody>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t30\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t&nbsp;\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t<\/tr>\n\t\t\t\t<\/tbody>\n\t\t\t<\/table>\n\t\t<\/div>\n\t\t<div style=\"padding:0px;margin:0px;\">\n\t\t\t<table style=\"padding:0px;margin:0px;\">\n\t\t\t\t<tbody>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t31\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\techo&nbsp;'&lt;\/pre&gt;';\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t<\/tr>\n\t\t\t\t<\/tbody>\n\t\t\t<\/table>\n\t\t<\/div>\n\t<\/div>\n<\/div>\n<p style=\"text-indent:2em;\">\n\t<br \/>\n<\/p>\n<p style=\"text-indent:2em;\">\n\t$result\u662f\u4e00\u4e2a\u6570\u7ec4\uff0c\u5176\u4e2d\n<\/p>\n<p style=\"text-indent:2em;\">\n\ttotal\u662f\u5339\u914d\u5230\u7684\u6570\u636e\u603b\u6570\u91cf\n<\/p>\n<p style=\"text-indent:2em;\">\n\tmatches\u662f\u5339\u914d\u7684\u6570\u636e\uff0c\u5305\u542bid\uff0cattrs\u8fd9\u4e9b\u4fe1\u606f\n<\/p>\n<p style=\"text-indent:2em;\">\n\twords\u662f\u641c\u7d22\u5173\u952e\u5b57\u7684\u5206\u8bcd\n<\/p>\n<p style=\"text-indent:2em;\">\n\t<br \/>\n<\/p>\n<p style=\"text-indent:2em;\">\n\t\u4f60\u53ef\u80fd\u5947\u602a\u4e3a\u4ec0\u4e48\u6ca1\u6709\u90ae\u4ef6\u7684\u5185\u5bb9\u8fd9\u4e9b\u4fe1\u606f\uff0c\u5176\u5b9esphinx\u5e76\u4e0d\u4f1a\u8fd4\u56de\u50cfmysql\u90a3\u6837\u7684\u6570\u636e\u6570\u7ec4\uff0c\u56e0\u4e3asphinx\u672c\u6765\u5c31\u6ca1\u6709\u8bb0\u5f55\u5b8c\u6574\u7684\u6570\u636e\uff0c\u53ea\u8bb0\u5f55\u88ab\u5206\u8bcd\u540e\u7684\u6570\u636e\u3002\n<\/p>\n<p style=\"text-indent:2em;\">\n\t\u5177\u4f53\u8fd8\u8981\u770bmatches\u6570\u7ec4\uff0cmatches\u4e2d\u7684ID\u5c31\u662f\u6307\u914d\u7f6e\u6587\u4ef6\u4e2dsql_query&nbsp;SELECT\u8bed\u53e5\u4e2d\u7684\u7b2c\u4e00\u4e2a\u5b57\u6bb5\uff0c\u6211\u4eec\u914d\u7f6e\u6587\u4ef6\u4e2d\u662f\u8fd9\u6837\u7684\n<\/p>\n<p style=\"text-indent:2em;\">\n\tsql_query&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;SELECT&nbsp;emailid,fromid,toid,subject,content,sendtime,attachement&nbsp;FROM&nbsp;email\n<\/p>\n<p style=\"text-indent:2em;\">\n\t\u6240\u4ee5matches\u4e2d\u7684ID\u662f\u6307emailid\n<\/p>\n<p style=\"text-indent:2em;\">\n\t\u81f3\u4e8eweight\u662f\u6307\u5339\u914d\u7684\u6743\u91cd\uff0c\u4e00\u822c\u6743\u91cd\u8d8a\u9ad8\u88ab\u8fd4\u56de\u7684\u4f18\u5148\u5ea6\u4e5f\u6700\u9ad8\uff0c\u5339\u914d\u6743\u91cd\u76f8\u5173\u5185\u5bb9\u8bf7\u53c2\u8003\u5b98\u65b9\u6587\u6863\n<\/p>\n<p style=\"text-indent:2em;\">\n\tattrs\u662f\u914d\u7f6e\u6587\u4ef6\u4e2dsql_attr_&nbsp;&nbsp;&nbsp;&nbsp;\u4e2d\u7684\u4fe1\u606f\uff0c\u7a0d\u540e\u4f1a\u63d0\u5230\u8fd9\u4e9b\u5c5e\u6027\u7684\u7528\u6cd5\n<\/p>\n<p style=\"text-indent:2em;\">\n\t<br \/>\n<\/p>\n<p style=\"text-indent:2em;\">\n\t\u8bf4\u4e86\u8fd9\u4e48\u591a\uff0c\u5373\u4f7f\u641c\u7d22\u5230\u7ed3\u679c\u4e5f\u4e0d\u662f\u6211\u4eec\u60f3\u8981\u7684email\u6570\u636e\uff0c\u4f46\u4e8b\u5b9esphinx\u662f\u4e0d\u8bb0\u5f55\u771f\u5b9e\u6570\u636e\u7684\uff0c\u6240\u4ee5\u8981\u83b7\u53d6\u5230\u771f\u5b9eemail\u6570\u636e\u8fd8\u8981\u6839\u636ematches\u4e2d\u7684ID\u53bb\u641c\u7d22mysql\u7684email\u8868\uff0c\u4f46\u603b\u4f53\u6765\u8bf4\u8fd9\u6837\u4e00\u6765\u4e00\u56de\u7684\u901f\u5ea6\u8fd8\u662f\u8fdc\u8fdc\u6bd4mysql\u7684LIKE\u5feb\u5f97\u591a\uff0c\u524d\u63d0\u662f\u51e0\u5341\u4e07\u6570\u636e\u91cf\u4ee5\u4e0a\uff0c\u5426\u5219\u7528sphinx\u53ea\u4f1a\u66f4\u6162\u3002\n<\/p>\n<p style=\"text-indent:2em;\">\n\t<br \/>\n<\/p>\n<p style=\"text-indent:2em;\">\n\t\u63a5\u4e0b\u6765\u4ecb\u7ecdsphinx\u4e00\u4e9b\u7c7b\u4f3cmysql\u6761\u4ef6\u7684\u7528\u6cd5\n<\/p>\n<div id=\"highlighter_622733\" style=\"padding:0px;margin:0px;\">\n\t<div style=\"padding:0px;margin:0px;\">\n\t\t<div style=\"padding:0px;margin:0px;\">\n\t\t\t<table style=\"padding:0px;margin:0px;\">\n\t\t\t\t<tbody>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t01\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\/\/emailid\u7684\u8303\u56f4\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t<\/tr>\n\t\t\t\t<\/tbody>\n\t\t\t<\/table>\n\t\t<\/div>\n\t\t<div style=\"padding:0px;margin:0px;\">\n\t\t\t<table style=\"padding:0px;margin:0px;\">\n\t\t\t\t<tbody>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t02\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t&nbsp;\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t<\/tr>\n\t\t\t\t<\/tbody>\n\t\t\t<\/table>\n\t\t<\/div>\n\t\t<div style=\"padding:0px;margin:0px;\">\n\t\t\t<table style=\"padding:0px;margin:0px;\">\n\t\t\t\t<tbody>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t03\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t$sphinx-&gt;SetIdRange($min,&nbsp;$max);\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t<\/tr>\n\t\t\t\t<\/tbody>\n\t\t\t<\/table>\n\t\t<\/div>\n\t\t<div style=\"padding:0px;margin:0px;\">\n\t\t\t<table style=\"padding:0px;margin:0px;\">\n\t\t\t\t<tbody>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t04\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t&nbsp;\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t<\/tr>\n\t\t\t\t<\/tbody>\n\t\t\t<\/table>\n\t\t<\/div>\n\t\t<div style=\"padding:0px;margin:0px;\">\n\t\t\t<table style=\"padding:0px;margin:0px;\">\n\t\t\t\t<tbody>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t05\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t&nbsp;\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t<\/tr>\n\t\t\t\t<\/tbody>\n\t\t\t<\/table>\n\t\t<\/div>\n\t\t<div style=\"padding:0px;margin:0px;\">\n\t\t\t<table style=\"padding:0px;margin:0px;\">\n\t\t\t\t<tbody>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t06\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t&nbsp;\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t<\/tr>\n\t\t\t\t<\/tbody>\n\t\t\t<\/table>\n\t\t<\/div>\n\t\t<div style=\"padding:0px;margin:0px;\">\n\t\t\t<table style=\"padding:0px;margin:0px;\">\n\t\t\t\t<tbody>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t07\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\/\/\u5c5e\u6027\u8fc7\u6ee4\uff0c\u53ef\u8fc7\u6ee4\u7684\u5c5e\u6027\u5fc5\u9700\u5728\u914d\u7f6e\u6587\u4ef6\u4e2d\u8bbe\u7f6esql_attr_&nbsp;&nbsp;&nbsp; \uff0c\u4e4b\u524d\u6211\u4eec\u5b9a\u4e49\u4e86\u8fd9\u4e9b\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t<\/tr>\n\t\t\t\t<\/tbody>\n\t\t\t<\/table>\n\t\t<\/div>\n\t\t<div style=\"padding:0px;margin:0px;\">\n\t\t\t<table style=\"padding:0px;margin:0px;\">\n\t\t\t\t<tbody>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t08\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t&nbsp;\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t<\/tr>\n\t\t\t\t<\/tbody>\n\t\t\t<\/table>\n\t\t<\/div>\n\t\t<div style=\"padding:0px;margin:0px;\">\n\t\t\t<table style=\"padding:0px;margin:0px;\">\n\t\t\t\t<tbody>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t09\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t&nbsp;&nbsp;&nbsp;&nbsp;sql_attr_uint&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; = fromid\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t<\/tr>\n\t\t\t\t<\/tbody>\n\t\t\t<\/table>\n\t\t<\/div>\n\t\t<div style=\"padding:0px;margin:0px;\">\n\t\t\t<table style=\"padding:0px;margin:0px;\">\n\t\t\t\t<tbody>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t10\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t&nbsp;\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t<\/tr>\n\t\t\t\t<\/tbody>\n\t\t\t<\/table>\n\t\t<\/div>\n\t\t<div style=\"padding:0px;margin:0px;\">\n\t\t\t<table style=\"padding:0px;margin:0px;\">\n\t\t\t\t<tbody>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t11\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t&nbsp;&nbsp;&nbsp;&nbsp;sql_attr_uint&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; = toid\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t<\/tr>\n\t\t\t\t<\/tbody>\n\t\t\t<\/table>\n\t\t<\/div>\n\t\t<div style=\"padding:0px;margin:0px;\">\n\t\t\t<table style=\"padding:0px;margin:0px;\">\n\t\t\t\t<tbody>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t12\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t&nbsp;\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t<\/tr>\n\t\t\t\t<\/tbody>\n\t\t\t<\/table>\n\t\t<\/div>\n\t\t<div style=\"padding:0px;margin:0px;\">\n\t\t\t<table style=\"padding:0px;margin:0px;\">\n\t\t\t\t<tbody>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t13\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t&nbsp;&nbsp;&nbsp;&nbsp;sql_attr_timestamp&nbsp; = sendtime\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t<\/tr>\n\t\t\t\t<\/tbody>\n\t\t\t<\/table>\n\t\t<\/div>\n\t\t<div style=\"padding:0px;margin:0px;\">\n\t\t\t<table style=\"padding:0px;margin:0px;\">\n\t\t\t\t<tbody>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t14\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t&nbsp;\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t<\/tr>\n\t\t\t\t<\/tbody>\n\t\t\t<\/table>\n\t\t<\/div>\n\t\t<div style=\"padding:0px;margin:0px;\">\n\t\t\t<table style=\"padding:0px;margin:0px;\">\n\t\t\t\t<tbody>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t15\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\/\/\u5982\u679c\u4f60\u60f3\u518d\u6b21\u4fee\u6539\u8fd9\u4e9b\u5c5e\u6027\uff0c\u914d\u7f6e\u5b8c\u6210\u540e\u8bb0\u5f97\u91cd\u65b0\u5efa\u7acb\u7d22\u5f15\u624d\u80fd\u751f\u6548\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t<\/tr>\n\t\t\t\t<\/tbody>\n\t\t\t<\/table>\n\t\t<\/div>\n\t\t<div style=\"padding:0px;margin:0px;\">\n\t\t\t<table style=\"padding:0px;margin:0px;\">\n\t\t\t\t<tbody>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t16\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t&nbsp;\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t<\/tr>\n\t\t\t\t<\/tbody>\n\t\t\t<\/table>\n\t\t<\/div>\n\t\t<div style=\"padding:0px;margin:0px;\">\n\t\t\t<table style=\"padding:0px;margin:0px;\">\n\t\t\t\t<tbody>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t17\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t&nbsp;\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t<\/tr>\n\t\t\t\t<\/tbody>\n\t\t\t<\/table>\n\t\t<\/div>\n\t\t<div style=\"padding:0px;margin:0px;\">\n\t\t\t<table style=\"padding:0px;margin:0px;\">\n\t\t\t\t<tbody>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t18\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t&nbsp;\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t<\/tr>\n\t\t\t\t<\/tbody>\n\t\t\t<\/table>\n\t\t<\/div>\n\t\t<div style=\"padding:0px;margin:0px;\">\n\t\t\t<table style=\"padding:0px;margin:0px;\">\n\t\t\t\t<tbody>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t19\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\/\/\u6307\u5b9a\u4e00\u4e9b\u503c\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t<\/tr>\n\t\t\t\t<\/tbody>\n\t\t\t<\/table>\n\t\t<\/div>\n\t\t<div style=\"padding:0px;margin:0px;\">\n\t\t\t<table style=\"padding:0px;margin:0px;\">\n\t\t\t\t<tbody>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t20\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t&nbsp;\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t<\/tr>\n\t\t\t\t<\/tbody>\n\t\t\t<\/table>\n\t\t<\/div>\n\t\t<div style=\"padding:0px;margin:0px;\">\n\t\t\t<table style=\"padding:0px;margin:0px;\">\n\t\t\t\t<tbody>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t21\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t$sphinx-&gt;SetFilter('fromid',&nbsp;array(1,2));&nbsp;&nbsp;&nbsp;&nbsp;\/\/fromid\u7684\u503c\u53ea\u80fd\u662f1\u6216\u80052\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t<\/tr>\n\t\t\t\t<\/tbody>\n\t\t\t<\/table>\n\t\t<\/div>\n\t\t<div style=\"padding:0px;margin:0px;\">\n\t\t\t<table style=\"padding:0px;margin:0px;\">\n\t\t\t\t<tbody>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t22\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t&nbsp;\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t<\/tr>\n\t\t\t\t<\/tbody>\n\t\t\t<\/table>\n\t\t<\/div>\n\t\t<div style=\"padding:0px;margin:0px;\">\n\t\t\t<table style=\"padding:0px;margin:0px;\">\n\t\t\t\t<tbody>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t23\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\/\/\u548c\u4ee5\u4e0a\u6761\u4ef6\u76f8\u53cd\uff0c\u53ef\u589e\u52a0\u7b2c\u4e09\u4e2a\u53c2\u6570\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t<\/tr>\n\t\t\t\t<\/tbody>\n\t\t\t<\/table>\n\t\t<\/div>\n\t\t<div style=\"padding:0px;margin:0px;\">\n\t\t\t<table style=\"padding:0px;margin:0px;\">\n\t\t\t\t<tbody>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t24\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t&nbsp;\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t<\/tr>\n\t\t\t\t<\/tbody>\n\t\t\t<\/table>\n\t\t<\/div>\n\t\t<div style=\"padding:0px;margin:0px;\">\n\t\t\t<table style=\"padding:0px;margin:0px;\">\n\t\t\t\t<tbody>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t25\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t$sphinx-&gt;SetFilter('fromid',&nbsp;array(1,2), false);&nbsp;&nbsp;&nbsp;&nbsp;\/\/fromid\u7684\u503c\u4e0d\u80fd\u662f1\u6216\u80052\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t<\/tr>\n\t\t\t\t<\/tbody>\n\t\t\t<\/table>\n\t\t<\/div>\n\t\t<div style=\"padding:0px;margin:0px;\">\n\t\t\t<table style=\"padding:0px;margin:0px;\">\n\t\t\t\t<tbody>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t26\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t&nbsp;\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t<\/tr>\n\t\t\t\t<\/tbody>\n\t\t\t<\/table>\n\t\t<\/div>\n\t\t<div style=\"padding:0px;margin:0px;\">\n\t\t\t<table style=\"padding:0px;margin:0px;\">\n\t\t\t\t<tbody>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t27\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\/\/\u6307\u5b9a\u4e00\u4e2a\u503c\u7684\u8303\u56f4\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t<\/tr>\n\t\t\t\t<\/tbody>\n\t\t\t<\/table>\n\t\t<\/div>\n\t\t<div style=\"padding:0px;margin:0px;\">\n\t\t\t<table style=\"padding:0px;margin:0px;\">\n\t\t\t\t<tbody>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t28\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t&nbsp;\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t<\/tr>\n\t\t\t\t<\/tbody>\n\t\t\t<\/table>\n\t\t<\/div>\n\t\t<div style=\"padding:0px;margin:0px;\">\n\t\t\t<table style=\"padding:0px;margin:0px;\">\n\t\t\t\t<tbody>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t29\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t$sphinx-&gt;SetFilterRange('toid', 5, 200);&nbsp;&nbsp;&nbsp;&nbsp;\/\/toid\u7684\u503c\u57285-200\u4e4b\u95f4\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t<\/tr>\n\t\t\t\t<\/tbody>\n\t\t\t<\/table>\n\t\t<\/div>\n\t\t<div style=\"padding:0px;margin:0px;\">\n\t\t\t<table style=\"padding:0px;margin:0px;\">\n\t\t\t\t<tbody>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t30\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t&nbsp;\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t<\/tr>\n\t\t\t\t<\/tbody>\n\t\t\t<\/table>\n\t\t<\/div>\n\t\t<div style=\"padding:0px;margin:0px;\">\n\t\t\t<table style=\"padding:0px;margin:0px;\">\n\t\t\t\t<tbody>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t31\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\/\/\u548c\u4ee5\u4e0a\u6761\u4ef6\u76f8\u53cd\uff0c\u53ef\u589e\u52a0\u7b2c\u4e09\u4e2a\u53c2\u6570\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t<\/tr>\n\t\t\t\t<\/tbody>\n\t\t\t<\/table>\n\t\t<\/div>\n\t\t<div style=\"padding:0px;margin:0px;\">\n\t\t\t<table style=\"padding:0px;margin:0px;\">\n\t\t\t\t<tbody>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t32\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t&nbsp;\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t<\/tr>\n\t\t\t\t<\/tbody>\n\t\t\t<\/table>\n\t\t<\/div>\n\t\t<div style=\"padding:0px;margin:0px;\">\n\t\t\t<table style=\"padding:0px;margin:0px;\">\n\t\t\t\t<tbody>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t33\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t$sphinx-&gt;SetFilterRange('toid', 5, 200, false);&nbsp;&nbsp;&nbsp;&nbsp;\/\/toid\u7684\u503c\u57285-200\u4ee5\u5916\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t<\/tr>\n\t\t\t\t<\/tbody>\n\t\t\t<\/table>\n\t\t<\/div>\n\t\t<div style=\"padding:0px;margin:0px;\">\n\t\t\t<table style=\"padding:0px;margin:0px;\">\n\t\t\t\t<tbody>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t34\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t&nbsp;\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t<\/tr>\n\t\t\t\t<\/tbody>\n\t\t\t<\/table>\n\t\t<\/div>\n\t\t<div style=\"padding:0px;margin:0px;\">\n\t\t\t<table style=\"padding:0px;margin:0px;\">\n\t\t\t\t<tbody>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t35\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t&nbsp;\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t<\/tr>\n\t\t\t\t<\/tbody>\n\t\t\t<\/table>\n\t\t<\/div>\n\t\t<div style=\"padding:0px;margin:0px;\">\n\t\t\t<table style=\"padding:0px;margin:0px;\">\n\t\t\t\t<tbody>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t36\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t&nbsp;\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t<\/tr>\n\t\t\t\t<\/tbody>\n\t\t\t<\/table>\n\t\t<\/div>\n\t\t<div style=\"padding:0px;margin:0px;\">\n\t\t\t<table style=\"padding:0px;margin:0px;\">\n\t\t\t\t<tbody>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t37\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\/\/\u6267\u884c\u641c\u7d22\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t<\/tr>\n\t\t\t\t<\/tbody>\n\t\t\t<\/table>\n\t\t<\/div>\n\t\t<div style=\"padding:0px;margin:0px;\">\n\t\t\t<table style=\"padding:0px;margin:0px;\">\n\t\t\t\t<tbody>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t38\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t&nbsp;\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t<\/tr>\n\t\t\t\t<\/tbody>\n\t\t\t<\/table>\n\t\t<\/div>\n\t\t<div style=\"padding:0px;margin:0px;\">\n\t\t\t<table style=\"padding:0px;margin:0px;\">\n\t\t\t\t<tbody>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t39\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t$result&nbsp;=&nbsp;$sphinx-&gt;query('\u5173\u952e\u5b57',&nbsp;'*');\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t<\/tr>\n\t\t\t\t<\/tbody>\n\t\t\t<\/table>\n\t\t<\/div>\n\t<\/div>\n<\/div>\n<p style=\"text-indent:2em;\">\n\t<br \/>\n<\/p>\n<p style=\"text-indent:2em;\">\n\t<br \/>\n<\/p>\n<h1 style=\"text-indent:2em;\">\n\t\u6392\u5e8f\u6a21\u5f0f\n<\/h1>\n<p style=\"text-indent:2em;\">\n\t\u53ef\u4f7f\u7528\u5982\u4e0b\u6a21\u5f0f\u5bf9\u641c\u7d22\u7ed3\u679c\u6392\u5e8f\uff1a\n<\/p>\n<p style=\"text-indent:2em;\">\n\tSPH_SORT_RELEVANCE&nbsp;\u6a21\u5f0f,&nbsp;\u6309\u76f8\u5173\u5ea6\u964d\u5e8f\u6392\u5217\uff08\u6700\u597d\u7684\u5339\u914d\u6392\u5728\u6700\u524d\u9762\uff09\n<\/p>\n<p style=\"text-indent:2em;\">\n\tSPH_SORT_ATTR_DESC&nbsp;\u6a21\u5f0f,&nbsp;\u6309\u5c5e\u6027\u964d\u5e8f\u6392\u5217&nbsp;\uff08\u5c5e\u6027\u503c\u8d8a\u5927\u7684\u8d8a\u662f\u6392\u5728\u524d\u9762\uff09\n<\/p>\n<p style=\"text-indent:2em;\">\n\tSPH_SORT_ATTR_ASC&nbsp;\u6a21\u5f0f,&nbsp;\u6309\u5c5e\u6027\u5347\u5e8f\u6392\u5217\uff08\u5c5e\u6027\u503c\u8d8a\u5c0f\u7684\u8d8a\u662f\u6392\u5728\u524d\u9762\uff09\n<\/p>\n<p style=\"text-indent:2em;\">\n\tSPH_SORT_TIME_SEGMENTS&nbsp;\u6a21\u5f0f,&nbsp;\u5148\u6309\u65f6\u95f4\u6bb5\uff08\u6700\u8fd1\u4e00\u5c0f\u65f6\/\u5929\/\u5468\/\u6708\uff09\u964d\u5e8f\uff0c\u518d\u6309\u76f8\u5173\u5ea6\u964d\u5e8f\n<\/p>\n<p style=\"text-indent:2em;\">\n\tSPH_SORT_EXTENDED&nbsp;\u6a21\u5f0f,&nbsp;\u6309\u4e00\u79cd\u7c7b\u4f3cSQL\u7684\u65b9\u5f0f\u5c06\u5217\u7ec4\u5408\u8d77\u6765\uff0c\u5347\u5e8f\u6216\u964d\u5e8f\u6392\u5217\u3002\n<\/p>\n<p style=\"text-indent:2em;\">\n\tSPH_SORT_EXPR&nbsp;\u6a21\u5f0f\uff0c\u6309\u67d0\u4e2a\u7b97\u672f\u8868\u8fbe\u5f0f\u6392\u5e8f\n<\/p>\n<div id=\"highlighter_805504\" style=\"padding:0px;margin:0px;\">\n\t<div style=\"padding:0px;margin:0px;\">\n\t\t<div style=\"padding:0px;margin:0px;\">\n\t\t\t<table style=\"padding:0px;margin:0px;\">\n\t\t\t\t<tbody>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t01\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\/\/\u4f7f\u7528\u5c5e\u6027\u6392\u5e8f\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t<\/tr>\n\t\t\t\t<\/tbody>\n\t\t\t<\/table>\n\t\t<\/div>\n\t\t<div style=\"padding:0px;margin:0px;\">\n\t\t\t<table style=\"padding:0px;margin:0px;\">\n\t\t\t\t<tbody>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t02\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t&nbsp;\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t<\/tr>\n\t\t\t\t<\/tbody>\n\t\t\t<\/table>\n\t\t<\/div>\n\t\t<div style=\"padding:0px;margin:0px;\">\n\t\t\t<table style=\"padding:0px;margin:0px;\">\n\t\t\t\t<tbody>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t03\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\/\/\u4ee5fromid\u5012\u5e8f\u6392\u5e8f\uff0c\u6ce8\u610f\u5f53\u518d\u6b21\u4f7f\u7528SetSortMode\u4f1a\u8986\u76d6\u4e0a\u4e00\u4e2a\u6392\u5e8f\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t<\/tr>\n\t\t\t\t<\/tbody>\n\t\t\t<\/table>\n\t\t<\/div>\n\t\t<div style=\"padding:0px;margin:0px;\">\n\t\t\t<table style=\"padding:0px;margin:0px;\">\n\t\t\t\t<tbody>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t04\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t&nbsp;\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t<\/tr>\n\t\t\t\t<\/tbody>\n\t\t\t<\/table>\n\t\t<\/div>\n\t\t<div style=\"padding:0px;margin:0px;\">\n\t\t\t<table style=\"padding:0px;margin:0px;\">\n\t\t\t\t<tbody>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t05\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t$sphinx-&gt;SetSortMode (&nbsp;\"SPH_SORT_ATTR_DESC\",&nbsp;'fromid');\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t<\/tr>\n\t\t\t\t<\/tbody>\n\t\t\t<\/table>\n\t\t<\/div>\n\t\t<div style=\"padding:0px;margin:0px;\">\n\t\t\t<table style=\"padding:0px;margin:0px;\">\n\t\t\t\t<tbody>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t06\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t&nbsp;\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t<\/tr>\n\t\t\t\t<\/tbody>\n\t\t\t<\/table>\n\t\t<\/div>\n\t\t<div style=\"padding:0px;margin:0px;\">\n\t\t\t<table style=\"padding:0px;margin:0px;\">\n\t\t\t\t<tbody>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t07\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\/\/\u5982\u679c\u8981\u4f7f\u7528\u591a\u4e2a\u5b57\u6bb5\u6392\u5e8f\u53ef\u4f7f\u7528SPH_SORT_EXTENDED\u6a21\u5f0f\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t<\/tr>\n\t\t\t\t<\/tbody>\n\t\t\t<\/table>\n\t\t<\/div>\n\t\t<div style=\"padding:0px;margin:0px;\">\n\t\t\t<table style=\"padding:0px;margin:0px;\">\n\t\t\t\t<tbody>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t08\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t&nbsp;\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t<\/tr>\n\t\t\t\t<\/tbody>\n\t\t\t<\/table>\n\t\t<\/div>\n\t\t<div style=\"padding:0px;margin:0px;\">\n\t\t\t<table style=\"padding:0px;margin:0px;\">\n\t\t\t\t<tbody>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t09\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\/\/@id\u662fsphinx\u5185\u7f6e\u5173\u952e\u5b57\uff0c\u8fd9\u91cc\u6307emailid\uff0c\u81f3\u4e8e\u4e3a\u4ec0\u4e48\u662femailid\uff0c\u81ea\u5df1\u601d\u8003\u4e00\u4e0b\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t<\/tr>\n\t\t\t\t<\/tbody>\n\t\t\t<\/table>\n\t\t<\/div>\n\t\t<div style=\"padding:0px;margin:0px;\">\n\t\t\t<table style=\"padding:0px;margin:0px;\">\n\t\t\t\t<tbody>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t10\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t&nbsp;\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t<\/tr>\n\t\t\t\t<\/tbody>\n\t\t\t<\/table>\n\t\t<\/div>\n\t\t<div style=\"padding:0px;margin:0px;\">\n\t\t\t<table style=\"padding:0px;margin:0px;\">\n\t\t\t\t<tbody>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t11\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t$sphinx-&gt;SetSortMode (&nbsp;\"SPH_SORT_ATTR_DESC\",&nbsp;'fromid ASC, toid DESC, @id DESC');\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t<\/tr>\n\t\t\t\t<\/tbody>\n\t\t\t<\/table>\n\t\t<\/div>\n\t\t<div style=\"padding:0px;margin:0px;\">\n\t\t\t<table style=\"padding:0px;margin:0px;\">\n\t\t\t\t<tbody>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t12\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t&nbsp;\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t<\/tr>\n\t\t\t\t<\/tbody>\n\t\t\t<\/table>\n\t\t<\/div>\n\t\t<div style=\"padding:0px;margin:0px;\">\n\t\t\t<table style=\"padding:0px;margin:0px;\">\n\t\t\t\t<tbody>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t13\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\/\/\u6267\u884c\u641c\u7d22\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t<\/tr>\n\t\t\t\t<\/tbody>\n\t\t\t<\/table>\n\t\t<\/div>\n\t\t<div style=\"padding:0px;margin:0px;\">\n\t\t\t<table style=\"padding:0px;margin:0px;\">\n\t\t\t\t<tbody>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t14\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t&nbsp;\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t<\/tr>\n\t\t\t\t<\/tbody>\n\t\t\t<\/table>\n\t\t<\/div>\n\t\t<div style=\"padding:0px;margin:0px;\">\n\t\t\t<table style=\"padding:0px;margin:0px;\">\n\t\t\t\t<tbody>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t15\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t$result&nbsp;=&nbsp;$sphinx-&gt;query('\u5173\u952e\u5b57',&nbsp;'*');\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t<\/tr>\n\t\t\t\t<\/tbody>\n\t\t\t<\/table>\n\t\t<\/div>\n\t\t<div style=\"padding:0px;margin:0px;\">\n\t\t\t<table style=\"padding:0px;margin:0px;\">\n\t\t\t\t<tbody>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t16\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t&nbsp;\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t<\/tr>\n\t\t\t\t<\/tbody>\n\t\t\t<\/table>\n\t\t<\/div>\n\t\t<div style=\"padding:0px;margin:0px;\">\n\t\t\t<table style=\"padding:0px;margin:0px;\">\n\t\t\t\t<tbody>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t17\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\/\/\u66f4\u591a\u8bf7\u67e5\u770b\u5b98\u65b9\u6587\u6863\u6392\u5e8f\u6a21\u5f0f\u7684\u8bf4\u660e\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t<\/tr>\n\t\t\t\t<\/tbody>\n\t\t\t<\/table>\n\t\t<\/div>\n\t<\/div>\n<\/div>\n<p style=\"text-indent:2em;\">\n\t<br \/>\n<\/p>\n<p style=\"text-indent:2em;\">\n\t<br \/>\n<\/p>\n<h1 style=\"text-indent:2em;\">\n\t\u5339\u914d\u6a21\u5f0f\n<\/h1>\n<p style=\"text-indent:2em;\">\n\t\u6709\u5982\u4e0b\u53ef\u9009\u7684\u5339\u914d\u6a21\u5f0f\uff1a\n<\/p>\n<p style=\"text-indent:2em;\">\n\tSPH_MATCH_ALL,&nbsp;\u5339\u914d\u6240\u6709\u67e5\u8be2\u8bcd(\u9ed8\u8ba4\u6a21\u5f0f);\n<\/p>\n<p style=\"text-indent:2em;\">\n\tSPH_MATCH_ANY,&nbsp;\u5339\u914d\u67e5\u8be2\u8bcd\u4e2d\u7684\u4efb\u610f\u4e00\u4e2a;\n<\/p>\n<p style=\"text-indent:2em;\">\n\tSPH_MATCH_PHRASE,&nbsp;\u5c06\u6574\u4e2a\u67e5\u8be2\u770b\u4f5c\u4e00\u4e2a\u8bcd\u7ec4\uff0c\u8981\u6c42\u6309\u987a\u5e8f\u5b8c\u6574\u5339\u914d;\n<\/p>\n<p style=\"text-indent:2em;\">\n\tSPH_MATCH_BOOLEAN,&nbsp;\u5c06\u67e5\u8be2\u770b\u4f5c\u4e00\u4e2a\u5e03\u5c14\u8868\u8fbe\u5f0f&nbsp;\n<\/p>\n<p style=\"text-indent:2em;\">\n\tSPH_MATCH_EXTENDED,&nbsp;\u5c06\u67e5\u8be2\u770b\u4f5c\u4e00\u4e2aCoreSeek\/Sphinx\u5185\u90e8\u67e5\u8be2\u8bed\u8a00\u7684\u8868\u8fbe\u5f0f&nbsp;.&nbsp;\u4ece\u7248\u672cCoreseek&nbsp;3\/Sphinx&nbsp;0.9.9\u5f00\u59cb,&nbsp;\u8fd9\u4e2a\u9009\u9879\u88ab\u9009\u9879SPH_MATCH_EXTENDED2\u4ee3\u66ff\uff0c\u5b83\u63d0\u4f9b\u4e86\u66f4\u591a\u529f\u80fd\u548c\u66f4\u4f73\u7684\u6027\u80fd\u3002\u4fdd\u7559\u8fd9\u4e2a\u9009\u9879\u662f\u4e3a\u4e86\u4e0e\u9057\u7559\u7684\u65e7\u4ee3\u7801\u517c\u5bb9\u2014\u2014\u8fd9\u6837\u5373\u4f7fSphinx\u53ca\u5176\u7ec4\u4ef6\u5305\u62ecAPI\u5347\u7ea7\u7684\u65f6\u5019\uff0c\u65e7\u7684\u5e94\u7528\u7a0b\u5e8f\u4ee3\u7801\u8fd8\u80fd\u591f\u7ee7\u7eed\u5de5\u4f5c\u3002\n<\/p>\n<p style=\"text-indent:2em;\">\n\tSPH_MATCH_EXTENDED2,&nbsp;\u4f7f\u7528\u7b2c\u4e8c\u7248\u7684\u201c\u6269\u5c55\u5339\u914d\u6a21\u5f0f\u201d\u5bf9\u67e5\u8be2\u8fdb\u884c\u5339\u914d.\n<\/p>\n<p style=\"text-indent:2em;\">\n\tSPH_MATCH_FULLSCAN,&nbsp;\u5f3a\u5236\u4f7f\u7528\u4e0b\u6587\u6240\u8ff0\u7684\u201c\u5b8c\u6574\u626b\u63cf\u201d\u6a21\u5f0f\u6765\u5bf9\u67e5\u8be2\u8fdb\u884c\u5339\u914d\u3002\u6ce8\u610f\uff0c\u5728\u6b64\u6a21\u5f0f\u4e0b\uff0c\u6240\u6709\u7684\u67e5\u8be2\u8bcd\u90fd\u88ab\u5ffd\u7565\uff0c\u5c3d\u7ba1\u8fc7\u6ee4\u5668\u3001\u8fc7\u6ee4\u5668\u8303\u56f4\u4ee5\u53ca\u5206\u7ec4\u4ecd\u7136\u8d77\u4f5c\u7528\uff0c\u4f46\u4efb\u4f55\u6587\u672c\u5339\u914d\u90fd\u4e0d\u4f1a\u53d1\u751f.\n<\/p>\n<p style=\"text-indent:2em;\">\n\t\u6211\u4eec\u8981\u5173\u6ce8\u7684\u4e3b\u8981\u662fSPH_MATCH_EXTENDED2\u6269\u5c55\u5339\u914d\u6a21\u5f0f\uff0c\u6269\u5c55\u5339\u914d\u6a21\u5f0f\u5141\u8bb8\u4f7f\u7528\u4e00\u4e9b\u50cfmysql\u7684\u6761\u4ef6\u8bed\u53e5\n<\/p>\n<div id=\"highlighter_698366\" style=\"padding:0px;margin:0px;\">\n\t<div style=\"padding:0px;margin:0px;\">\n\t\t<div style=\"padding:0px;margin:0px;\">\n\t\t\t<table style=\"padding:0px;margin:0px;\">\n\t\t\t\t<tbody>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t01\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\/\/\u8bbe\u7f6e\u6269\u5c55\u5339\u914d\u6a21\u5f0f\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t<\/tr>\n\t\t\t\t<\/tbody>\n\t\t\t<\/table>\n\t\t<\/div>\n\t\t<div style=\"padding:0px;margin:0px;\">\n\t\t\t<table style=\"padding:0px;margin:0px;\">\n\t\t\t\t<tbody>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t02\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t&nbsp;\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t<\/tr>\n\t\t\t\t<\/tbody>\n\t\t\t<\/table>\n\t\t<\/div>\n\t\t<div style=\"padding:0px;margin:0px;\">\n\t\t\t<table style=\"padding:0px;margin:0px;\">\n\t\t\t\t<tbody>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t03\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t$sphinx-&gt;SetMatchMode (&nbsp;\"SPH_MATCH_EXTENDED2\"&nbsp;);\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t<\/tr>\n\t\t\t\t<\/tbody>\n\t\t\t<\/table>\n\t\t<\/div>\n\t\t<div style=\"padding:0px;margin:0px;\">\n\t\t\t<table style=\"padding:0px;margin:0px;\">\n\t\t\t\t<tbody>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t04\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t&nbsp;\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t<\/tr>\n\t\t\t\t<\/tbody>\n\t\t\t<\/table>\n\t\t<\/div>\n\t\t<div style=\"padding:0px;margin:0px;\">\n\t\t\t<table style=\"padding:0px;margin:0px;\">\n\t\t\t\t<tbody>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t05\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\/\/\u67e5\u8be2\u4e2d\u4f7f\u7528\u6761\u4ef6\u8bed\u53e5\uff0c\u5b57\u6bb5\u7528@\u5f00\u5934\uff0c\u641c\u7d22\u5185\u5bb9\u5305\u542b\u6d4b\u8bd5\uff0ctoid\u7b49\u4e8e1\u7684\u90ae\u4ef6\uff1a\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t<\/tr>\n\t\t\t\t<\/tbody>\n\t\t\t<\/table>\n\t\t<\/div>\n\t\t<div style=\"padding:0px;margin:0px;\">\n\t\t\t<table style=\"padding:0px;margin:0px;\">\n\t\t\t\t<tbody>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t06\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t&nbsp;\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t<\/tr>\n\t\t\t\t<\/tbody>\n\t\t\t<\/table>\n\t\t<\/div>\n\t\t<div style=\"padding:0px;margin:0px;\">\n\t\t\t<table style=\"padding:0px;margin:0px;\">\n\t\t\t\t<tbody>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t07\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t$result&nbsp;=&nbsp;$sphinx-&gt;query('@content (\u6d4b\u8bd5) &amp; @toid =1',&nbsp;'*');\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t<\/tr>\n\t\t\t\t<\/tbody>\n\t\t\t<\/table>\n\t\t<\/div>\n\t\t<div style=\"padding:0px;margin:0px;\">\n\t\t\t<table style=\"padding:0px;margin:0px;\">\n\t\t\t\t<tbody>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t08\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t&nbsp;\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t<\/tr>\n\t\t\t\t<\/tbody>\n\t\t\t<\/table>\n\t\t<\/div>\n\t\t<div style=\"padding:0px;margin:0px;\">\n\t\t\t<table style=\"padding:0px;margin:0px;\">\n\t\t\t\t<tbody>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t09\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\/\/\u7528\u62ec\u53f7\u548c&amp;\uff08\u4e0e\uff09\u3001|\u3001\uff08\u6216\u8005\uff09\u3001-\uff08\u975e\uff0c\u5373!=\uff09\u8bbe\u7f6e\u66f4\u590d\u6742\u7684\u6761\u4ef6\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t<\/tr>\n\t\t\t\t<\/tbody>\n\t\t\t<\/table>\n\t\t<\/div>\n\t\t<div style=\"padding:0px;margin:0px;\">\n\t\t\t<table style=\"padding:0px;margin:0px;\">\n\t\t\t\t<tbody>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t10\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t&nbsp;\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t<\/tr>\n\t\t\t\t<\/tbody>\n\t\t\t<\/table>\n\t\t<\/div>\n\t\t<div style=\"padding:0px;margin:0px;\">\n\t\t\t<table style=\"padding:0px;margin:0px;\">\n\t\t\t\t<tbody>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t11\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t$result&nbsp;=&nbsp;$sphinx-&gt;query('(@content (\u6d4b\u8bd5) &amp; @subject =\u5443) | (@fromid -(100))',&nbsp;'*');\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t<\/tr>\n\t\t\t\t<\/tbody>\n\t\t\t<\/table>\n\t\t<\/div>\n\t\t<div style=\"padding:0px;margin:0px;\">\n\t\t\t<table style=\"padding:0px;margin:0px;\">\n\t\t\t\t<tbody>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t12\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t&nbsp;\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t<\/tr>\n\t\t\t\t<\/tbody>\n\t\t\t<\/table>\n\t\t<\/div>\n\t\t<div style=\"padding:0px;margin:0px;\">\n\t\t\t<table style=\"padding:0px;margin:0px;\">\n\t\t\t\t<tbody>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t13\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\/\/\u66f4\u591a\u8bed\u6cd5\u8bf7\u67e5\u770b\u5b98\u65b9\u6587\u6863\u5339\u914d\u6a21\u5f0f\u7684\u8bf4\u660e\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t<\/tr>\n\t\t\t\t<\/tbody>\n\t\t\t<\/table>\n\t\t<\/div>\n\t<\/div>\n<\/div>\n<p style=\"text-indent:2em;\">\n\t<br \/>\n<\/p>\n<p style=\"text-indent:2em;\">\n\t\u6269\u5c55\u5339\u914d\u6a21\u5f0f\u4e2d\u503c\u5f97\u4e00\u63d0\u7684\u662f\u641c\u7d22\u7684\u5b57\u6bb5\uff0c\u5982\u679c\u8be5\u5b57\u6bb5\u88ab\u8bbe\u7f6e\u5c5e\u6027\uff0c\u90a3\u4e48\u6269\u5c55\u5339\u914d\u641c\u7d22\u7684\u5b57\u6bb5\u9ed8\u8ba4\u662f\u4e0d\u5305\u542b\u8fd9\u4e9b\u5c5e\u6027\u7684\uff0c\u53ea\u80fd\u7528SetFilter()\u6216\u8005SetFilterRange()\u4e4b\u7c7b\n<\/p>\n<p style=\"text-indent:2em;\">\n\t\u4e4b\u524d\u6211\u4eec\u8bbe\u7f6e\u4e86fromid\u3001toid\u3001sendtime\u4e3a\u5c5e\u6027\uff0c\u4f46\u53c8\u60f3\u5728\u6269\u5c55\u5339\u914d\u6a21\u5f0f\u4e2d\u53c8\u60f3\u7528\u4f5c\u6761\u4ef6\u8be5\u600e\u4e48\u529e\uff1f\n<\/p>\n<p style=\"text-indent:2em;\">\n\t\u53ea\u8981\u5728sql_query\u8bed\u53e5\u4e2d\u518d\u9009\u62e9\u591a\u4e00\u6b21\u8be5\u5b57\u6bb5\u5c31\u53ef\u4ee5\u4e86\n<\/p>\n<p style=\"text-indent:2em;\">\n\tsql_query&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;SELECT&nbsp;emailid,fromid,fromid,toid,toid,subject,content,sendtime,sendtime,attachement&nbsp;FROM&nbsp;email\n<\/p>\n<p style=\"text-indent:2em;\">\n\t\/\/\u8bbe\u7f6e\u5b8c\u6210\u8bb0\u5f97\u91cd\u65b0\u5efa\u7acb\u7d22\u5f15\n<\/p>\n<p style=\"text-indent:2em;\">\n\t<br \/>\n<\/p>\n<p style=\"text-indent:2em;\">\n\t<br \/>\n<\/p>\n<h1 style=\"text-indent:2em;\">\n\t\u66f4\u591a\u6761\u4ef6\u6280\u5de7\n<\/h1>\n<p style=\"text-indent:2em;\">\n\t\u53ea\u662f\u4e00\u4e9b\u6280\u5de7\uff0c\u4f46\u4e0d\u5efa\u8bae\u4f7f\u7528\u7684\u90e8\u7f72\u73af\u5883\u4e2d\uff0c\u81f3\u4e8e\u4e3a\u4ec0\u4e48\uff0c\u8bf7\u770b\u6587\u7ae0\u7ed3\u5c3e\n<\/p>\n<p style=\"text-indent:2em;\">\n\t<br \/>\n<\/p>\n<h2 style=\"text-indent:2em;\">\n\t&lt;\u3001&lt;=\u3001&gt;\u3001&gt;=\n<\/h2>\n<p style=\"text-indent:2em;\">\n\t\u9ed8\u8ba4sphinx\u6ca1\u6709\u8fd9\u4e9b\u6bd4\u8f83\u7b26\u3002\n<\/p>\n<p style=\"text-indent:2em;\">\n\t\u5047\u5982\u6211\u60f3\u90ae\u4ef6\u7684\u53d1\u9001\u65f6\u95f4\u5927\u4e8e\u67d0\u4e00\u65e5\u671f\u600e\u4e48\u529e\uff1f\u7528SetFilterRange()\u65b9\u6cd5\u6a21\u62df\u4e00\u4e0b\n<\/p>\n<p style=\"text-indent:2em;\">\n\t<br \/>\n<\/p>\n<div id=\"highlighter_958806\" style=\"padding:0px;margin:0px;\">\n\t<div style=\"padding:0px;margin:0px;\">\n\t\t<div style=\"padding:0px;margin:0px;\">\n\t\t\t<table style=\"padding:0px;margin:0px;\">\n\t\t\t\t<tbody>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t01\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\/\/\u5927\u4e8e\u7b49\u4e8e\u67d0\u4e00\u65f6\u95f4\u622a$time\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t<\/tr>\n\t\t\t\t<\/tbody>\n\t\t\t<\/table>\n\t\t<\/div>\n\t\t<div style=\"padding:0px;margin:0px;\">\n\t\t\t<table style=\"padding:0px;margin:0px;\">\n\t\t\t\t<tbody>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t02\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t&nbsp;\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t<\/tr>\n\t\t\t\t<\/tbody>\n\t\t\t<\/table>\n\t\t<\/div>\n\t\t<div style=\"padding:0px;margin:0px;\">\n\t\t\t<table style=\"padding:0px;margin:0px;\">\n\t\t\t\t<tbody>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t03\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t$sphinx-&gt;SetFilterRange('sendtime',&nbsp;$time, 10000000000)&nbsp;\/\/\u65f6\u95f4\u622a\u6700\u5927\u662f10\u4e2a9\uff0c\u518d\u52a01\u662f\u4e0d\u53ef\u8d85\u8d8a\u4e86\u3002\u3002\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t<\/tr>\n\t\t\t\t<\/tbody>\n\t\t\t<\/table>\n\t\t<\/div>\n\t\t<div style=\"padding:0px;margin:0px;\">\n\t\t\t<table style=\"padding:0px;margin:0px;\">\n\t\t\t\t<tbody>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t04\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t&nbsp;\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t<\/tr>\n\t\t\t\t<\/tbody>\n\t\t\t<\/table>\n\t\t<\/div>\n\t\t<div style=\"padding:0px;margin:0px;\">\n\t\t\t<table style=\"padding:0px;margin:0px;\">\n\t\t\t\t<tbody>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t05\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t&nbsp;\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t<\/tr>\n\t\t\t\t<\/tbody>\n\t\t\t<\/table>\n\t\t<\/div>\n\t\t<div style=\"padding:0px;margin:0px;\">\n\t\t\t<table style=\"padding:0px;margin:0px;\">\n\t\t\t\t<tbody>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t06\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t&nbsp;\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t<\/tr>\n\t\t\t\t<\/tbody>\n\t\t\t<\/table>\n\t\t<\/div>\n\t\t<div style=\"padding:0px;margin:0px;\">\n\t\t\t<table style=\"padding:0px;margin:0px;\">\n\t\t\t\t<tbody>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t07\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\/\/\u5927\u4e8e\u67d0\u4e00\u65f6\u95f4\u622a$time\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t<\/tr>\n\t\t\t\t<\/tbody>\n\t\t\t<\/table>\n\t\t<\/div>\n\t\t<div style=\"padding:0px;margin:0px;\">\n\t\t\t<table style=\"padding:0px;margin:0px;\">\n\t\t\t\t<tbody>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t08\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t&nbsp;\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t<\/tr>\n\t\t\t\t<\/tbody>\n\t\t\t<\/table>\n\t\t<\/div>\n\t\t<div style=\"padding:0px;margin:0px;\">\n\t\t\t<table style=\"padding:0px;margin:0px;\">\n\t\t\t\t<tbody>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t09\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t$sphinx-&gt;SetFilterRange('sendtime',&nbsp;$time+1, 10000000000)\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t<\/tr>\n\t\t\t\t<\/tbody>\n\t\t\t<\/table>\n\t\t<\/div>\n\t\t<div style=\"padding:0px;margin:0px;\">\n\t\t\t<table style=\"padding:0px;margin:0px;\">\n\t\t\t\t<tbody>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t10\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t&nbsp;\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t<\/tr>\n\t\t\t\t<\/tbody>\n\t\t\t<\/table>\n\t\t<\/div>\n\t\t<div style=\"padding:0px;margin:0px;\">\n\t\t\t<table style=\"padding:0px;margin:0px;\">\n\t\t\t\t<tbody>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t11\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\/\/\u5c0f\u4e8e\u7b49\u4e8e\u67d0\u4e00\u65f6\u95f4\u622a$time\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t<\/tr>\n\t\t\t\t<\/tbody>\n\t\t\t<\/table>\n\t\t<\/div>\n\t\t<div style=\"padding:0px;margin:0px;\">\n\t\t\t<table style=\"padding:0px;margin:0px;\">\n\t\t\t\t<tbody>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t12\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t&nbsp;\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t<\/tr>\n\t\t\t\t<\/tbody>\n\t\t\t<\/table>\n\t\t<\/div>\n\t\t<div style=\"padding:0px;margin:0px;\">\n\t\t\t<table style=\"padding:0px;margin:0px;\">\n\t\t\t\t<tbody>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t13\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t$sphinx-&gt;SetFilterRange('sendtime', -1,&nbsp;$time)&nbsp;&nbsp;&nbsp;&nbsp;\/\/\u65f6\u95f4\u622a\u6700\u5c0f\u662f0\uff0c\u6240\u4ee5\u5e94\u8be5\u51cf1\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t<\/tr>\n\t\t\t\t<\/tbody>\n\t\t\t<\/table>\n\t\t<\/div>\n\t\t<div style=\"padding:0px;margin:0px;\">\n\t\t\t<table style=\"padding:0px;margin:0px;\">\n\t\t\t\t<tbody>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t14\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t&nbsp;\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t<\/tr>\n\t\t\t\t<\/tbody>\n\t\t\t<\/table>\n\t\t<\/div>\n\t\t<div style=\"padding:0px;margin:0px;\">\n\t\t\t<table style=\"padding:0px;margin:0px;\">\n\t\t\t\t<tbody>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t15\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\/\/\u5927\u4e8e\u67d0\u4e00\u65f6\u95f4\u622a$time\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t<\/tr>\n\t\t\t\t<\/tbody>\n\t\t\t<\/table>\n\t\t<\/div>\n\t\t<div style=\"padding:0px;margin:0px;\">\n\t\t\t<table style=\"padding:0px;margin:0px;\">\n\t\t\t\t<tbody>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t16\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t&nbsp;\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t<\/tr>\n\t\t\t\t<\/tbody>\n\t\t\t<\/table>\n\t\t<\/div>\n\t\t<div style=\"padding:0px;margin:0px;\">\n\t\t\t<table style=\"padding:0px;margin:0px;\">\n\t\t\t\t<tbody>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t17\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t$sphinx-&gt;SetFilterRange('sendtime', -1,&nbsp;$time&nbsp;- 1)\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t<\/tr>\n\t\t\t\t<\/tbody>\n\t\t\t<\/table>\n\t\t<\/div>\n\t<\/div>\n<\/div>\n<p style=\"text-indent:2em;\">\n\t<br \/>\n<\/p>\n<p style=\"text-indent:2em;\">\n\t<br \/>\n<\/p>\n<h2 style=\"text-indent:2em;\">\n\tIS&nbsp;NOT&nbsp;NULL\n<\/h2>\n<p style=\"text-indent:2em;\">\n\t\u600e\u6837\u641c\u7d22\u4e3a\u7a7a\u7684\u5b57\u6bb5\uff0c\u6bd4\u5982\u6211\u8981\u641c\u7d22\u9644\u4ef6\u4e3a\u7a7a\u7684\u90ae\u4ef6\uff0c\u6709\u4eba\u53ef\u80fd\u4f1a\u60f3&nbsp;@attachment&nbsp;('')\u4e0d\u5c31\u53ef\u4ee5\u4e86\u5417\uff1f\u5176\u5b9e\u8fd9\u662f\u641c\u7d22\u4e24\u4e2a\u5355\u5f15\u53f7\u3002\u3002\u3002sphinx\u641c\u7d22\u7684\u5b57\u7b26\u4e32\u4e0d\u7528\u52a0\u5f15\u53f7\u7684\n<\/p>\n<p style=\"text-indent:2em;\">\n\t\u76ee\u524dsphinx\u662f\u6ca1\u6709\u63d0\u4f9b\u8fd9\u6837\u7684\u529f\u80fd\uff0c\u5176\u5b9e\u53ef\u4ee5\u5728mysql\u8bed\u53e5\u4e0a\u4f5c\u624b\u811a\uff1a\n<\/p>\n<p style=\"text-indent:2em;\">\n\tsql_query&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;SELECT&nbsp;emailid,fromid,toidsubject,content,sendtime,attachement&nbsp;!=&nbsp;''&nbsp;as&nbsp;attach is not null&nbsp;FROM&nbsp;email&nbsp;\/\/\u8fd9\u91cc\u8fd4\u56de\u4e86\u4e00\u4e2a\u65b0\u5b57\u6bb5attachisnotnull\uff0c\u5f53attachisnotnull\u4e3a1\u7684\u65f6\u5019\u9644\u4ef6\u5c31\u4e0d\u4e3a\u7a7a\u4e86\n<\/p>\n<p style=\"text-indent:2em;\">\n\t\/\/\u8bbe\u7f6e\u5b8c\u6210\u8bb0\u5f97\u91cd\u65b0\u5efa\u7acb\u7d22\u5f15\n<\/p>\n<p style=\"text-indent:2em;\">\n\t<br \/>\n<\/p>\n<h2 style=\"text-indent:2em;\">\n\tFIND_IN_SET()\n<\/h2>\n<p style=\"text-indent:2em;\">\n\t\u641c\u7d22\u5305\u542b\u67d0\u4e00\u9644\u4ef6\u7684\u90ae\u4ef6\uff0cmysql\u4e60\u60ef\u7528FIND_IN_SET\u8fd9\u4e48\u7b80\u5355\u4e00\u53e5\u5c31\u641e\u5b9a\u4e86\uff0c\u5728sphinx\u4e2d\u5fc5\u9700\u5728\u914d\u7f6e\u91cc\u8bbe\u7f6e\u5c5e\u6027sql_attr_multi&nbsp;\u591a\u503c\u5c5e\u6027\uff08MVA\uff09\uff1a\n<\/p>\n<p style=\"text-indent:2em;\">\n\tsql_attr_multi&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;attachment&nbsp;&nbsp;&nbsp;&nbsp;#attachment\u53ef\u4ee5\u662f\u9017\u53f7\u5206\u9694\u7684\u9644\u4ef6ID\uff0c\u6216\u8005\u662f\u7a7a\u683c\u3001\u5206\u53f7\u7b49sphinx\u90fd\u80fd\u8bc6\u522b\n<\/p>\n<p style=\"text-indent:2em;\">\n\t\/\/\u8bbe\u7f6e\u5b8c\u6210\u8bb0\u5f97\u91cd\u65b0\u5efa\u7acb\u7d22\u5f15\n<\/p>\n<p style=\"text-indent:2em;\">\n\t<br \/>\n<\/p>\n<p style=\"text-indent:2em;\">\n\t\u7136\u540ePHP\u4e2d\u53ef\u4ee5\u4f7f\u7528SetFilter()\n<\/p>\n<div id=\"highlighter_132407\" style=\"padding:0px;margin:0px;\">\n\t<div style=\"padding:0px;margin:0px;\">\n\t\t<div style=\"padding:0px;margin:0px;\">\n\t\t\t<table style=\"padding:0px;margin:0px;\">\n\t\t\t\t<tbody>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t1\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\/\/\u641c\u7d22\u5305\u542b\u9644\u4ef6ID\u4e3a1\u62162\u90ae\u4ef6\uff0cmysql\u8bed\u6cd5\u662f\u8fd9\u6837FIND_IN_SET(`attachment`, '1,2')\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t<\/tr>\n\t\t\t\t<\/tbody>\n\t\t\t<\/table>\n\t\t<\/div>\n\t\t<div style=\"padding:0px;margin:0px;\">\n\t\t\t<table style=\"padding:0px;margin:0px;\">\n\t\t\t\t<tbody>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t2\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t&nbsp;\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t<\/tr>\n\t\t\t\t<\/tbody>\n\t\t\t<\/table>\n\t\t<\/div>\n\t\t<div style=\"padding:0px;margin:0px;\">\n\t\t\t<table style=\"padding:0px;margin:0px;\">\n\t\t\t\t<tbody>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t3\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t$sphinx-&gt;SetFilter('attachment',&nbsp;array(1,2))\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t<\/tr>\n\t\t\t\t<\/tbody>\n\t\t\t<\/table>\n\t\t<\/div>\n\t\t<div style=\"padding:0px;margin:0px;\">\n\t\t\t<table style=\"padding:0px;margin:0px;\">\n\t\t\t\t<tbody>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t4\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t&nbsp;\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t<\/tr>\n\t\t\t\t<\/tbody>\n\t\t\t<\/table>\n\t\t<\/div>\n\t\t<div style=\"padding:0px;margin:0px;\">\n\t\t\t<table style=\"padding:0px;margin:0px;\">\n\t\t\t\t<tbody>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t5\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\/\/\u53ef\u4ee5\u4f7f\u7528SetFilterRange\uff0c\u641c\u7d22\u5305\u542b\u9644\u4ef6ID\u572850-100\u8303\u56f4\u7684\u90ae\u4ef6\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t<\/tr>\n\t\t\t\t<\/tbody>\n\t\t\t<\/table>\n\t\t<\/div>\n\t\t<div style=\"padding:0px;margin:0px;\">\n\t\t\t<table style=\"padding:0px;margin:0px;\">\n\t\t\t\t<tbody>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t6\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t&nbsp;\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t<\/tr>\n\t\t\t\t<\/tbody>\n\t\t\t<\/table>\n\t\t<\/div>\n\t\t<div style=\"padding:0px;margin:0px;\">\n\t\t\t<table style=\"padding:0px;margin:0px;\">\n\t\t\t\t<tbody>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t7\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t$sphinx-&gt;SetFilterRange('attachment', 50, 100)\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t<\/tr>\n\t\t\t\t<\/tbody>\n\t\t\t<\/table>\n\t\t<\/div>\n\t<\/div>\n<\/div>\n<p style=\"text-indent:2em;\">\n\t<br \/>\n<\/p>\n<p style=\"text-indent:2em;\">\n\t<br \/>\n<\/p>\n<h1 style=\"text-indent:2em;\">\n\t\u603b\u7ed3\n<\/h1>\n<p style=\"text-indent:2em;\">\n\t\u5982\u679c\u4f60\u60f3\u4e00\u4e2a\u514d\u8d39\u3001\u597d\u7528\u3001\u6781\u901f\u7684\u5168\u6587\u641c\u7d22\u5f15\u64ce\uff0csphinx\u65e0\u7591\u662f\u6700\u597d\u7684\u9009\u62e9\uff0c\u4f46\u662f\u4e0d\u8981\u5fd8\u8bb0sphinx\u7684\u76ee\u7684\uff1a\u5168\u6587\u68c0\u7d22\u3002\u4e0d\u8981\u53bb\u60f3\u90a3\u4e9b\u4e71\u4e03\u516b\u7cdf\u6761\u4ef6\u3002\u4f60\u60f3\u8981\u628asphinx\u641c\u7d22\u53d8\u5f97\u50cfmysql\u90a3\u6837\u7075\u6d3b\uff0c\u53ef\u5b8c\u5168\u5355\u72ec\u7528\u5728\u4e00\u4e9b\u590d\u6742\u7684\u591a\u6761\u4ef6\u641c\u7d22\uff0c\u50cf\u67d0\u4e9b\u90ae\u4ef6\u7684\u9ad8\u7ea7\u641c\u7d22\uff0c\u90a3\u4e48\u6211\u5efa\u8bae\u4f60\u8fd8\u662f\u591a\u82b1\u70b9\u65f6\u95f4\u5728PHP\u6216\u8005mysql\u4ee3\u7801\u7684\u4f18\u5316\u4e0a\uff0c\u56e0\u4e3a\u90a3\u6837\u53ef\u80fd\u4f1a\u8ba9\u4f60\u7684\u641c\u7d22\u53d8\u5f97\u66f4\u6162\u3002\n<\/p>\n<p style=\"text-indent:2em;\">\n\t\u6700\u597d\u7684\u65b9\u6cd5\u662f\u4ee5\u6700\u7b80\u5355\u7684\u65b9\u6cd5\u641c\u7d22\u5230\u5185\u5bb9\uff0c\u5c06ID\u4ea4\u8fd8mysql\u6570\u636e\u5e93\u641c\u7d22\u3002\n<\/p>","excerpt":"<h1 style=\"text-indent:2em;\"><span style=\"font-size:12px;font-weight:normal;line-height:1.5;\">\u6570\u636e\u7ed3\u6784\uff1a<\/span><\/h1><div style=\"padding:0px;margin:0px;\"><pre>\tCREATE TABLE email (\nemailid mediumint(8) unsigned NOT NULL auto_increment COMMENT '\u90ae\u4ef6id',\n\nfromid int(10) unsigned NOT NULL default '0' COMMENT '\u53d1\u9001\u4ebaID',\n\ntoid int(10) unsigned NOT NULL de...<\/pre><\/div>","author":"1","sortid":"-1","type":"blog","views":"537","comnum":"0","tbcount":"0","attnum":"0","top":"n","hide":"n","allow_remark":"y","allow_tb":"y","password":"","thumb":"0","alias":""}