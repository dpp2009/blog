{"gid":"538","title":"Memcached\u5e38\u7528\u547d\u4ee4\u4ee5\u53ca\u4f7f\u7528\u8bf4\u660e\u8be6\u89e3","date":"1398290400","content":"\r\n <div> \r\n <div style='color: rgb(51, 51, 51); font-family: Arial, Tahoma, Verdana, sans-serif;'>\r\n   Memcached\u5e38\u7528\u547d\u4ee4\u4ee5\u53ca\u4f7f\u7528\u8bf4\u660e\u8be6\u89e3 \r\n <\/div> \r\n <div style='color: rgb(51, 51, 51); font-family: Arial, Tahoma, Verdana, sans-serif;'> \r\n  <p>\u5b58\u50a8\u547d\u4ee4\u7684\u683c\u5f0f\uff1a<br><font style='color: rgb(255, 0, 0);'>&lt;command name&gt; &lt;key&gt; &lt;flags&gt; &lt;exptime&gt; &lt;bytes&gt;<br><\/font><font style='color: rgb(255, 0, 0);'>&lt;data block&gt;<br><\/font><strong>\u53c2\u6570\u8bf4\u660e\u5982\u4e0b\uff1a<br><\/strong><\/p> \r\n  <table cellpadding='2' cellspacing='0' style='font-size:12px !important;'> \r\n   <tbody> \r\n    <tr> \r\n     <td valign='top' style='color:rgb(51, 51, 51);font-size:14px;'>&lt;command name&gt;<\/td> \r\n     <td valign='top' style='color:rgb(51, 51, 51);font-size:14px;'>set\/add\/replace<\/td> \r\n    <\/tr> \r\n    <tr> \r\n     <td valign='top' style='color:rgb(51, 51, 51);font-size:14px;'>&lt;key&gt;<\/td> \r\n     <td valign='top' style='color:rgb(51, 51, 51);font-size:14px;'><span style='color: rgb(0, 0, 255);'>\u67e5\u627e\u5173\u952e\u5b57<\/span><\/td> \r\n    <\/tr> \r\n    <tr> \r\n     <td valign='top' style='color:rgb(51, 51, 51);font-size:14px;'>&lt;flags&gt;<\/td> \r\n     <td valign='top' style='color:rgb(51, 51, 51);font-size:14px;'>\u5ba2\u6237\u673a\u4f7f\u7528\u5b83\u5b58\u50a8\u5173\u4e8e\u952e\u503c\u5bf9\u7684\u989d\u5916\u4fe1\u606f<\/td> \r\n    <\/tr> \r\n    <tr> \r\n     <td valign='top' style='color:rgb(51, 51, 51);font-size:14px;'>&lt;exptime&gt;<\/td> \r\n     <td valign='top' style='color:rgb(51, 51, 51);font-size:14px;'>\u8be5\u6570\u636e\u7684\u5b58\u6d3b\u65f6\u95f4\uff0c0\u8868\u793a\u6c38\u8fdc<\/td> \r\n    <\/tr> \r\n    <tr> \r\n     <td valign='top' style='color:rgb(51, 51, 51);font-size:14px;'>&lt;bytes&gt;<\/td> \r\n     <td valign='top' style='color:rgb(51, 51, 51);font-size:14px;'>\u5b58\u50a8\u5b57\u8282\u6570<\/td> \r\n    <\/tr> \r\n    <tr> \r\n     <td valign='top' style='color:rgb(51, 51, 51);font-size:14px;'>&lt;data block&gt;<\/td> \r\n     <td valign='top' style='color:rgb(51, 51, 51);font-size:14px;'>\u5b58\u50a8\u7684\u6570\u636e\u5757\uff08\u53ef\u76f4\u63a5\u7406\u89e3\u4e3akey-value\u7ed3\u6784\u4e2d\u7684value\uff09<\/td> \r\n    <\/tr> \r\n   <\/tbody> \r\n  <\/table> \r\n  <strong>1\u3001\u6dfb\u52a0<\/strong>&nbsp; \r\n <\/div> \r\n <div style='color: rgb(51, 51, 51); font-family: Arial, Tahoma, Verdana, sans-serif;'> \r\n  <img title='set' src='http:\/\/note.youdao.com\/yws\/res\/161\/9DB7A92F44D54C2ABB685E182A563585' alt='set' width='558' height='237' data-media-type='image'>&nbsp; \r\n  <br> \r\n  <strong><br><\/strong> \r\n <\/div> \r\n <div style='color: rgb(51, 51, 51); font-family: Arial, Tahoma, Verdana, sans-serif;'> \r\n  <strong>(1)\u3001\u65e0\u8bba\u5982\u4f55\u90fd\u5b58\u50a8\u7684set<\/strong> \r\n  <p>\u8fd9\u4e2aset\u7684\u547d\u4ee4\u5728memcached\u4e2d\u7684\u4f7f\u7528\u9891\u7387\u6781\u9ad8\u3002set\u547d\u4ee4\u4e0d\u4f46\u53ef\u4ee5\u7b80\u5355\u6dfb\u52a0\uff0c\u5982\u679cset\u7684key\u5df2\u7ecf\u5b58\u5728\uff0c\u8be5\u547d\u4ee4\u53ef\u4ee5\u66f4\u65b0\u8be5key\u6240\u5bf9\u5e94\u7684\u539f\u6765\u7684\u6570\u636e\uff0c\u4e5f\u5c31\u662f\u5b9e\u73b0\u66f4\u65b0\u7684\u4f5c\u7528\u3002<\/p> \r\n  <p>\u53ef\u4ee5\u901a\u8fc7\u201cget \u952e\u540d\u201d\u7684\u65b9\u5f0f\u67e5\u770b\u6dfb\u52a0\u8fdb\u53bb\u7684\u8bb0\u5f55\uff1a<\/p> \r\n  <p><img title='set_get' src='http:\/\/note.youdao.com\/yws\/res\/166\/C9E3393EBB484BFAB0D6E053AB52EB8F' alt='set_get' width='561' height='139' data-media-type='image'><\/p> \r\n  <p>\u5982\u4f60\u6240\u77e5\uff0c\u6211\u4eec\u4e5f\u53ef\u4ee5\u901a\u8fc7delete\u547d\u4ee4\u5220\u9664\u6389\uff0c\u7136\u540e\u91cd\u65b0\u6dfb\u52a0\u3002<\/p> \r\n  <p><img title='delete' src='http:\/\/note.youdao.com\/yws\/res\/163\/A33448BA4D904A7B8F88A873BB676978' alt='delete' width='561' height='137' data-media-type='image'><\/p> \r\n  <p><strong>(2)\u3001\u53ea\u6709\u6570\u636e\u4e0d\u5b58\u5728\u65f6\u8fdb\u884c\u6dfb\u52a0\u7684add<\/strong><\/p> \r\n  <p><img title='add' src='http:\/\/note.youdao.com\/yws\/res\/156\/5A45A639F9D74702AF3418E96648BC2C' alt='add' width='557' height='114' data-media-type='image'><\/p> \r\n  <p><strong>(3)\u3001\u53ea\u6709\u6570\u636e\u5b58\u5728\u65f6\u8fdb\u884c\u66ff\u6362\u7684replace<\/strong><\/p> \r\n  <p><img title='replace' src='http:\/\/note.youdao.com\/yws\/res\/158\/7D2291D7D83F419897692AA72E70CDCA' alt='replace' width='557' height='176' data-media-type='image'><\/p> \r\n  <strong>&nbsp;2\u3001\u5220\u9664<\/strong> \r\n  <p><img title='delete' src='http:\/\/note.youdao.com\/yws\/res\/153\/26B66D941C3D47CAA14CA3DF248FB9E3' alt='delete' width='559' height='113' data-media-type='image'><\/p> \r\n  <p>\u53ef\u4ee5\u770b\u5230\uff0c\u5220\u9664\u5df2\u5b58\u5728\u7684\u952e\u503c\u548c\u4e0d\u5b58\u5728\u7684\u8bb0\u5f55\u53ef\u4ee5\u8fd4\u56de\u4e0d\u540c\u7684\u7ed3\u679c\u3002<br><strong><br>\u4e8c\u3001\u8bfb\u53d6\u547d\u4ee41\u3001get<\/strong>&nbsp;<br>get\u547d\u4ee4\u7684key\u53ef\u4ee5\u8868\u793a\u4e00\u4e2a\u6216\u8005\u591a\u4e2a\u952e\uff0c\u952e\u4e4b\u95f4\u4ee5\u7a7a\u683c\u9694\u5f00<\/p> \r\n  <p><img title='get' src='http:\/\/note.youdao.com\/yws\/res\/159\/97AAA725087440E2AB86BCF3FEDD5746' alt='get' width='568' height='195' data-media-type='image'><br><strong>2\u3001gets<\/strong><\/p> \r\n  <p>&nbsp;<img title='gets' src='http:\/\/note.youdao.com\/yws\/res\/157\/7404267297EB4B2AA4B243DA09293553' alt='gets' width='575' height='224' data-media-type='image'><\/p> \r\n  <p>\u53ef\u4ee5\u770b\u5230\uff0cgets\u547d\u4ee4\u6bd4\u666e\u901a\u7684get\u547d\u4ee4\u591a\u8fd4\u56de\u4e86\u4e00\u4e2a\u6570\u5b57\uff08\u4e0a\u56fe\u4e2d\u4e3a13\uff09\u3002\u8fd9\u4e2a\u6570\u5b57\u53ef\u4ee5\u68c0\u67e5\u6570\u636e\u662f\u5426\u53d1\u751f\u6539\u53d8\u3002\u5f53key\u5bf9\u5e94\u7684\u6570\u636e\u6539\u53d8\u65f6\uff0c\u8fd9\u4e2a\u591a\u8fd4\u56de\u7684\u6570\u5b57\u4e5f\u4f1a\u6539\u53d8\u3002<br><br><strong>3\u3001cas&nbsp;<br><\/strong>cas\u5373checked and set\u7684\u610f\u601d\uff0c\u53ea\u6709\u5f53\u6700\u540e\u4e00\u4e2a\u53c2\u6570\u548cgets\u6240\u83b7\u53d6\u7684\u53c2\u6570\u5339\u914d\u65f6\u624d\u80fd\u5b58\u50a8\uff0c\u5426\u5219\u8fd4\u56de\u201cEXISTS\u201d\u3002<img title='cas' src='http:\/\/note.youdao.com\/yws\/res\/155\/3DCA6CF35749494794B14502D9D440B5' alt='cas' width='570' height='244' data-media-type='image'><strong><br><br>\u4e09\u3001\u72b6\u6001\u547d\u4ee41\u3001stats<\/strong><\/p> \r\n  <p><strong>&nbsp;<\/strong><img title='stats' src='http:\/\/note.youdao.com\/yws\/res\/168\/E2A6E64627AC4888BE96D1AE41941F11' alt='stats' width='575' height='274' data-media-type='image'><br><strong>2\u3001stats items<\/strong><\/p> \r\n  <p><img title='statsitems' src='http:\/\/note.youdao.com\/yws\/res\/167\/CDE5CA781F604D50BF6551F89CB5477E' alt='statsitems' width='573' height='78' data-media-type='image'><br>\u6267\u884cstats items\uff0c\u53ef\u4ee5\u770b\u5230STAT items\u884c\uff0c\u5982\u679cmemcached\u5b58\u50a8\u5185\u5bb9\u5f88\u591a\uff0c\u90a3\u4e48\u8fd9\u91cc\u4e5f\u4f1a\u5217\u51fa\u5f88\u591a\u7684STAT items\u884c\u3002<br><strong><br>3\u3001stats cachedump slab_id limit_num<\/strong>&nbsp;<br>\u6211\u4eec\u6267\u884cstats cachedump 1 0 \u547d\u4ee4\u6548\u679c\u5982\u4e0b\uff1a<\/p> \r\n  <p><img title='statscachedump' src='http:\/\/note.youdao.com\/yws\/res\/160\/9C9844FCC56F42129BE0AF5DD685B0F6' alt='statscachedump' width='576' height='107' data-media-type='image'>\u8fd9\u91ccslab_id\u4e3a1\uff0c\u662f\u75312\u4e2d\u7684stats items\u8fd4\u56de\u7684\u7ed3\u679c\uff08STAT items\u540e\u9762\u7684\u6570\u5b57\uff09\u51b3\u5b9a\u7684\uff1blimit_num\u770b\u8d77\u6765\u597d\u50cf\u662f\u8fd4\u56de\u591a\u5c11\u6761\u8bb0\u5f55\uff0c\u731c\u7684\u4e00\u70b9\u4e0d\u9519\uff0c \u4e0d\u8fc70\u8868\u793a\u663e\u793a\u51fa\u6240\u6709\u8bb0\u5f55\uff0c\u800cn(n&gt;0)\u5c31\u8868\u793a\u663e\u793an\u6761\u8bb0\u5f55\uff0c\u5982\u679cn\u8d85\u8fc7\u8be5slab\u4e0b\u7684\u6240\u6709\u8bb0\u5f55\uff0c\u5219\u7ed3\u679c\u548c0\u8fd4\u56de\u7684\u7ed3\u679c\u4e00\u81f4\u3002<img title='statscachedump1' src='http:\/\/note.youdao.com\/yws\/res\/165\/C412A24FF5F54B5DB473991F292F645E' alt='statscachedump1' width='581' height='251' data-media-type='image'><br>\u901a\u8fc7stats items\u3001stats cachedump slab_id limit_num\u914d\u5408get\u547d\u4ee4\u53ef\u4ee5\u904d\u5386memcached\u7684\u8bb0\u5f55\u3002<br><strong><br>4\u3001\u5176\u4ed6stats\u547d\u4ee4&nbsp;<br><\/strong>\u5982stats slabs,stats sizes,stats reset\u7b49\u7b49\u4f7f\u7528\u4e5f\u6bd4\u8f83\u5e38\u89c1\u3002<img title='statsother' src='http:\/\/note.youdao.com\/yws\/res\/162\/9F085358762D4388B85DE79CF53AE6C9' alt='statsother' width='582' height='243' data-media-type='image'><strong><br><br>\u56db\u3001\u5176\u4ed6\u5e38\u89c1\u547d\u4ee4<br>1\u3001append<\/strong><\/p> \r\n  <p>&nbsp;<img title='append' src='http:\/\/note.youdao.com\/yws\/res\/154\/2FF694EB31B048038562AA331975FE36' alt='append' width='578' height='199' data-media-type='image'>\u5728\u73b0\u6709\u7684\u7f13\u5b58\u6570\u636e<span style='color: rgb(255, 0, 0);'>\u540e<\/span>\u6dfb\u52a0\u7f13\u5b58\u6570\u636e\uff0c\u5982\u73b0\u6709\u7f13\u5b58\u7684key\u4e0d\u5b58\u5728\u670d\u52a1\u5668\u54cd\u5e94\u4e3aNOT_STORED\u3002<br><strong><br>2\u3001prepend&nbsp;<br><\/strong>\u548cappend\u975e\u5e38\u7c7b\u4f3c\uff0c\u4f46\u5b83\u7684\u4f5c\u7528\u662f\u5728\u73b0\u6709\u7684\u7f13\u5b58\u6570\u636e<span style='color: rgb(255, 0, 0);'>\u524d<\/span>\u6dfb\u52a0\u7f13\u5b58\u6570\u636e\u3002<img title='prepend' src='http:\/\/note.youdao.com\/yws\/res\/164\/B26A106955BF4D39B249D14709499A2C' alt='prepend' width='575' height='217' data-media-type='image'><br><strong>3\u3001flush_all<\/strong><\/p> \r\n  <p><strong>&nbsp;<\/strong><img title='flush_all' src='http:\/\/note.youdao.com\/yws\/res\/169\/EDE68E6803374F6B8EB09A38DAF70A98' alt='flush_all' width='581' height='160' data-media-type='image'><\/p> \r\n  <p>\u8be5\u547d\u4ee4\u6709\u4e00\u4e2a\u53ef\u9009\u7684\u6570\u5b57\u53c2\u6570\u3002\u5b83\u603b\u662f\u6267\u884c\u6210\u529f\uff0c\u670d\u52a1\u5668\u4f1a\u53d1\u9001 \u201cOK\\r\\n\u201d \u56de\u5e94\u3002\u5b83\u7684\u6548\u679c\u662f\u4f7f\u5df2\u7ecf\u5b58\u5728\u7684\u9879\u76ee\u7acb\u5373\u5931\u6548\uff08\u7f3a\u7701\uff09\uff0c\u6216\u5728\u6307\u5b9a\u7684\u65f6\u95f4\u540e\u3002\u6b64\u540e\u6267\u884c\u53d6\u56de\u547d\u4ee4\uff0c\u5c06\u4e0d\u4f1a\u6709\u4efb\u4f55\u5185\u5bb9\u8fd4\u56de\uff08\u9664\u975e\u91cd\u65b0\u5b58\u50a8\u540c\u6837\u7684\u952e\u540d\uff09\u3002 flush_all \u5b9e\u9645\u4e0a\u6ca1\u6709\u7acb\u5373\u91ca\u653e\u9879\u76ee\u6240\u5360\u7528\u7684\u5185\u5b58\uff0c\u800c\u662f\u5728\u968f\u540e\u9646\u7eed\u6709\u65b0\u7684\u9879\u76ee\u88ab\u50a8\u5b58\u65f6\u6267\u884c\uff08\u8fd9\u662f\u7531memcached\u7684\u61d2\u60f0\u68c0\u6d4b\u548c\u5220\u9664\u673a\u5236\u51b3\u5b9a\u7684\uff09\u3002<\/p> \r\n  <p>flush_all \u6548\u679c\u662f\u5b83\u5bfc\u81f4\u6240\u6709\u66f4\u65b0\u65f6\u95f4\u65e9\u4e8e flush_all \u6240\u8bbe\u5b9a\u65f6\u95f4\u7684\u9879\u76ee\uff0c\u5728\u88ab\u6267\u884c\u53d6\u56de\u547d\u4ee4\u65f6\u547d\u4ee4\u88ab\u5ffd\u7565\u3002<br><strong><br>4\u3001\u5176\u4ed6\u547d\u4ee4&nbsp;<br><\/strong>memcached\u8fd8\u6709\u5f88\u591a\u547d\u4ee4\uff0c\u6bd4\u5982\u5bf9\u4e8e\u5b58\u50a8\u4e3a\u6570\u5b57\u578b\u7684\u53ef\u4ee5\u901a\u8fc7incr\/decr\u547d\u4ee4\u8fdb\u884c\u589e\u51cf\u64cd\u4f5c\u7b49\u7b49\uff0c\u8fd9\u91cc\u53ea\u5217\u51fa\u5f00\u53d1\u548c\u8fd0\u7ef4\u4e2d\u7ecf\u5e38\u4f7f\u7528\u7684\u547d\u4ee4\uff0c\u5176\u4ed6\u7684\u4e0d\u518d\u4e00\u4e00\u4e3e\u4f8b\u8bf4\u660e\u3002<br><span style='color: rgb(0, 0, 0);'><span style='color: rgb(255, 0, 0); font-weight: bold;'><br>\u8865\u5145\u4e00\u5219\uff1a\u7b80\u5355\u8ba4\u8bc6.net framework\u4e2d\u7684\u51e0\u79cd\u7f13\u5b58<\/span><\/span>&nbsp;<br>web\u7ad9\u70b9\u4e2d\u7f13\u5b58\u7684\u91cd\u8981\u6027\u6bcb\u5eb8\u7f6e\u7591\u3002\u6211\u60f3\u5f88\u591aasp.net\u5f00\u53d1\u4eba\u5458\u5728\u5f00\u53d1web\u5e94\u7528\u7cfb\u7edf\u7684\u65f6\u5019\u4f18\u5148\u8003\u8651\u4f7f\u7528\u7684\u7f13\u5b58\u5e76\u4e0d\u662f\u7b2c\u4e09\u65b9\u7f13\u5b58\u89e3\u51b3\u65b9\u6848\uff08\u6bd4\u5982\u5206\u5e03\u5f0f\u7f13\u5b58memcached\u3001redis\u7b49\u7b49\uff09\uff0c\u800c\u5e94\u8be5\u662f.net framework\u5df2\u7ecf\u63d0\u4f9b\u7684\u591a\u79cd\u7f13\u5b58\u89e3\u51b3\u65b9\u6848\u3002\u4e0b\u9762\u7ed3\u5408\u81ea\u5df1\u7684\u5f00\u53d1\u7ecf\u9a8c\u8c08\u8c08\u5bf9.net framework\u4e2d\u7f13\u5b58\u7684\u8ba4\u8bc6\u3002<\/p> \r\n  <p><strong>1\u3001System.Web.Caching.Cache<br><\/strong>\u4f30\u8ba1\u5927\u90e8\u5206\u505a\u8fc7asp.net\u5f00\u53d1\u7684\u4eba\u90fd\u7528\u8fc7\u8fd9\u4e2a\u547d\u540d\u7a7a\u95f4\u4e0b\u7684\u7f13\u5b58\uff0c\u6211\u4eec\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528HttpContext.Current.Cache\u5b9e\u4f8b\u800c\u4e0d\u7528\u5b9e\u4f8b\u5316\u3002\u5f53\u7136\u8fd9\u4e2a\u547d\u540d\u7a7a\u95f4\u4e0b\u7684Cache\u7c7b\u662f\u5141\u8bb8\u60a8\u5b9e\u4f8b\u5316\u7684\uff0c\u9700\u8981\u5b9a\u5236\u81ea\u5df1\u7684\u7f13\u5b58\u7cfb\u7edf\u7684\u5f53\u7136\u53ef\u4ee5\u5b8c\u5168\u81ea\u5df1\u63a7\u5236\u5982\u4f55\u521d\u59cb\u5316\u8fd9\u4e2a\u7c7b\u3002\u6211\u5728\u56ed\u5b50\u91cc\u770b\u5230\u8fc7\u6709\u5f88\u591a\u6587\u7ae0\u4ecb\u7ecdCache\u7684CRUD\u8f85\u52a9\u7c7b\u5e93\u5927\u591a\u6570\u90fd\u662f\u9488\u5bf9System.Web.Caching.Cache\u3002<\/p> \r\n  <p>\u9700\u8981\u8bf4\u660e\u7684\u662f\uff0c\u6211\u4eec\u8fd8\u53ef\u4ee5\u901a\u8fc7\u8be5\u547d\u540d\u7a7a\u95f4\u4e0b\u7684HttpRuntime.Cache\u5b9e\u73b0web\u3001\u63a7\u5236\u53f0\u3001winform\u7b49\u4e0d\u540c\u8868\u73b0\u5f62\u5f0f\u4e0b\u7684\u7f13\u5b58\uff0c\u800c\u4e14\u5b8c\u5168\u65e0\u9700\u81ea\u5df1\u5b9e\u4f8b\u5316\u3002HttpRuntime.Cache\u662f\u4e4b\u524d\u4e2a\u4eba\u5f00\u53d1\u4e2d\u4f7f\u7528\u6bd4\u8f83\u591a\u7684\u4e00\u4e2a\u7c7b\uff0c\u73b0\u5728\u6bd4\u8f83\u504f\u7231.net framework4.0\u4e2d\u7684\u589e\u5f3a\u578b\u7684\u7f13\u5b58\u7c7bMemoryCache\u3002<\/p> \r\n  <p><strong>2\u3001Output Cache<br><\/strong>\u4f17\u6240\u5468\u77e5\uff0c\u8f93\u51fa\u7f13\u5b58\u4e3b\u8981\u5206\u9875\u9762\u8f93\u51fa\u7f13\u5b58\u548c\u9875\u9762\u90e8\u5206\u7f13\u5b58\u3002\u8bf4\u767d\u4e86\uff0c\u5c31\u662f\u7f13\u5b58\u6574\u4e2a\u9875\u9762\u7684html\u6216\u8005\u90e8\u5206html\uff0c\u672c\u6765\u6ca1\u4ec0\u4e48\u503c\u5f97\u8ba8\u8bba\u7684\uff0c\u4f46\u662f\u6700\u8fd1\u770b\u5230dudu\u7684\u8fd9\u7bc7\u535a\u5ba2\u624d\u604d\u7136\u53d1\u73b0\uff0c\u60f3\u4e0d\u5230\u4f7f\u7528\u5b83\u8fd8\u771f\u662f\u5927\u6709\u8bb2\u7a76\uff0c\u6211\u4ee5\u524d\u600e\u4e48\u5c31\u6ca1\u6709\u53d1\u73b0\u8fd9\u4e2a\u95ee\u9898\u5462\uff1f\u770b\u6765\u53d1\u73b0\u95ee\u9898\u548c\u89e3\u51b3\u95ee\u9898\u7684\u80fd\u529b\u540c\u6837\u91cd\u8981\uff0c\u6709\u65f6\u5019\u524d\u8005\u751a\u81f3\u66f4\u91cd\u8981\u554a\u3002<\/p> \r\n  <p><strong>3\u3001System.Runtime.Caching<br><\/strong>\u73b0\u5728\u4e2a\u4eba\u5f00\u53d1\u4e2d\u4f7f\u7528\u6700\u591a\u7684\u7c7bMemoryCache\u51fa\u81ea\u8fd9\u4e2a\u547d\u540d\u7a7a\u95f4\uff0c\u4f7f\u7528\u524d\u9700\u8981\u5f15\u7528using System.Runtime.Caching\u3002MemoryCache\u7ee7\u627f\u81eaObjectCache, IEnumerable, IDisposable\uff0c\u5176\u4e2dObjectCache\u662f\u4e2a\u62bd\u8c61\u7c7b\u3002\u7528\u8fc7MemoryCache\u7684\u4eba\u90fd\u77e5\u9053\uff0c\u8fd9\u4e2aMemoryCache\u6709\u4e00\u4e2a\u5c5e\u6027\u53ebDefault\uff0c\u901a\u5e38\u53ef\u4ee5\u50cf\u4e0b\u9762\u8fd9\u6837\u4f7f\u7528\uff1a<\/p> \r\n  <p>private static ObjectCache memCache = MemoryCache.Default;\u5f53\u7136\u6211\u4eec\u4e5f\u5b8c\u5168\u53ef\u4ee5\u901a\u8fc7public MemoryCache(string name, NameValueCollection config = null)\u6784\u9020\u51fd\u6570\u521d\u59cb\u5316\u7f13\u5b58\u5bf9\u8c61\u3002<\/p> \r\n  <p>\u63a5\u7740\u6211\u4eec\u53ef\u4ee5\u5728web.config\u6587\u4ef6\u4e2d\u914d\u7f6e\u6bcf\u4e2aMemoryCache\u5b9e\u4f8b\u8fd0\u884c\u7684\u5185\u5b58\u4f7f\u7528\u914d\u989d\u65b9\u6848\u548c\u914d\u989d\u68c0\u67e5\u5468\u671f\uff0c\u4e0b\u9762\u793a\u4f8b\u53c2\u8003<strong><a href='http:\/\/msdn.microsoft.com\/zh-cn\/library\/dd941872.aspx' target='_blank' style='color: rgb(0, 102, 153);'>MSDN<\/a><\/strong>\uff1a<br><\/p> \r\n  <div style='background-color: rgb(242, 246, 251);'> \r\n   <u>\u590d\u5236\u4ee3\u7801<\/u>\u4ee3\u7801\u5982\u4e0b: \r\n  <\/div> \r\n  <div style='background-color: rgb(221, 237, 251);'> \r\n   <br>&nbsp; &lt;system.runtime.caching&gt; \r\n   <br>&nbsp;&nbsp;&nbsp; &lt;memoryCache&gt; \r\n   <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;namedCaches&gt; \r\n   <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;add name='Default' cacheMemoryLimitMegabytes='10'&nbsp; pollingInterval='00:02:00'\/&gt; \r\n   <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;\/namedCaches&gt; \r\n   <br>&nbsp;&nbsp;&nbsp; &lt;\/memoryCache&gt; \r\n   <br>&nbsp; &lt;\/system.runtime.caching&gt; \r\n   <br> \r\n  <\/div> \r\n  <br>\u8fd9\u4e9b\u914d\u7f6e\u610f\u4e49\u5728\u4e8e\u53ef\u4ee5\u660e\u786e\u6307\u5b9a\u6bcf\u4e2aMemoryCache\u5b9e\u4f8b\u8fd0\u884c\u7684\u5185\u5b58\u4f7f\u7528\u914d\u989d\u65b9\u6848\u548c\u914d\u989d\u68c0\u67e5\u5468\u671f\u3002\u6bd4\u5982\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u914d\u7f6e\u6765\u6309\u9700\u66f4\u6539MemoryCache.Default\u5b9e\u4f8b\u7684\u5185\u5b58\u914d\u989d\uff08\u4e0d\u77e5\u9053\u7f13\u5b58\u53ef\u7528\u6700\u5927\u5185\u5b58\u662f\u591a\u5c11\uff0c\u53ef\u80fd\u8fd8\u662f\u4f20\u8bf4\u4e2d\u7684800M\u5de6\u53f3\uff09\u3002\u7f13\u5b58\u8fc7\u671f\u7b56\u7565\u4e0e\u5176\u5b83\u7684\u7f13\u5b58\u6846\u67b6\u5927\u540c\u5c0f\u5f02\uff0c\u4e0eSystem.Web.Caching.Cache\u7684\u4e0d\u540c\u53ea\u662f\u540d\u79f0\u4e0d\u53ebCacheDependency\uff0c\u800c\u53eb \r\n  <strong><a href='http:\/\/msdn.microsoft.com\/zh-cn\/library\/system.runtime.caching.changemonitor.aspx' target='_blank' style='color: rgb(0, 102, 153);'>ChangeMonitor<\/a><\/strong>\uff0c\u5e76\u4e14\u63d0\u4f9b\u4e86\u57fa\u4e8e\u6587\u4ef6\u548c\u76ee\u5f55\u7684\u7f13\u5b58\u4f9d\u8d56\u7b56\u7565\u3002\u5173\u4e8e\u7f13\u5b58\u8fc7\u671f\u7b56\u7565\u4e5f\u6bd4\u8f83\u6709\u63a2\u8ba8\u7684\u5fc5\u8981\uff0c\u4e0d\u8fc7\u4e2a\u4eba\u5f00\u53d1\u4e2d\u6bd4\u8f83\u504f\u91cd\u4e8e\u6570\u636e\u7f13\u5b58\u548c\u66ff\u6362\uff0c\u76ee\u524d\u8fd8\u6ca1\u6709\u63a5\u89e6\u548c\u4f7f\u7528\u8fc7\u6bd4\u8f83\u5b8c\u7f8e\u7684\u8fc7\u671f\u7b56\u7565\u89e3\u51b3\u65b9\u6848\u3002 \r\n <\/div> \r\n<\/div>\r\n ","excerpt":"\u00a0Memcached\u5e38\u7528\u547d\u4ee4\u4ee5\u53ca\u4f7f\u7528\u8bf4\u660e\u8be6\u89e3\u5b58\u50a8\u547d\u4ee4\u7684\u683c\u5f0f\uff1a<commandname><key><flags><exptime><bytes><datablock>\u53c2\u6570\u8bf4\u660e\u5982\u4e0b\uff1a<commandname>set\/add\/replace<key>\u67e5\u627e\u5173\u952e\u5b57<flags>\u5ba2\u6237\u673a\u4f7f\u7528\u5b83\u5b58\u50a8\u5173\u4e8e","author":"1","sortid":"19","type":"blog","views":"80","comnum":"0","tbcount":"0","attnum":"0","top":"n","hide":"n","allow_remark":"y","allow_tb":"y","password":"","thumb":"0","alias":""}