{"gid":"550","title":"soap","date":"1397599200","content":"\r\n <div>\r\n  &lt;?php \r\n<\/div> \r\n<div>\r\n  \/\/ \u8bbe\u7f6e\u4e00\u4e9b\u57fa\u672c\u7684\u53d8\u91cf \r\n<\/div> \r\n<div>\r\n  $host = '192.168.1.99'; \r\n<\/div> \r\n<div>\r\n  $port = 1234; \r\n<\/div> \r\n<div>\r\n  \/\/ \u8bbe\u7f6e\u8d85\u65f6\u65f6\u95f4 \r\n<\/div> \r\n<div>\r\n  set_time_limit(0); \r\n<\/div> \r\n<div>\r\n  \/\/ \u521b\u5efa\u4e00\u4e2aSocket \r\n<\/div> \r\n<div>\r\n  $socket = socket_create(AF_INET, SOCK_STREAM, 0) or die('Could not create socket\\n'); \r\n<\/div> \r\n<div>\r\n  \/\/\u7ed1\u5b9aSocket\u5230\u7aef\u53e3 \r\n<\/div> \r\n<div>\r\n  $result = socket_bind($socket, $host, $port) or die('Could not bind to socket\\n'); \r\n<\/div> \r\n<div>\r\n  \/\/ \u5f00\u59cb\u76d1\u542c\u94fe\u63a5 \r\n<\/div> \r\n<div>\r\n  $result = socket_listen($socket, 3) or die('Could not set up socket listener\\n'); \r\n<\/div> \r\n<div>\r\n  \/\/ accept incoming connections \r\n<\/div> \r\n<div>\r\n  \/\/ \u53e6\u4e00\u4e2aSocket\u6765\u5904\u7406\u901a\u4fe1 \r\n<\/div> \r\n<div>\r\n  $spawn = socket_accept($socket) or die('Could not accept incoming connection\\n'); \r\n<\/div> \r\n<div>\r\n  \/\/ \u83b7\u5f97\u5ba2\u6237\u7aef\u7684\u8f93\u5165 \r\n<\/div> \r\n<div>\r\n  $input = socket_read($spawn, 1024) or die('Could not read input\\n'); \r\n<\/div> \r\n<div>\r\n  \/\/ \u6e05\u7a7a\u8f93\u5165\u5b57\u7b26\u4e32 \r\n<\/div> \r\n<div>\r\n  $input = trim($input); \r\n<\/div> \r\n<div>\r\n  \/\/\u5904\u7406\u5ba2\u6237\u7aef\u8f93\u5165\u5e76\u8fd4\u56de\u7ed3\u679c \r\n<\/div> \r\n<div>\r\n  $output = strrev($input) . '\\n'; \r\n<\/div> \r\n<div>\r\n  socket_write($spawn, $output, strlen ($output)) or die('Could not write \r\n<\/div> \r\n<div>\r\n  output\\n'); \r\n<\/div> \r\n<div>\r\n  \/\/ \u5173\u95edsockets \r\n<\/div> \r\n<div>\r\n  socket_close($spawn); \r\n<\/div> \r\n<div>\r\n  socket_close($socket); \r\n<\/div> \r\n<div>\r\n  ?&gt; \r\n<\/div>\r\n ","excerpt":"\u00a0<?php\/\/\u8bbe\u7f6e\u4e00\u4e9b\u57fa\u672c\u7684\u53d8\u91cf$host=\\'192.168.1.99\\';$port=1234;\/\/\u8bbe\u7f6e\u8d85\u65f6\u65f6\u95f4set_time_limit(0);\/\/\u521b\u5efa\u4e00\u4e2aSocket$socket=socket_create(AF_INET,SOCK_STREAM,0)ordie(\\'","author":"1","sortid":"19","type":"blog","views":"48","comnum":"0","tbcount":"0","attnum":"0","top":"n","hide":"n","allow_remark":"y","allow_tb":"y","password":"","thumb":"0","alias":""}