{"gid":"553","title":"glob","date":"1396562400","content":"\r\n <div> \r\n <h1>glob<\/h1> \r\n <p>(PHP 4 &gt;= 4.3.0, PHP 5)<\/p> \r\n <p>glob \u2014 \u5bfb\u627e\u4e0e\u6a21\u5f0f\u5339\u914d\u7684\u6587\u4ef6\u8def\u5f84<\/p> \r\n<\/div> \r\n<div> \r\n <h3>\u8bf4\u660e<\/h3> \r\n <div>\r\n   array \r\n  <strong>glob<\/strong> ( string \r\n  <code>$pattern<\/code> [, int \r\n  <code>$flags<\/code> ] ) \r\n <\/div> \r\n <p><strong>glob()<\/strong> \u51fd\u6570\u4f9d\u7167 libc glob() \u51fd\u6570\u4f7f\u7528\u7684\u89c4\u5219\u5bfb\u627e\u6240\u6709\u4e0e <em><code>pattern<\/code><\/em> \u5339\u914d\u7684\u6587\u4ef6\u8def\u5f84\uff0c\u7c7b\u4f3c\u4e8e\u4e00\u822c shells \u6240\u7528\u7684\u89c4\u5219\u4e00\u6837\u3002\u4e0d\u8fdb\u884c\u7f29\u5199\u6269\u5c55\u6216\u53c2\u6570\u66ff\u4ee3\u3002 <\/p> \r\n <p> \u8fd4\u56de\u4e00\u4e2a\u5305\u542b\u6709\u5339\u914d\u6587\u4ef6\uff0f\u76ee\u5f55\u7684\u6570\u7ec4\u3002\u5982\u679c\u51fa\u9519\u8fd4\u56de <strong><code>FALSE<\/code><\/strong>\u3002 <\/p> \r\n <p> \u6709\u6548\u6807\u8bb0\u4e3a\uff1a <\/p> \r\n <ul> \r\n  <li><strong><code>GLOB_MARK<\/code><\/strong> - \u5728\u6bcf\u4e2a\u8fd4\u56de\u7684\u9879\u76ee\u4e2d\u52a0\u4e00\u4e2a\u659c\u7ebf <\/li> \r\n  <li><strong><code>GLOB_NOSORT<\/code><\/strong> - \u6309\u7167\u6587\u4ef6\u5728\u76ee\u5f55\u4e2d\u51fa\u73b0\u7684\u539f\u59cb\u987a\u5e8f\u8fd4\u56de\uff08\u4e0d\u6392\u5e8f\uff09 <\/li> \r\n  <li><strong><code>GLOB_NOCHECK<\/code><\/strong> - \u5982\u679c\u6ca1\u6709\u6587\u4ef6\u5339\u914d\u5219\u8fd4\u56de\u7528\u4e8e\u641c\u7d22\u7684\u6a21\u5f0f <\/li> \r\n  <li><strong><code>GLOB_NOESCAPE<\/code><\/strong> - \u53cd\u659c\u7ebf\u4e0d\u8f6c\u4e49\u5143\u5b57\u7b26 <\/li> \r\n  <li><strong><code>GLOB_BRACE<\/code><\/strong> - \u6269\u5145 {a,b,c} \u6765\u5339\u914d 'a'\uff0c'b' \u6216 'c' <\/li> \r\n  <li><strong><code>GLOB_ONLYDIR<\/code><\/strong> - \u4ec5\u8fd4\u56de\u4e0e\u6a21\u5f0f\u5339\u914d\u7684\u76ee\u5f55\u9879 <p><strong>Note<\/strong>: \u5728 PHP 4.3.3 \u7248\u672c\u4e4b\u524d <strong><code>GLOB_ONLYDIR<\/code><\/strong> \u5728 Windows \u6216\u8005\u5176\u5b83\u4e0d\u4f7f\u7528 GNU C \u5e93\u7684\u7cfb\u7edf\u4e0a<em>\u4e0d\u53ef\u7528<\/em>\u3002 <\/p><\/li> \r\n  <li><strong><code>GLOB_ERR<\/code><\/strong> - \u505c\u6b62\u5e76\u8bfb\u53d6\u9519\u8bef\u4fe1\u606f\uff08\u6bd4\u5982\u8bf4\u4e0d\u53ef\u8bfb\u7684\u76ee\u5f55\uff09\uff0c\u9ed8\u8ba4\u7684\u60c5\u51b5\u4e0b\u5ffd\u7565\u6240\u6709\u9519\u8bef <p><strong>Note<\/strong>: <strong><code>GLOB_ERR<\/code><\/strong> \u662f PHP 5.1 \u6dfb\u52a0\u7684\u3002 <\/p><\/li> \r\n <\/ul> \r\n <p><strong>Example #1 \u600e\u6837\u7528 <strong>glob()<\/strong> \u65b9\u4fbf\u5730\u66ff\u4ee3 opendir() \u548c\u76f8\u5173\u51fd\u6570<\/strong><\/p> \r\n <div> \r\n  <code><span style='color:rgb(0, 0, 187);'>&lt;?php<br><\/span><span style='color:rgb(0, 119, 0);'>foreach&nbsp;(<\/span><span style='color:rgb(0, 0, 187);'>glob<\/span><span style='color:rgb(0, 119, 0);'>(<\/span><span style='color:rgb(221, 0, 0);'>'*.txt'<\/span><span style='color:rgb(0, 119, 0);'>)&nbsp;as&nbsp;<\/span><span style='color:rgb(0, 0, 187);'>$filename<\/span><span style='color:rgb(0, 119, 0);'>)&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;<\/span><span style='color:rgb(221, 0, 0);'>'<\/span><span style='color:rgb(0, 0, 187);'>$filename<\/span><span style='color:rgb(221, 0, 0);'>&nbsp;size&nbsp;'&nbsp;<\/span><span style='color:rgb(0, 119, 0);'>.&nbsp;<\/span><span style='color:rgb(0, 0, 187);'>filesize<\/span><span style='color:rgb(0, 119, 0);'>(<\/span><span style='color:rgb(0, 0, 187);'>$filename<\/span><span style='color:rgb(0, 119, 0);'>)&nbsp;.&nbsp;<\/span><span style='color:rgb(221, 0, 0);'>'\\n'<\/span><span style='color:rgb(0, 119, 0);'>;<br>}<br><\/span><span style='color:rgb(0, 0, 187);'>?&gt;<\/span> <\/code> \r\n <\/div> \r\n <p>\u4ee5\u4e0a\u4f8b\u7a0b\u7684\u8f93\u51fa\u7c7b\u4f3c\u4e8e\uff1a<\/p> \r\n <div> \r\n  <pre>funclist.txt size 44686\r\nfuncsummary.txt size 267625\r\nquickref.txt size 137820\r\n<\/pre> \r\n <\/div> \r\n <p><strong>Note<\/strong>: \u6b64\u51fd\u6570\u4e0d\u80fd\u4f5c\u7528\u4e8e\u8fdc\u7a0b\u6587\u4ef6\uff0c\u88ab\u68c0\u67e5\u7684\u6587\u4ef6\u5fc5\u987b\u662f\u53ef\u901a\u8fc7\u670d\u52a1\u5668\u7684\u6587\u4ef6\u7cfb\u7edf\u8bbf\u95ee\u7684\u3002<\/p> \r\n <p> \u53c2\u89c1 opendir()\uff0creaddir()\uff0cclosedir() \u548c fnmatch()\u3002 <\/p> \r\n<\/div> \r\n<div> \r\n <h3>\u53c2\u6570<\/h3> \r\n <dl> \r\n  <dt> \r\n   <em><code>pattern<\/code><\/em> \r\n  <\/dt> \r\n  <dd> \r\n   <p> The pattern. No tilde expansion or parameter substitution is done. <\/p> \r\n  <\/dd> \r\n  <dt> \r\n   <em><code>flags<\/code><\/em> \r\n  <\/dt> \r\n  <dd> \r\n   <p> Valid flags: <\/p> \r\n   <ul> \r\n    <li><strong><code>GLOB_MARK<\/code><\/strong> - Adds a slash to each directory returned <\/li> \r\n    <li><strong><code>GLOB_NOSORT<\/code><\/strong> - Return files as they appear in the directory (no sorting) <\/li> \r\n    <li><strong><code>GLOB_NOCHECK<\/code><\/strong> - Return the search pattern if no files matching it were found <\/li> \r\n    <li><strong><code>GLOB_NOESCAPE<\/code><\/strong> - Backslashes do not quote metacharacters <\/li> \r\n    <li><strong><code>GLOB_BRACE<\/code><\/strong> - Expands {a,b,c} to match 'a', 'b', or 'c' <\/li> \r\n    <li><strong><code>GLOB_ONLYDIR<\/code><\/strong> - Return only directory entries which match the pattern <\/li> \r\n    <li><strong><code>GLOB_ERR<\/code><\/strong> - Stop on read errors (like unreadable directories), by default errors are ignored. <\/li> \r\n   <\/ul> \r\n  <\/dd> \r\n <\/dl> \r\n<\/div> \r\n<div> \r\n <h3>\u8fd4\u56de\u503c<\/h3> \r\n <p>Returns an array containing the matched files\/directories, an empty array if no file matched or <strong><code>FALSE<\/code><\/strong> on error. <\/p> \r\n <p><strong>Note<\/strong>: <\/p> \r\n <p> On some systems it is impossible to distinguish between empty match and an error. <\/p> \r\n<\/div> \r\n<div> \r\n <h3>\u66f4\u65b0\u65e5\u5fd7<\/h3> \r\n <table> \r\n  <thead> \r\n   <tr> \r\n    <th>\u7248\u672c<\/th> \r\n    <th>\u8bf4\u660e<\/th> \r\n   <\/tr> \r\n  <\/thead> \r\n  <tbody> \r\n   <tr> \r\n    <td>5.1.0<\/td> \r\n    <td><strong><code>GLOB_ERR<\/code><\/strong> was added <\/td> \r\n   <\/tr> \r\n   <tr> \r\n    <td>4.3.3<\/td> \r\n    <td><strong><code>GLOB_ONLYDIR<\/code><\/strong> became available on Windows and other systems not using the GNU C library <\/td> \r\n   <\/tr> \r\n  <\/tbody> \r\n <\/table> \r\n<\/div> \r\n<div> \r\n <h3>\u8303\u4f8b<\/h3> \r\n <p><strong>Example #2 Convenient way how <strong>glob()<\/strong> can replace opendir() and friends. <\/strong><\/p> \r\n <div> \r\n  <code><span style='color:rgb(0, 0, 187);'>&lt;?php<br><\/span><span style='color:rgb(0, 119, 0);'>foreach&nbsp;(<\/span><span style='color:rgb(0, 0, 187);'>glob<\/span><span style='color:rgb(0, 119, 0);'>(<\/span><span style='color:rgb(221, 0, 0);'>'*.txt'<\/span><span style='color:rgb(0, 119, 0);'>)&nbsp;as&nbsp;<\/span><span style='color:rgb(0, 0, 187);'>$filename<\/span><span style='color:rgb(0, 119, 0);'>)&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;<\/span><span style='color:rgb(221, 0, 0);'>'<\/span><span style='color:rgb(0, 0, 187);'>$filename<\/span><span style='color:rgb(221, 0, 0);'>&nbsp;size&nbsp;'&nbsp;<\/span><span style='color:rgb(0, 119, 0);'>.&nbsp;<\/span><span style='color:rgb(0, 0, 187);'>filesize<\/span><span style='color:rgb(0, 119, 0);'>(<\/span><span style='color:rgb(0, 0, 187);'>$filename<\/span><span style='color:rgb(0, 119, 0);'>)&nbsp;.&nbsp;<\/span><span style='color:rgb(221, 0, 0);'>'\\n'<\/span><span style='color:rgb(0, 119, 0);'>;<br>}<br><\/span><span style='color:rgb(0, 0, 187);'>?&gt;<\/span> <\/code> \r\n <\/div> \r\n <p>\u4ee5\u4e0a\u4f8b\u7a0b\u7684\u8f93\u51fa\u7c7b\u4f3c\u4e8e\uff1a<\/p> \r\n <div> \r\n  <pre>funclist.txt size 44686\r\nfuncsummary.txt size 267625\r\nquickref.txt size 137820\r\n<\/pre> \r\n <\/div> \r\n<\/div> \r\n<div> \r\n <h3>\u6ce8\u91ca<\/h3> \r\n <p><strong>Note<\/strong>: \u6b64\u51fd\u6570\u4e0d\u80fd\u4f5c\u7528\u4e8e\u8fdc\u7a0b\u6587\u4ef6\uff0c\u88ab\u68c0\u67e5\u7684\u6587\u4ef6\u5fc5\u987b\u662f\u53ef\u901a\u8fc7\u670d\u52a1\u5668\u7684\u6587\u4ef6\u7cfb\u7edf\u8bbf\u95ee\u7684\u3002<\/p> \r\n <p><strong>Note<\/strong>: This function isn't available on some systems (e.g. old Sun OS). <\/p> \r\n <p><strong>Note<\/strong>: The <strong><code>GLOB_BRACE<\/code><\/strong> flag is not available on some non GNU systems, like Solaris. <\/p> \r\n<\/div> \r\n<div> \r\n <h3>\u53c2\u89c1<\/h3> \r\n <ul> \r\n  <li>opendir() - \u6253\u5f00\u76ee\u5f55\u53e5\u67c4<\/li> \r\n  <li>readdir() - \u4ece\u76ee\u5f55\u53e5\u67c4\u4e2d\u8bfb\u53d6\u6761\u76ee<\/li> \r\n  <li>closedir() - \u5173\u95ed\u76ee\u5f55\u53e5\u67c4<\/li> \r\n  <li>fnmatch() - \u7528\u6a21\u5f0f\u5339\u914d\u6587\u4ef6\u540d<\/li> \r\n <\/ul> \r\n<\/div>\r\n ","excerpt":"\u00a0glob(PHP4>=4.3.0,PHP5)glob\u2014\u5bfb\u627e\u4e0e\u6a21\u5f0f\u5339\u914d\u7684\u6587\u4ef6\u8def\u5f84\u8bf4\u660earrayglob(string$pattern[,int$flags])glob()\u51fd\u6570\u4f9d\u7167libcglob()\u51fd\u6570\u4f7f\u7528\u7684\u89c4\u5219\u5bfb\u627e\u6240\u6709\u4e0epattern\u5339\u914d\u7684\u6587\u4ef6\u8def\u5f84\uff0c\u7c7b\u4f3c\u4e8e","author":"1","sortid":"19","type":"blog","views":"49","comnum":"0","tbcount":"0","attnum":"0","top":"n","hide":"n","allow_remark":"y","allow_tb":"y","password":"","thumb":"0","alias":""}