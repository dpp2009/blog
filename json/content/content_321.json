{"gid":"321","title":"1\u3001\u9996\u5148\u5f53\u7136\u662f\u8fde\u63a5\u6570\u636e\u5e93\uff0c\u51fd\u6570\u539f\u578b\u5982\u4e0b\uff1aMYSQL*STDCALLmysql_real_connec","date":"1421622000","content":"\r\n <div> \r\n <h2 style='background-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', Arial, Helvetica, sans-serif; font-size: 18px;'><span style='color:rgb(0, 0, 205);'>1\u3001\u9996\u5148\u5f53\u7136\u662f\u8fde\u63a5\u6570\u636e\u5e93\uff0c\u51fd\u6570\u539f\u578b\u5982\u4e0b\uff1a<\/span><\/h2> \r\n <span style='background-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', Arial, Helvetica, sans-serif;'>MYSQL * STDCALL&nbsp;&nbsp;<\/span> \r\n <span style='background-color: rgb(238, 238, 238); color: rgb(255, 0, 0); font-family: 'Microsoft Yahei', Arial, Helvetica, sans-serif;'>mysql_real_connect<\/span> \r\n <span style='background-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', Arial, Helvetica, sans-serif;'>(MYSQL *mysql, const char *host,<\/span> \r\n <br style='background-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', Arial, Helvetica, sans-serif;'> \r\n <span style='background-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', Arial, Helvetica, sans-serif;'>const char *user,<\/span> \r\n <br style='background-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', Arial, Helvetica, sans-serif;'> \r\n <span style='background-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', Arial, Helvetica, sans-serif;'>const char *passwd,<\/span> \r\n <br style='background-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', Arial, Helvetica, sans-serif;'> \r\n <span style='background-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', Arial, Helvetica, sans-serif;'>const char *db,<\/span> \r\n <br style='background-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', Arial, Helvetica, sans-serif;'> \r\n <span style='background-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', Arial, Helvetica, sans-serif;'>unsigned int port,<\/span> \r\n <br style='background-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', Arial, Helvetica, sans-serif;'> \r\n <span style='background-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', Arial, Helvetica, sans-serif;'>const char *unix_socket,<\/span> \r\n <br style='background-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', Arial, Helvetica, sans-serif;'> \r\n <span style='background-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', Arial, Helvetica, sans-serif;'>unsigned long clientflag);<\/span> \r\n <br style='background-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', Arial, Helvetica, sans-serif;'> \r\n <br style='background-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', Arial, Helvetica, sans-serif;'> \r\n <span style='background-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', Arial, Helvetica, sans-serif;'>\u7b2c\u4e00\u4e2a\u53c2\u6570 MYSQL\u662f C api\u4e2d\u4e00\u4e2a\u975e\u5e38\u91cd\u8981\u7684\u53d8\u91cf\uff0c\u91cc\u9762\u5185\u5b58\u975e\u5e38\u4e30\u5bcc\uff0c\u6709port,dbname,charset\u7b49\u8fde\u63a5\u57fa\u672c\u53c2\u6570\u3002\u5b83\u4e5f\u5305\u542b\u4e86\u4e00\u4e2a\u53eb st_mysql_methods\u7684\u7ed3\u6784\u4f53\u53d8\u91cf\uff0c\u8be5\u53d8\u91cf\u91cc\u9762\u4fdd\u5b58\u7740\u5f88\u591a\u51fd\u6570\u6307\u9488\uff0c\u8fd9\u4e9b\u51fd\u6570\u6307\u9488\u5c06\u4f1a\u5728\u6570\u636e\u5e93\u8fde\u63a5\u6210\u529f\u4ee5\u540e\u7684\u5404\u79cd\u6570\u636e\u64cd\u4f5c\u4e2d\u88ab\u8c03\u7528\u3002mysql_real_connect\u51fd\u6570\u4e2d\u5404\u53c2\u6570\uff0c\u57fa\u672c\u90fd\u662f\u987e\u540d\u601d\u610f\u3002<\/span> \r\n <br style='background-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', Arial, Helvetica, sans-serif;'> \r\n <h2 style='background-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', Arial, Helvetica, sans-serif; font-size: 18px;'><span style='color:rgb(0, 0, 205);'>2\u3001\u8fde\u63a5\u6570\u636e\u5e93\u6210\u529f\u4e4b\u540e\u5c31\u53ef\u4ee5\u6267\u884csql\u8bed\u53e5\u4e86\u4f7f\u7528mysql_query<\/span><\/h2> \r\n <span style='background-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', Arial, Helvetica, sans-serif;'>int &nbsp;STDCALL &nbsp;<\/span> \r\n <span style='background-color: rgb(238, 238, 238); color: rgb(255, 0, 0); font-family: 'Microsoft Yahei', Arial, Helvetica, sans-serif;'>mysql_query<\/span> \r\n <span style='background-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', Arial, Helvetica, sans-serif;'>(MYSQL *mysql, const char *q);<\/span> \r\n <br style='background-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', Arial, Helvetica, sans-serif;'> \r\n <br style='background-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', Arial, Helvetica, sans-serif;'> \r\n <span style='background-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', Arial, Helvetica, sans-serif;'>\u7b2c\u4e00\u4e2a\u53c2\u6570\u4e0a\u9762\u5df2\u7ecf\u4ecb\u7ecd\u8fc7\uff0c\u7b2c\u4e8c\u4e2a\u53c2\u6570\u4e3a\u8981\u6267\u884c\u7684sql\u8bed\u53e5\u3002<\/span> \r\n <br style='background-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', Arial, Helvetica, sans-serif;'> \r\n <br style='background-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', Arial, Helvetica, sans-serif;'> \r\n <span style='background-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', Arial, Helvetica, sans-serif;'>\u8fd9\u4e2a\u51fd\u6570\u603b\u4f53\u5c31\u4e24\u6b65\uff1a<\/span> \r\n <br style='background-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', Arial, Helvetica, sans-serif;'> \r\n <br style='background-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', Arial, Helvetica, sans-serif;'> \r\n <span style='background-color: rgb(238, 238, 238); color: rgb(0, 100, 0); font-family: 'Microsoft Yahei', Arial, Helvetica, sans-serif;'><strong>\uff081\uff09\u53d1\u9001sql\u8bed\u53e5\uff0c\u5176\u5b9e\u5c31\u4e00\u4e2asocket\u53d1\u9001sql \u8bed\u53e5\uff0c\u52a0\u4e0amysql\u56fa\u5b9a\u7684\u534f\u8bae\u5934\u3002<\/strong><\/span> \r\n <span style='background-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', Arial, Helvetica, sans-serif;'>\u61d2\u7684\u53bb\u770b\u6e90\u7801\u4e86\uff0c\u6293\u4e86\u4e0b\u5305\uff0c\u5982\u4e0b\uff1a<\/span> \r\n <br style='background-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', Arial, Helvetica, sans-serif;'> \r\n <span style='background-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', Arial, Helvetica, sans-serif;'>0000&nbsp; 19 00 00 00 0373 65 6c 65 63 74 20 61 70 70 5f&nbsp; .....select app_<\/span> \r\n <br style='background-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', Arial, Helvetica, sans-serif;'> \r\n <span style='background-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', Arial, Helvetica, sans-serif;'>0010&nbsp;&nbsp; 6e 61 6d 65 20 66 72 6f 6d 20 61 70 70&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; name from app<\/span> \r\n <br style='background-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', Arial, Helvetica, sans-serif;'> \r\n <span style='background-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', Arial, Helvetica, sans-serif;'>\u7ea2\u8272\u90e8\u5206\u662f\u534f\u8bae\uff0c\u524d\u9762\u4e24\u4f4d\u5176\u5b9e\u5c31\u662f\u5305\u7684\u957f\u5ea6\u3002\u5177\u4f53\u534f\u8bae\u6ca1\u7814\u7a76\u8fc7\u3002<\/span> \r\n <br style='background-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', Arial, Helvetica, sans-serif;'> \r\n <br style='background-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', Arial, Helvetica, sans-serif;'> \r\n <span style='background-color: rgb(238, 238, 238); color: rgb(0, 128, 0); font-family: 'Microsoft Yahei', Arial, Helvetica, sans-serif;'><strong>\uff082\uff09\u7136\u540e\u5c31\u662f\u63a5\u53d7\u7ed3\u679c\uff0c\u8fd9\u91cc\u5c06\u4f1a\u8c03\u7528MYSQL\u53d8\u91cf\u4e2d\u7684st_mysql_methods\u4e2d\u7684read_query_result\u51fd\u6570\u6307\u9488<\/strong><\/span> \r\n <br style='background-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', Arial, Helvetica, sans-serif;'> \r\n <h2 style='background-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', Arial, Helvetica, sans-serif; font-size: 18px;'><span style='color:rgb(0, 0, 205);'>3\u3001\u83b7\u53d6\u7ed3\u679c<\/span><\/h2> \r\n <span style='background-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', Arial, Helvetica, sans-serif;'>sql\u6267\u884c\u5b8c\u4ee5\u540e\uff0c\u5982\u679c\u662f\u67e5\u8be2\u8bed\u53e5\uff0c\u6211\u4eec\u5f53\u7136\u8fd8\u8981\u8bfb\u53d6\u6570\u636e\uff0c\u5982\u679cupdate\uff0cinsert\u7b49\u8bed\u53e5\uff0c\u90a3\u4e48\u5c31\u770b\u4e0b\u64cd\u4f5c\u6210\u529f\u4e0e\u5426\u5373\u53ef\u3002\u6211\u4eec\u6765\u770b\u770b\u5982\u4f55\u83b7\u53d6\u67e5\u8be2\u7ed3\u679c\uff1a \u5982\u679c<\/span> \r\n <span style='background-color: rgb(238, 238, 238); color: rgb(255, 0, 0); font-family: 'Microsoft Yahei', Arial, Helvetica, sans-serif;'>mysql_query<\/span> \r\n <span style='background-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', Arial, Helvetica, sans-serif;'>\u8fd4\u56de\u6210\u529f\uff0c\u90a3\u4e48\u6211\u4eec\u5c31\u901a\u8fc7mysql_store_result\u8fd9\u4e2a\u51fd\u6570\u6765\u8bfb\u53d6\u7ed3\u679c\u3002\u539f\u578b\u5982\u4e0b\uff1a<\/span> \r\n <br style='background-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', Arial, Helvetica, sans-serif;'> \r\n <br style='background-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', Arial, Helvetica, sans-serif;'> \r\n <span style='background-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', Arial, Helvetica, sans-serif;'>MYSQL_RES&nbsp; * STDCALL&nbsp;&nbsp;<\/span> \r\n <span style='background-color: rgb(238, 238, 238); color: rgb(255, 0, 0); font-family: 'Microsoft Yahei', Arial, Helvetica, sans-serif;'>mysql_store_result<\/span> \r\n <span style='background-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', Arial, Helvetica, sans-serif;'>(MYSQL *mysql);<\/span> \r\n <br style='background-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', Arial, Helvetica, sans-serif;'> \r\n <br style='background-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', Arial, Helvetica, sans-serif;'> \r\n <span style='background-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', Arial, Helvetica, sans-serif;'>\u8be5\u51fd\u6570\u4f1a\u8c03\u7528MYSQL\u53d8\u91cf\u4e2d\u7684st_mysql_methods\u4e2d\u7684 read_rows\u51fd\u6570\u6307\u9488\u6765\u83b7\u53d6\u67e5\u8be2\u7684\u7ed3\u679c\u3002\u540c\u65f6\u8be5\u51fd\u6570\u4f1a\u8fd4\u56deMYSQL_RES \u8fd9\u6837\u4e00\u4e2a\u53d8\u91cf\uff0c\u8be5\u53d8\u91cf\u4e3b\u8981\u7528\u4e8e\u4fdd\u5b58\u67e5\u8be2\u7684\u7ed3\u679c\u3002\u540c\u65f6\u8be5\u51fd\u6570malloc\u4e86\u4e00\u7247\u5185\u5b58\u7a7a\u95f4\u6765\u5b58\u50a8\u67e5\u8be2\u8fc7\u6765\u7684\u6570\u636e\uff0c\u6240\u4ee5\u6211\u4eec\u4e00\u5b9a\u8981\u8bb0\u7684 free(result),\u4e0d\u7136\u662f\u80af\u5b9a\u4f1a\u9020\u6210\u5185\u5b58\u6cc4\u6f0f\u7684\u3002 \u6267\u884c\u5b8cmysql_store_result\u4ee5\u540e\uff0c\u5176\u5b9e\u6570\u636e\u90fd\u5df2\u7ecf\u5728MYSQL_RES \u53d8\u91cf\u4e2d\u4e86\uff0c\u4e0b\u9762\u7684api\u57fa\u672c\u5c31\u662f\u8bfb\u53d6MYSQL_RES \u4e2d\u7684\u6570\u636e\u3002\u4f8b\u5982mysql_fetch_row\u8fd9\u4e2a\u51fd\u6570\uff0c\u5c31\u662f\u8bfb\u53bb\u67e5\u8be2\u7ed3\u679c\u7684\u4e00\u884c\u3002\u51fd\u6570\u539f\u578b\u5982\u4e0b<\/span> \r\n <br style='background-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', Arial, Helvetica, sans-serif;'> \r\n <br style='background-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', Arial, Helvetica, sans-serif;'> \r\n <span style='background-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', Arial, Helvetica, sans-serif;'>MYSQL_ROW&nbsp;&nbsp;&nbsp; STDCALL&nbsp;&nbsp;<\/span> \r\n <span style='background-color: rgb(238, 238, 238); color: rgb(255, 0, 0); font-family: 'Microsoft Yahei', Arial, Helvetica, sans-serif;'>mysql_fetch_row<\/span> \r\n <span style='background-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', Arial, Helvetica, sans-serif;'>(MYSQL_RES *result);<\/span> \r\n <br style='background-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', Arial, Helvetica, sans-serif;'> \r\n <br style='background-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', Arial, Helvetica, sans-serif;'> \r\n <span style='background-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', Arial, Helvetica, sans-serif;'>\u5b83\u4f1a\u8fd4\u56de\u4e00\u4e2aMYSQL_ROW\u53d8\u91cf\uff0cMYSQL_ROW\u5176\u5b9e\u5c31\u662fchar **.\u5c31\u5f53\u6210\u4e00\u4e2a\u4e8c\u7ef4\u6570\u7ec4\u6765\u7528\u5427\u3002\u8fd8\u6709\u5f88\u591aapi\uff0c\u4e0d\u518d\u4e00\u4e00\u4ecb\u7ecd\uff0c\u5927\u90e8\u5206\u4fe1\u606f\u90fd\u5728MYSQL_RES MYSQL\u8fd9\u4e24\u4e2a\u7ed3\u6784\u4f53\u4e2d\u3002\u5177\u4f53\u53ef\u4ee5\u53c2\u8003mysql\u5b98\u65b9\u7f51\u7ad9\uff1a http:\/\/dev.mysql.com\/doc\/refman\/5.1\/en\/c.html \u7a81\u7136\u53d1\u73b0\u5b98\u65b9\u7f51\u7ad9\u8d44\u6599\u597d\u5168\u9762\uff0c\u8c8c\u4f3c\u6bd4\u4efb\u4f55\u4e66\u90fd\u8981\u597d\u3002<\/span> \r\n <br style='background-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', Arial, Helvetica, sans-serif;'> \r\n <br style='background-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', Arial, Helvetica, sans-serif;'> \r\n <span style='background-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', Arial, Helvetica, sans-serif;'>\u4e0b\u9762\u6765\u4e2a\u4f8b\u5b50\uff1a<\/span> \r\n <br style='background-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', Arial, Helvetica, sans-serif;'> \r\n <br style='background-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', Arial, Helvetica, sans-serif;'> \r\n <span style='background-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', Arial, Helvetica, sans-serif;'>#include&lt;stdio.h&gt;<\/span> \r\n <br style='background-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', Arial, Helvetica, sans-serif;'> \r\n <span style='background-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', Arial, Helvetica, sans-serif;'>#include&lt;stdlib.h&gt;<\/span> \r\n <br style='background-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', Arial, Helvetica, sans-serif;'> \r\n <span style='background-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', Arial, Helvetica, sans-serif;'>#include&lt;string.h&gt;<\/span> \r\n <br style='background-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', Arial, Helvetica, sans-serif;'> \r\n <span style='background-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', Arial, Helvetica, sans-serif;'>#include&lt;mysql\/mysql.h&gt;<\/span> \r\n <br style='background-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', Arial, Helvetica, sans-serif;'> \r\n <span style='background-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', Arial, Helvetica, sans-serif;'>#define MAX_COLUMN_LEN&nbsp;&nbsp;&nbsp; 32<\/span> \r\n <br style='background-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', Arial, Helvetica, sans-serif;'> \r\n <span style='background-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', Arial, Helvetica, sans-serif;'>int main(int argc , char *argv[])<\/span> \r\n <br style='background-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', Arial, Helvetica, sans-serif;'> \r\n <span style='background-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', Arial, Helvetica, sans-serif;'>{<\/span> \r\n <br style='background-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', Arial, Helvetica, sans-serif;'> \r\n <span style='background-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', Arial, Helvetica, sans-serif;'>&nbsp;&nbsp;&nbsp; MYSQL my_connection;<\/span> \r\n <br style='background-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', Arial, Helvetica, sans-serif;'> \r\n <span style='background-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', Arial, Helvetica, sans-serif;'>&nbsp;&nbsp;&nbsp; MYSQL_RES *result;<\/span> \r\n <br style='background-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', Arial, Helvetica, sans-serif;'> \r\n <span style='background-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', Arial, Helvetica, sans-serif;'>&nbsp;&nbsp;&nbsp; MYSQL_ROW sql_row;<\/span> \r\n <br style='background-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', Arial, Helvetica, sans-serif;'> \r\n <span style='background-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', Arial, Helvetica, sans-serif;'>&nbsp;&nbsp;&nbsp; MYSQL_FIELD *fd;<\/span> \r\n <br style='background-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', Arial, Helvetica, sans-serif;'> \r\n <span style='background-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', Arial, Helvetica, sans-serif;'>&nbsp;&nbsp;&nbsp; char column[MAX_COLUMN_LEN][MAX_COLUMN_LEN];<\/span> \r\n <br style='background-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', Arial, Helvetica, sans-serif;'> \r\n <span style='background-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', Arial, Helvetica, sans-serif;'>&nbsp;&nbsp;&nbsp; int res;<\/span> \r\n <br style='background-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', Arial, Helvetica, sans-serif;'> \r\n <span style='background-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', Arial, Helvetica, sans-serif;'>&nbsp;&nbsp;&nbsp; mysql_init(&amp;my_connection);<\/span> \r\n <br style='background-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', Arial, Helvetica, sans-serif;'> \r\n <span style='background-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', Arial, Helvetica, sans-serif;'>&nbsp;&nbsp;&nbsp; if(mysql_real_connect(&amp;my_connection,'127.0.0.1','\u7528\u6237','\u5bc6\u7801','\u6570\u636e\u540d\u79f0',3306,NULL,0))<\/span> \r\n <br style='background-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', Arial, Helvetica, sans-serif;'> \r\n <span style='background-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', Arial, Helvetica, sans-serif;'>&nbsp;&nbsp;&nbsp; {<\/span> \r\n <br style='background-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', Arial, Helvetica, sans-serif;'> \r\n <span style='background-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', Arial, Helvetica, sans-serif;'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; perror('connect');<\/span> \r\n <br style='background-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', Arial, Helvetica, sans-serif;'> \r\n <span style='background-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', Arial, Helvetica, sans-serif;'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; res=mysql_query(&amp;my_connection,'select * from app');\/\/\u67e5\u8be2<\/span> \r\n <br style='background-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', Arial, Helvetica, sans-serif;'> \r\n <span style='background-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', Arial, Helvetica, sans-serif;'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if(!res)<\/span> \r\n <br style='background-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', Arial, Helvetica, sans-serif;'> \r\n <span style='background-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', Arial, Helvetica, sans-serif;'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<\/span> \r\n <br style='background-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', Arial, Helvetica, sans-serif;'> \r\n <span style='background-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', Arial, Helvetica, sans-serif;'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; result=mysql_store_result(&amp;my_connection);\/\/\u4fdd\u5b58\u67e5\u8be2\u5230\u7684\u6570\u636e\u5230result<\/span> \r\n <br style='background-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', Arial, Helvetica, sans-serif;'> \r\n <span style='background-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', Arial, Helvetica, sans-serif;'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if(result)<\/span> \r\n <br style='background-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', Arial, Helvetica, sans-serif;'> \r\n <span style='background-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', Arial, Helvetica, sans-serif;'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<\/span> \r\n <br style='background-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', Arial, Helvetica, sans-serif;'> \r\n <span style='background-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', Arial, Helvetica, sans-serif;'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; int i,j;<\/span> \r\n <br style='background-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', Arial, Helvetica, sans-serif;'> \r\n <span style='background-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', Arial, Helvetica, sans-serif;'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; printf('the result number is %lu\\n ',(unsigned long)mysql_num_rows(result));<\/span> \r\n <br style='background-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', Arial, Helvetica, sans-serif;'> \r\n <span style='background-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', Arial, Helvetica, sans-serif;'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; for(i=0;fd=mysql_fetch_field(result);i++)\/\/\u83b7\u53d6\u5217\u540d<\/span> \r\n <br style='background-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', Arial, Helvetica, sans-serif;'> \r\n <span style='background-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', Arial, Helvetica, sans-serif;'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<\/span> \r\n <br style='background-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', Arial, Helvetica, sans-serif;'> \r\n <span style='background-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', Arial, Helvetica, sans-serif;'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; bzero(column[i],sizeof(column[i]));<\/span> \r\n <br style='background-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', Arial, Helvetica, sans-serif;'> \r\n <span style='background-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', Arial, Helvetica, sans-serif;'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; strcpy(column[i],fd-&gt;name);<\/span> \r\n <br style='background-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', Arial, Helvetica, sans-serif;'> \r\n <span style='background-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', Arial, Helvetica, sans-serif;'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<\/span> \r\n <br style='background-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', Arial, Helvetica, sans-serif;'> \r\n <span style='background-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', Arial, Helvetica, sans-serif;'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; j=mysql_num_fields(result);<\/span> \r\n <br style='background-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', Arial, Helvetica, sans-serif;'> \r\n <span style='background-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', Arial, Helvetica, sans-serif;'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; for(i=0;i&lt;j;i++)<\/span> \r\n <br style='background-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', Arial, Helvetica, sans-serif;'> \r\n <span style='background-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', Arial, Helvetica, sans-serif;'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<\/span> \r\n <br style='background-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', Arial, Helvetica, sans-serif;'> \r\n <span style='background-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', Arial, Helvetica, sans-serif;'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; printf('%s\\t',column[i]);<\/span> \r\n <br style='background-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', Arial, Helvetica, sans-serif;'> \r\n <span style='background-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', Arial, Helvetica, sans-serif;'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<\/span> \r\n <br style='background-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', Arial, Helvetica, sans-serif;'> \r\n <span style='background-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', Arial, Helvetica, sans-serif;'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; printf('\\n');<\/span> \r\n <br style='background-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', Arial, Helvetica, sans-serif;'> \r\n <span style='background-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', Arial, Helvetica, sans-serif;'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; while(sql_row=mysql_fetch_row(result))\/\/\u83b7\u53d6\u5177\u4f53\u7684\u6570\u636e<\/span> \r\n <br style='background-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', Arial, Helvetica, sans-serif;'> \r\n <span style='background-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', Arial, Helvetica, sans-serif;'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<\/span> \r\n <br style='background-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', Arial, Helvetica, sans-serif;'> \r\n <span style='background-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', Arial, Helvetica, sans-serif;'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; for(i=0;i&lt;j;i++)<\/span> \r\n <br style='background-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', Arial, Helvetica, sans-serif;'> \r\n <span style='background-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', Arial, Helvetica, sans-serif;'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<\/span> \r\n <br style='background-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', Arial, Helvetica, sans-serif;'> \r\n <span style='background-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', Arial, Helvetica, sans-serif;'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; printf('%s\\t',sql_row[i]);<\/span> \r\n <br style='background-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', Arial, Helvetica, sans-serif;'> \r\n <span style='background-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', Arial, Helvetica, sans-serif;'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<\/span> \r\n <br style='background-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', Arial, Helvetica, sans-serif;'> \r\n <span style='background-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', Arial, Helvetica, sans-serif;'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; printf('\\n');<\/span> \r\n <br style='background-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', Arial, Helvetica, sans-serif;'> \r\n <span style='background-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', Arial, Helvetica, sans-serif;'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<\/span> \r\n <br style='background-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', Arial, Helvetica, sans-serif;'> \r\n <span style='background-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', Arial, Helvetica, sans-serif;'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<\/span> \r\n <br style='background-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', Arial, Helvetica, sans-serif;'> \r\n <span style='background-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', Arial, Helvetica, sans-serif;'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<\/span> \r\n <br style='background-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', Arial, Helvetica, sans-serif;'> \r\n <span style='background-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', Arial, Helvetica, sans-serif;'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<\/span> \r\n <br style='background-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', Arial, Helvetica, sans-serif;'> \r\n <span style='background-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', Arial, Helvetica, sans-serif;'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; else<\/span> \r\n <br style='background-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', Arial, Helvetica, sans-serif;'> \r\n <span style='background-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', Arial, Helvetica, sans-serif;'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<\/span> \r\n <br style='background-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', Arial, Helvetica, sans-serif;'> \r\n <span style='background-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', Arial, Helvetica, sans-serif;'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; perror('select');<\/span> \r\n <br style='background-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', Arial, Helvetica, sans-serif;'> \r\n <span style='background-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', Arial, Helvetica, sans-serif;'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<\/span> \r\n <br style='background-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', Arial, Helvetica, sans-serif;'> \r\n <span style='background-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', Arial, Helvetica, sans-serif;'>&nbsp;&nbsp;&nbsp; }<\/span> \r\n <br style='background-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', Arial, Helvetica, sans-serif;'> \r\n <span style='background-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', Arial, Helvetica, sans-serif;'>&nbsp;&nbsp;&nbsp; else<\/span> \r\n <br style='background-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', Arial, Helvetica, sans-serif;'> \r\n <span style='background-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', Arial, Helvetica, sans-serif;'>&nbsp;&nbsp;&nbsp; {<\/span> \r\n <br style='background-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', Arial, Helvetica, sans-serif;'> \r\n <span style='background-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', Arial, Helvetica, sans-serif;'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; perror('connect:error');<\/span> \r\n <br style='background-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', Arial, Helvetica, sans-serif;'> \r\n <span style='background-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', Arial, Helvetica, sans-serif;'>&nbsp;&nbsp;&nbsp; }<\/span> \r\n <br style='background-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', Arial, Helvetica, sans-serif;'> \r\n <span style='background-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', Arial, Helvetica, sans-serif;'>&nbsp;&nbsp;&nbsp; \r\n  <strike>\r\n    mysql_free_result(MYSQL_RES *result); \r\n  <\/strike>\/\/\u91ca\u653e\u7ed3\u679c\u8d44\u6e90<\/span> \r\n<\/div> \r\n<div>\r\n  &nbsp; &nbsp;&nbsp; \r\n <span style='background-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', Arial, Helvetica, sans-serif;'>mysql_free_result(result);<\/span> \r\n <br style='background-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', Arial, Helvetica, sans-serif;'> \r\n <span style='background-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', Arial, Helvetica, sans-serif;'>&nbsp;&nbsp;&nbsp; mysql_close(&amp;my_connection);\/\/\u65ad\u5f00\u8fde\u63a5<\/span> \r\n <br style='background-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', Arial, Helvetica, sans-serif;'> \r\n <br style='background-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', Arial, Helvetica, sans-serif;'> \r\n <span style='background-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', Arial, Helvetica, sans-serif;'>}<\/span> \r\n <br style='background-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', Arial, Helvetica, sans-serif;'> \r\n <span style='background-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', Arial, Helvetica, sans-serif;'>\u4e0a\u9762\u8fd9\u4e2a\u4f8b\u5b50\u5c31\u662f\u4ece\u4e00\u4e2a\u8868\u4e2d\u67e5\u6570\u636e\uff0c\u7136\u540e\u8f93\u51fa\u3002 \u5982\u679c\u8981insert\u6216\u8005update\uff0c\u53ea\u9700\u8981\u4fee\u6539\u5177\u4f53\u7684sql\u65e2\u53ef\u3002\u5177\u4f53\u7684\u64cd\u4f5c\u90fd\u662f\u901a\u8fc7mysql_query\u8fd9\u4e2a\u51fd\u6570\u6765\u641e\u5b9a\u3002 \u73b0\u5728\u6765\u8bb2\u7f16\u8bd1\u7684\u65b9\u6cd5\u5427\uff0c\u8fd9\u91cc\u6211\u4eec\u9700\u8981.h\u4ee5\u53ca.so\u5e93\u3002\u6211\u4eec\u53ef\u4ee5\u5728 http:\/\/dev.mysql.com\/downloads\/connector\/c\/6.0.html \u4e0b\u8f7dConnector\/C\u3002\u7b80\u5355\u7684\u65b9\u6cd5\u5c31\u662f\uff1a \u628a\u91cc\u9762include\u7684\u4e1c\u897f\u62f7\u8d1d\u5230\/usr\/include\/mysql\/\u4e0b\u9762\u53bb\uff0c\u8fd9\u6837\u7f16\u8bd1\u7684\u65f6\u5019\u5c31\u4e0d\u9700\u8981\u52a0-I\u4e86\uff0c\u7136\u540e\u628alib\u4e0b\u9762\u7684\u4e1c\u897f\u62f7\u8d1d\u7684\/usr\/lib\/\u4e0b\u53bb\u3002<\/span> \r\n <br style='background-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', Arial, Helvetica, sans-serif;'> \r\n <br style='background-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', Arial, Helvetica, sans-serif;'> \r\n <span style='background-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Microsoft Yahei', Arial, Helvetica, sans-serif;'>gcc\u5177\u4f53\u7684\u7f16\u8bd1\u65b9\u6cd5\uff1agcc ***.c -o *** -lmysqlclient<\/span> \r\n<\/div>\r\n ","excerpt":"\u00a01\u3001\u9996\u5148\u5f53\u7136\u662f\u8fde\u63a5\u6570\u636e\u5e93\uff0c\u51fd\u6570\u539f\u578b\u5982\u4e0b\uff1aMYSQL*STDCALLmysql_real_connect(MYSQL*mysql,constchar*host,constchar*user,constchar*passwd,constchar*db,unsignedint","author":"1","sortid":"19","type":"blog","views":"60","comnum":"0","tbcount":"0","attnum":"0","top":"n","hide":"n","allow_remark":"y","allow_tb":"y","password":"","thumb":"0","alias":""}