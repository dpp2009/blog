{"gid":"256","title":"PHP\u6e90\u7801\u5206\u6790-\u53d8\u91cf\u7684\u5b58\u50a8\u65b9\u5f0f","date":"1426719600","content":"\r\n <div> \r\n <strong style='background-color: rgb(255, 255, 255); font-family: Arial;'>PHP\u4e2d\u7684\u53d8\u91cf\u7c7b\u578b\u548c\u503c\u662f\u901a\u8fc7C\u8bed\u8a00\u5b9e\u73b0\u7684\uff0c\u5185\u6838\u5177\u4f53\u662f\u5982\u4f55\u7ec4\u7ec7\u7528\u6237\u5728PHP\u4e2d\u5b9a\u4e49\u7684\u53d8\u91cf\u5462\uff1f<\/strong> \r\n <br style='background-color: rgb(255, 255, 255); font-family: Arial;'> \r\n <span style='background-color: rgb(255, 255, 255); font-family: Arial;'>HashTable\u5728ZE\u5185\u6838\u4e2d\u88ab\u5e7f\u6cdb\u4f7f\u7528\uff0cPHP\u53d8\u91cf\u4e5f\u6b63\u662f\u5b58\u50a8\u5728\u4e00\u4e2aHashTable\u5b9e\u73b0\u7684\u7b26\u53f7\u8868\u91cc\u3002<\/span> \r\n <br style='background-color: rgb(255, 255, 255); font-family: Arial;'> \r\n <p style='background-color: rgb(255, 255, 255); font-family: Arial;'>\u5f53\u5728PHP\u4e2d\u8c03\u7528\u4e00\u4e2a\u51fd\u6570\u6216\u8005\u7c7b\u65f6\uff0c\u5185\u6838\u4f1a\u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u7b26\u53f7\u8868\uff0c\u8fd9\u4e5f\u662f\u4e3a\u4ec0\u4e48\u5728\u51fd\u6570\u4e2d\u65e0\u6cd5\u4f7f\u7528\u51fd\u6570\u5916\u90e8\u5b9a\u4e49\u7684\u53d8\u91cf\u7684\u539f\u56e0\u3002\uff08\u56e0\u4e3a\u4ed6\u4eec\u5206\u5c5e\u4e24\u4e2a\u7b26\u53f7\u8868\uff0c\u4e00\u4e2a\u5f53\u524d\u4f5c\u7528\u57df\uff0c\u4e00\u4e2a\u5168\u5c40\u4f5c\u7528\u57df\uff09<\/p> \r\n <p style='background-color: rgb(255, 255, 255); font-family: Arial;'><br><\/p> \r\n <p style='background-color: rgb(255, 255, 255); font-family: Arial;'>\u73b0\u5728\u6765\u770b\u5185\u6838\u4e2d\u662f\u5982\u4f55\u5b9a\u4e49\u4f5c\u7528\u57df\u7684\uff1a<br><\/p> \r\n <div style='background-color: rgb(231, 229, 220); font-family: Consolas, 'Courier New', Courier, mono, serif; font-size: 12px;'> \r\n  <div style='background-color: rgb(248, 248, 248); color: silver; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 9px;'> \r\n   <b>[cpp]<\/b>&nbsp; \r\n   <a title='view plain' href='http:\/\/blog.csdn.net\/a600423444\/article\/details\/7057840#' style='color: rgb(160, 160, 160);'>view plain<\/a> \r\n   <a title='copy' href='http:\/\/blog.csdn.net\/a600423444\/article\/details\/7057840#' style='color: rgb(160, 160, 160);'>copy<\/a> \r\n  <\/div> \r\n  <ol start='1' style='background-color:rgb(255, 255, 255);color:rgb(92, 92, 92);'> \r\n   <li style='background-color:rgb(255, 255, 255);color:inherit;'><span style='color: black;'><span style='color: rgb(0, 102, 153); font-weight: bold;'>struct<\/span>&nbsp;_zend_executor_globals&nbsp;{&nbsp;&nbsp;<\/span><\/li> \r\n   <li style='background-color: rgb(248, 248, 248);'><span style='color: black;'>&nbsp;&nbsp;&nbsp;&nbsp;<span style='color: rgb(0, 130, 0);'>\/\/\u7565<\/span>&nbsp;&nbsp;<\/span><\/li> \r\n   <li style='background-color:rgb(255, 255, 255);color:inherit;'><span style='color: black;'>&nbsp;&nbsp;&nbsp;&nbsp;HashTable&nbsp;symbol_table;<span style='color: rgb(0, 130, 0);'>\/\/\u5168\u5c40\u53d8\u91cf\u7684\u7b26\u53f7\u8868<\/span>&nbsp;&nbsp;<\/span><\/li> \r\n   <li style='background-color: rgb(248, 248, 248);'><span style='color: black;'>&nbsp;&nbsp;&nbsp;&nbsp;HashTable&nbsp;*active_symbol_table;<span style='color: rgb(0, 130, 0);'>\/\/\u5c40\u90e8\u53d8\u91cf\u7684\u7b26\u53f7\u8868<\/span>&nbsp;&nbsp;<\/span><\/li> \r\n   <li style='background-color:rgb(255, 255, 255);color:inherit;'><span style='color: black;'>&nbsp;&nbsp;&nbsp;&nbsp;<span style='color: rgb(0, 130, 0);'>\/\/\u7565<\/span>&nbsp;&nbsp;<\/span><\/li> \r\n   <li style='background-color: rgb(248, 248, 248);'><span style='color: black;'>};&nbsp;&nbsp;<\/span><\/li> \r\n  <\/ol> \r\n <\/div> \r\n <br style='background-color: rgb(255, 255, 255); font-family: Arial;'> \r\n <span style='background-color: rgb(255, 255, 255); font-family: Arial;'>\u53ef\u4ee5\u901a\u8fc7EG\u5b8f\u6765\u8bbf\u95ee\u53d8\u91cf\u7b26\u53f7\u8868,EG(symbol_table)\u8bbf\u95ee\u5168\u5c40\u4f5c\u7528\u57df\u7684\u53d8\u91cf\u7b26\u53f7\u8868\uff0cEG(active_symbol_table)\u8bbf\u95ee\u5f53\u524d\u4f5c\u7528\u57df\u7684\u53d8\u91cf\u7b26\u53f7\u8868\u3002<\/span> \r\n <br style='background-color: rgb(255, 255, 255); font-family: Arial;'> \r\n <p style='background-color: rgb(255, 255, 255); font-family: Arial;'><br><\/p> \r\n <div style='background-color: rgb(231, 229, 220); font-family: Consolas, 'Courier New', Courier, mono, serif; font-size: 12px;'> \r\n  <div style='background-color: rgb(248, 248, 248); color: silver; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 9px;'> \r\n   <b>[php]<\/b>&nbsp; \r\n   <a title='view plain' href='http:\/\/blog.csdn.net\/a600423444\/article\/details\/7057840#' style='color: rgb(160, 160, 160);'>view plain<\/a> \r\n   <a title='copy' href='http:\/\/blog.csdn.net\/a600423444\/article\/details\/7057840#' style='color: rgb(160, 160, 160);'>copy<\/a> \r\n  <\/div> \r\n  <ol start='1' style='background-color:rgb(255, 255, 255);color:rgb(92, 92, 92);'> \r\n   <li style='background-color:rgb(255, 255, 255);color:inherit;'><span style='color: black;'>&lt;?php&nbsp;&nbsp;<\/span><\/li> \r\n   <li style='background-color: rgb(248, 248, 248);'><span style='color: black;'><span style='color: rgb(221, 0, 0);'>$foo<\/span>=<span style='color: blue;'>'bar'<\/span>;&nbsp;&nbsp;<\/span><\/li> \r\n   <li style='background-color:rgb(255, 255, 255);color:inherit;'><span style='color: black;'>?&gt;&nbsp;&nbsp;<\/span><\/li> \r\n  <\/ol> \r\n <\/div> \r\n <br style='background-color: rgb(255, 255, 255); font-family: Arial;'> \r\n <span style='background-color: rgb(255, 255, 255); font-family: Arial;'>\u4e0a\u9762\u8fd9\u6bb5\u4ee3\u7801\u5f88\u7b80\u5355\uff0c\u521b\u5efa\u53d8\u91cffoo\uff0c\u5e76\u8d4b\u503cbar\u3002\u4e4b\u540e\u7684PHP\u4ee3\u7801\u4e2d\u5c31\u53ef\u4ee5\u8c03\u7528$foo\u53d8\u91cf\u4e86\u3002<\/span> \r\n <br style='background-color: rgb(255, 255, 255); font-family: Arial;'> \r\n <span style='background-color: rgb(255, 255, 255); font-family: Arial;'>\u73b0\u5728\u770b\u770bPHP\u4e2d\u5b9a\u4e49\u7684\u53d8\u91cf\uff0c\u5185\u6838\u4e2d\u662f\u5982\u4f55\u5b9e\u73b0\u7684\u3002\u4f2a\u4ee3\u7801\uff1a<\/span> \r\n <br style='background-color: rgb(255, 255, 255); font-family: Arial;'> \r\n <div style='background-color: rgb(231, 229, 220); font-family: Consolas, 'Courier New', Courier, mono, serif; font-size: 12px;'> \r\n  <div style='background-color: rgb(248, 248, 248); color: silver; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 9px;'> \r\n   <b>[cpp]<\/b>&nbsp; \r\n   <a title='view plain' href='http:\/\/blog.csdn.net\/a600423444\/article\/details\/7057840#' style='color: rgb(160, 160, 160);'>view plain<\/a> \r\n   <a title='copy' href='http:\/\/blog.csdn.net\/a600423444\/article\/details\/7057840#' style='color: rgb(160, 160, 160);'>copy<\/a> \r\n  <\/div> \r\n  <ol start='1' style='background-color:rgb(255, 255, 255);color:rgb(92, 92, 92);'> \r\n   <li style='background-color:rgb(255, 255, 255);color:inherit;'><span style='color: black;'>zval*&nbsp;foo;&nbsp;&nbsp;<\/span><\/li> \r\n   <li style='background-color: rgb(248, 248, 248);'><span style='color: black;'>MAKE_STD_ZVAL(foo);&nbsp;&nbsp;<\/span><\/li> \r\n   <li style='background-color:rgb(255, 255, 255);color:inherit;'><span style='color: black;'>ZVAL_STRING(foo,&nbsp;<span style='color: blue;'>'bar'<\/span>,&nbsp;1);&nbsp;&nbsp;<\/span><\/li> \r\n   <li style='background-color: rgb(248, 248, 248);'><span style='color: black;'>ZEND_SET_SYMBOL(&nbsp;EG(active_symbol_table),&nbsp;<span style='color: blue;'>'foo'<\/span>,&nbsp;foo);&nbsp;&nbsp;<\/span><\/li> \r\n  <\/ol> \r\n <\/div> \r\n <br style='background-color: rgb(255, 255, 255); font-family: Arial;'> \r\n <span style='background-color: rgb(255, 255, 255); font-family: Arial;'>\u7b2c\u4e00\u6b65\u3001\u521b\u5efa\u4e00\u4e2azval\u7ed3\u6784\uff0c\u5e76\u8bbe\u7f6e\u7c7b\u578b\u3002<\/span> \r\n <br style='background-color: rgb(255, 255, 255); font-family: Arial;'> \r\n <span style='background-color: rgb(255, 255, 255); font-family: Arial;'>\u7b2c\u4e8c\u6b65\u3001\u8d4b\u503c\u4e3abar\u3002<\/span> \r\n <br style='background-color: rgb(255, 255, 255); font-family: Arial;'> \r\n <span style='background-color: rgb(255, 255, 255); font-family: Arial;'>\u7b2c\u4e09\u6b65\u3001\u5c06\u5176\u52a0\u5165\u5f53\u524d\u4f5c\u7528\u57df\u7b26\u53f7\u8868\uff0c\u53ea\u6709\u8fd9\u6837\u7528\u6237\u624d\u80fd\u5728PHP\u91cc\u4f7f\u7528\u8fd9\u4e2a\u53d8\u91cf\u3002<\/span> \r\n <br style='background-color: rgb(255, 255, 255); font-family: Arial;'> \r\n <p style='background-color: rgb(255, 255, 255); font-family: Arial;'>\u901a\u8fc7\u7b80\u5355\u7684\u8fd9\u4e09\u6b65\uff0c\u5373\u53ef\u5b9e\u73b0\u5b9a\u4e49PHP\u53d8\u91cf\u3002\u7b80\u5355\u7684\u539f\u56e0\uff0c\u5728\u4e8e\u5185\u6838\u4e3a\u6211\u4eec\u63d0\u4f9b\u4e86\u5f3a\u5927\u7684\u5b8f\u3002\u73b0\u5728\u6211\u4eec\u5c06\u5b8f\u5206\u522b\u5c55\u5f00\u3002<br><\/p> \r\n <p style='background-color: rgb(255, 255, 255); font-family: Arial;'>MAKE_STD_ZVAL\u5e94\u7528\u5230\u7684\u5b8f\u6709\uff1a<br><\/p> \r\n <div style='background-color: rgb(231, 229, 220); font-family: Consolas, 'Courier New', Courier, mono, serif; font-size: 12px;'> \r\n  <div style='background-color: rgb(248, 248, 248); color: silver; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 9px;'> \r\n   <b>[cpp]<\/b>&nbsp; \r\n   <a title='view plain' href='http:\/\/blog.csdn.net\/a600423444\/article\/details\/7057840#' style='color: rgb(160, 160, 160);'>view plain<\/a> \r\n   <a title='copy' href='http:\/\/blog.csdn.net\/a600423444\/article\/details\/7057840#' style='color: rgb(160, 160, 160);'>copy<\/a> \r\n  <\/div> \r\n  <ol start='1' style='background-color:rgb(255, 255, 255);color:rgb(92, 92, 92);'> \r\n   <li style='background-color:rgb(255, 255, 255);color:inherit;'><span style='color: black;'><span style='color: gray;'>#define&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;MAKE_STD_ZVAL(zv)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ALLOC_ZVAL(zv);INIT_PZVAL(zv)<\/span>&nbsp;&nbsp;<\/span><\/li> \r\n   <li style='background-color: rgb(248, 248, 248);'><span style='color: black;'><span style='color: gray;'>#define&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ALLOC_ZVAL(z)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ZEND_FAST_ALLOC(z,&nbsp;zval,&nbsp;ZVAL_CACHE_LIST)<\/span>&nbsp;&nbsp;<\/span><\/li> \r\n   <li style='background-color:rgb(255, 255, 255);color:inherit;'><span style='color: black;'><span style='color: gray;'>#define&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ZEND_FAST_ALLOC(p,&nbsp;type,&nbsp;fc_type)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(p)&nbsp;=&nbsp;(type&nbsp;*)&nbsp;emalloc(sizeof(type))<\/span>&nbsp;&nbsp;<\/span><\/li> \r\n   <li style='background-color: rgb(248, 248, 248);'><span style='color: black;'><span style='color: gray;'>#define&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;INIT_PZVAL(z)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(z)-&gt;refcount__gc&nbsp;=&nbsp;1;(z)-&gt;is_ref__gc&nbsp;=&nbsp;0;<\/span>&nbsp;&nbsp;<\/span><\/li> \r\n  <\/ol> \r\n <\/div> \r\n <span style='background-color: rgb(255, 255, 255); font-family: Arial;'>MAKE_STD_ZVAL(foo)\u5c55\u5f00\u540e\u5f97\u5230\uff1a<\/span> \r\n <br style='background-color: rgb(255, 255, 255); font-family: Arial;'> \r\n <div style='background-color: rgb(231, 229, 220); font-family: Consolas, 'Courier New', Courier, mono, serif; font-size: 12px;'> \r\n  <div style='background-color: rgb(248, 248, 248); color: silver; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 9px;'> \r\n   <b>[cpp]<\/b>&nbsp; \r\n   <a title='view plain' href='http:\/\/blog.csdn.net\/a600423444\/article\/details\/7057840#' style='color: rgb(160, 160, 160);'>view plain<\/a> \r\n   <a title='copy' href='http:\/\/blog.csdn.net\/a600423444\/article\/details\/7057840#' style='color: rgb(160, 160, 160);'>copy<\/a> \r\n  <\/div> \r\n  <ol start='1' style='background-color:rgb(255, 255, 255);color:rgb(92, 92, 92);'> \r\n   <li style='background-color:rgb(255, 255, 255);color:inherit;'><span style='color: black;'>(foo)&nbsp;=&nbsp;(zval&nbsp;*)&nbsp;emalloc(<span style='color: rgb(0, 102, 153); font-weight: bold;'>sizeof<\/span>(zval));&nbsp;&nbsp;<\/span><\/li> \r\n   <li style='background-color: rgb(248, 248, 248);'><span style='color: black;'>(foo)-&gt;refcount__gc&nbsp;=&nbsp;1;&nbsp;&nbsp;<\/span><\/li> \r\n   <li style='background-color:rgb(255, 255, 255);color:inherit;'><span style='color: black;'>(foo)-&gt;is_ref__gc&nbsp;=&nbsp;0;&nbsp;&nbsp;<\/span><\/li> \r\n  <\/ol> \r\n <\/div> \r\n <span style='background-color: rgb(255, 255, 255); font-family: Arial;'>\u53ef\u4ee5\u770b\u51fa\uff0cMAKE_STD_ZVAL\u505a\u4e86\u4e09\u4ef6\u4e8b\uff1a\u5206\u914d\u5185\u5b58\u3001\u521d\u59cb\u5316zval\u7ed3\u6784\u4e2d\u7684refcount\u3001is_ref\u3002<\/span> \r\n <br style='background-color: rgb(255, 255, 255); font-family: Arial;'> \r\n <br style='background-color: rgb(255, 255, 255); font-family: Arial;'> \r\n <p style='background-color: rgb(255, 255, 255); font-family: Arial;'>ZVAL_STRING\u5e94\u7528\u5230\u7684\u5b8f\u6709\uff1a<br><\/p> \r\n <div style='background-color: rgb(231, 229, 220); font-family: Consolas, 'Courier New', Courier, mono, serif; font-size: 12px;'> \r\n  <div style='background-color: rgb(248, 248, 248); color: silver; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 9px;'> \r\n   <b>[cpp]<\/b>&nbsp; \r\n   <a title='view plain' href='http:\/\/blog.csdn.net\/a600423444\/article\/details\/7057840#' style='color: rgb(160, 160, 160);'>view plain<\/a> \r\n   <a title='copy' href='http:\/\/blog.csdn.net\/a600423444\/article\/details\/7057840#' style='color: rgb(160, 160, 160);'>copy<\/a> \r\n  <\/div> \r\n  <ol start='1' style='background-color:rgb(255, 255, 255);color:rgb(92, 92, 92);'> \r\n   <li style='background-color:rgb(255, 255, 255);color:inherit;'><span style='color: black;'><span style='color: gray;'>#define&nbsp;ZVAL_STRING(z,&nbsp;s,&nbsp;duplicate)&nbsp;{&nbsp;&nbsp;\\<\/span>&nbsp;&nbsp;<\/span><\/li> \r\n   <li style='background-color: rgb(248, 248, 248);'><span style='color: black;'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style='color: rgb(0, 102, 153); font-weight: bold;'>const<\/span>&nbsp;<span style='color: rgb(46, 139, 87); font-weight: bold;'>char<\/span>&nbsp;*__s=(s);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\\&nbsp;&nbsp;<\/span><\/li> \r\n   <li style='background-color:rgb(255, 255, 255);color:inherit;'><span style='color: black;'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Z_STRLEN_P(z)&nbsp;=&nbsp;strlen(__s);&nbsp;&nbsp;&nbsp;&nbsp;\\&nbsp;&nbsp;<\/span><\/li> \r\n   <li style='background-color: rgb(248, 248, 248);'><span style='color: black;'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Z_STRVAL_P(z)&nbsp;=&nbsp;(duplicate?estrndup(__s,&nbsp;Z_STRLEN_P(z)):(<span style='color: rgb(46, 139, 87); font-weight: bold;'>char<\/span>*)__s);\\&nbsp;&nbsp;<\/span><\/li> \r\n   <li style='background-color:rgb(255, 255, 255);color:inherit;'><span style='color: black;'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Z_TYPE_P(z)&nbsp;=&nbsp;IS_STRING;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\\&nbsp;&nbsp;<\/span><\/li> \r\n   <li style='background-color: rgb(248, 248, 248);'><span style='color: black;'>&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;<\/span><\/li> \r\n   <li style='background-color:rgb(255, 255, 255);color:inherit;'><span style='color: black;'><span style='color: gray;'>#define&nbsp;Z_STRLEN_P(zval_p)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Z_STRLEN(*zval_p)<\/span>&nbsp;&nbsp;<\/span><\/li> \r\n   <li style='background-color: rgb(248, 248, 248);'><span style='color: black;'><span style='color: gray;'>#define&nbsp;Z_STRLEN(zval)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(zval).value.str.len<\/span>&nbsp;&nbsp;<\/span><\/li> \r\n   <li style='background-color:rgb(255, 255, 255);color:inherit;'><span style='color: black;'><span style='color: gray;'>#define&nbsp;Z_STRVAL_P(zval_p)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Z_STRVAL(*zval_p)<\/span>&nbsp;&nbsp;<\/span><\/li> \r\n   <li style='background-color: rgb(248, 248, 248);'><span style='color: black;'><span style='color: gray;'>#define&nbsp;Z_STRVAL(zval)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(zval).value.str.val<\/span>&nbsp;&nbsp;<\/span><\/li> \r\n   <li style='background-color:rgb(255, 255, 255);color:inherit;'><span style='color: black;'><span style='color: gray;'>#define&nbsp;Z_TYPE_P(zval_p)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Z_TYPE(*zval_p)<\/span>&nbsp;&nbsp;<\/span><\/li> \r\n   <li style='background-color: rgb(248, 248, 248);'><span style='color: black;'><span style='color: gray;'>#define&nbsp;Z_TYPE(zval)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(zval).type<\/span>&nbsp;&nbsp;<\/span><\/li> \r\n   <li style='background-color:rgb(255, 255, 255);color:inherit;'><span style='color: black;'><span style='color: gray;'>#define&nbsp;IS_STRING&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;6<\/span>&nbsp;&nbsp;<\/span><\/li> \r\n  <\/ol> \r\n <\/div> \r\n <span style='background-color: rgb(255, 255, 255); font-family: Arial;'>\u5c55\u5f00\u540e\u5f97\u5230\uff1a<\/span> \r\n <div style='background-color: rgb(231, 229, 220); font-family: Consolas, 'Courier New', Courier, mono, serif; font-size: 12px;'> \r\n  <div style='background-color: rgb(248, 248, 248); color: silver; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 9px;'> \r\n   <b>[cpp]<\/b>&nbsp; \r\n   <a title='view plain' href='http:\/\/blog.csdn.net\/a600423444\/article\/details\/7057840#' style='color: rgb(160, 160, 160);'>view plain<\/a> \r\n   <a title='copy' href='http:\/\/blog.csdn.net\/a600423444\/article\/details\/7057840#' style='color: rgb(160, 160, 160);'>copy<\/a> \r\n  <\/div> \r\n  <ol start='1' style='background-color:rgb(255, 255, 255);color:rgb(92, 92, 92);'> \r\n   <li style='background-color:rgb(255, 255, 255);color:inherit;'><span style='color: black;'><span style='color: rgb(0, 102, 153); font-weight: bold;'>const<\/span>&nbsp;<span style='color: rgb(46, 139, 87); font-weight: bold;'>char<\/span>&nbsp;*__s=(<span style='color: blue;'>'foo'<\/span>);&nbsp;&nbsp;<\/span><\/li> \r\n   <li style='background-color: rgb(248, 248, 248);'><span style='color: black;'>(foo).value.str.len=strlen(__s);&nbsp;&nbsp;<\/span><\/li> \r\n   <li style='background-color:rgb(255, 255, 255);color:inherit;'><span style='color: black;'>(foo).value.str.val=(duplicate?estrndup(__s,&nbsp;(zval).value.str.len):(<span style='color: rgb(46, 139, 87); font-weight: bold;'>char<\/span>*)__s);&nbsp;&nbsp;<\/span><\/li> \r\n   <li style='background-color: rgb(248, 248, 248);'><span style='color: black;'>(foo).type=6;&nbsp;&nbsp;<\/span><\/li> \r\n  <\/ol> \r\n <\/div> \r\n <span style='background-color: rgb(255, 255, 255); font-family: Arial;'>ZVAL_STRING\u505a\u7684\u5de5\u4f5c\u662f\u8bbe\u7f6e\u6570\u636e\u7c7b\u578b\u5e76\u8d4b\u503c\u3002<\/span> \r\n <br style='background-color: rgb(255, 255, 255); font-family: Arial;'> \r\n <br style='background-color: rgb(255, 255, 255); font-family: Arial;'> \r\n <br style='background-color: rgb(255, 255, 255); font-family: Arial;'> \r\n <span style='background-color: rgb(255, 255, 255); font-family: Arial;'>ZEND_SET_SYMBOL\u8fd9\u91cc\u53ea\u5c55\u5f00\u4e00\u90e8\u5206\u5b8f\uff0c\u56e0\u4e3a\u5b83\u5c55\u5f00\u540e\u8fc7\u4e8e\u590d\u6742\u3002<\/span> \r\n <div style='background-color: rgb(231, 229, 220); font-family: Consolas, 'Courier New', Courier, mono, serif; font-size: 12px;'> \r\n  <div style='background-color: rgb(248, 248, 248); color: silver; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 9px;'> \r\n   <b>[cpp]<\/b>&nbsp; \r\n   <a title='view plain' href='http:\/\/blog.csdn.net\/a600423444\/article\/details\/7057840#' style='color: rgb(160, 160, 160);'>view plain<\/a> \r\n   <a title='copy' href='http:\/\/blog.csdn.net\/a600423444\/article\/details\/7057840#' style='color: rgb(160, 160, 160);'>copy<\/a> \r\n  <\/div> \r\n  <ol start='1' style='background-color:rgb(255, 255, 255);color:rgb(92, 92, 92);'> \r\n   <li style='background-color:rgb(255, 255, 255);color:inherit;'><span style='color: black;'><span style='color: gray;'>#&nbsp;define&nbsp;EG(v)&nbsp;(executor_globals.v)<\/span>&nbsp;&nbsp;<\/span><\/li> \r\n  <\/ol> \r\n <\/div> \r\n <span style='background-color: rgb(255, 255, 255); font-family: Arial;'>\u5c55\u5f00\u90e8\u5206\u540e\u5f97\u5230\uff1a<\/span> \r\n <br style='background-color: rgb(255, 255, 255); font-family: Arial;'> \r\n <div style='background-color: rgb(231, 229, 220); font-family: Consolas, 'Courier New', Courier, mono, serif; font-size: 12px;'> \r\n  <div style='background-color: rgb(248, 248, 248); color: silver; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 9px;'> \r\n   <b>[cpp]<\/b>&nbsp; \r\n   <a title='view plain' href='http:\/\/blog.csdn.net\/a600423444\/article\/details\/7057840#' style='color: rgb(160, 160, 160);'>view plain<\/a> \r\n   <a title='copy' href='http:\/\/blog.csdn.net\/a600423444\/article\/details\/7057840#' style='color: rgb(160, 160, 160);'>copy<\/a> \r\n  <\/div> \r\n  <ol start='1' style='background-color:rgb(255, 255, 255);color:rgb(92, 92, 92);'> \r\n   <li style='background-color:rgb(255, 255, 255);color:inherit;'><span style='color: black;'>ZEND_SET_SYMBOL(executor_globals.active_symbol_table,&nbsp;<span style='color: blue;'>'foo'<\/span>,&nbsp;foo);&nbsp;&nbsp;<\/span><\/li> \r\n  <\/ol> \r\n <\/div> \r\n <span style='background-color: rgb(255, 255, 255); font-family: Arial;'>\u5c06\u53d8\u91cf\u540d\u5165\u5f53\u524d\u4f5c\u7528\u57df\u7b26\u53f7\u8868\u3002<\/span> \r\n <p style='background-color: rgb(255, 255, 255); font-family: Arial;'><br><\/p> \r\n <p style='background-color: rgb(255, 255, 255); font-family: Arial;'><strong>\u6ce8\uff1a\u4e4b\u6240\u4ee5\u4f7f\u7528\u5185\u6838\u63d0\u4f9b\u7684\u5b8f\u6765\u5206\u914d\u5185\u5b58\u3001\u6ce8\u518c\u53d8\u91cf\u4f5c\u7528\u57df\uff0c\u662f\u56e0\u4e3a\u8fd9\u6837\u80fd\u63d0\u9ad8\u517c\u5bb9\u6027\u3002<\/strong><\/p> \r\n<\/div>\r\n ","excerpt":"\u00a0PHP\u4e2d\u7684\u53d8\u91cf\u7c7b\u578b\u548c\u503c\u662f\u901a\u8fc7C\u8bed\u8a00\u5b9e\u73b0\u7684\uff0c\u5185\u6838\u5177\u4f53\u662f\u5982\u4f55\u7ec4\u7ec7\u7528\u6237\u5728PHP\u4e2d\u5b9a\u4e49\u7684\u53d8\u91cf\u5462\uff1fHashTable\u5728ZE\u5185\u6838\u4e2d\u88ab\u5e7f\u6cdb\u4f7f\u7528\uff0cPHP\u53d8\u91cf\u4e5f\u6b63\u662f\u5b58\u50a8\u5728\u4e00\u4e2aHashTable\u5b9e\u73b0\u7684\u7b26\u53f7\u8868\u91cc\u3002\u5f53\u5728PHP\u4e2d\u8c03\u7528\u4e00\u4e2a\u51fd\u6570\u6216\u8005\u7c7b\u65f6\uff0c\u5185\u6838\u4f1a\u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u7b26\u53f7\u8868\uff0c\u8fd9\u4e5f\u662f\u4e3a\u4ec0\u4e48\u5728\u51fd\u6570\u4e2d\u65e0\u6cd5\u4f7f\u7528\u51fd\u6570\u5916\u90e8\u5b9a\u4e49\u7684\u53d8\u91cf\u7684\u539f","author":"1","sortid":"19","type":"blog","views":"72","comnum":"0","tbcount":"0","attnum":"0","top":"n","hide":"n","allow_remark":"y","allow_tb":"y","password":"","thumb":"0","alias":""}