{"gid":"461","title":"MYSQL\u81ea\u5b9a\u4e49\u6392\u5e8f","date":"1414623600","content":"\r\n <div>\r\n  \u4e0b\u9762\u662f\u672c\u4eba\u5173\u4e8emysql \u81ea\u5b9a\u4e49\u6392\u5e8f\uff08field\uff0cINSTR\uff0clocate\uff09\u7684\u4e00\u70b9\u5fc3\u5f97\uff0c\u5e0c\u671b\u5bf9\u5927\u5bb6\u6709\u6240\u5e2e\u52a9 \r\n<\/div> \r\n<div>\r\n  \u9996\u5148\u8bf4\u660e\u8fd9\u91cc\u6709\u4e09\u4e2a\u51fd\u6570\uff08order by field\uff0cORDER BY INSTR\uff0cORDER BY locate\uff09 \r\n<\/div> \r\n<div>\r\n  \u539f\u8868\uff1a \r\n<\/div> \r\n<div>\r\n  &nbsp; id user pass \r\n<\/div> \r\n<div>\r\n  aaa aaa \r\n<\/div> \r\n<div>\r\n  bbb bbb \r\n<\/div> \r\n<div>\r\n  ccc ccc \r\n<\/div> \r\n<div>\r\n  ddd ddd \r\n<\/div> \r\n<div>\r\n  eee eee \r\n<\/div> \r\n<div>\r\n  fff fff \r\n<\/div> \r\n<div>\r\n  \u4e0b\u9762\u662f\u6211\u6267\u884c\u540e\u7684\u7ed3\u679c\uff1a \r\n<\/div> \r\n<div>\r\n  SELECT * FROM `user` order by field(2,3,5,4,id) asc \r\n<\/div> \r\n<div>\r\n  &nbsp; id user pass \r\n<\/div> \r\n<div>\r\n  aaa aaa \r\n<\/div> \r\n<div>\r\n  ccc ccc \r\n<\/div> \r\n<div>\r\n  ddd ddd \r\n<\/div> \r\n<div>\r\n  eee eee \r\n<\/div> \r\n<div>\r\n  fff fff \r\n<\/div> \r\n<div>\r\n  bbb bbb \r\n<\/div> \r\n<div>\r\n  \u6839\u636e\u7ed3\u679c\u5206\u6790\uff1aorder by field(2,3,5,4,1,6) \u7ed3\u679c\u663e\u793a\u987a\u5e8f\u4e3a\uff1a1 3 4 5 6 2 \r\n<\/div> \r\n<div>\r\n  SELECT * FROM `user` order by field(2,3,5,4,id) desc \r\n<\/div> \r\n<div>\r\n  &nbsp; id user pass \r\n<\/div> \r\n<div>\r\n  bbb bbb \r\n<\/div> \r\n<div>\r\n  aaa aaa \r\n<\/div> \r\n<div>\r\n  ccc ccc \r\n<\/div> \r\n<div>\r\n  ddd ddd \r\n<\/div> \r\n<div>\r\n  eee eee \r\n<\/div> \r\n<div>\r\n  fff fff \r\n<\/div> \r\n<div>\r\n  \u6839\u636e\u7ed3\u679c\u5206\u6790\uff1aorder by field(2,3,5,4,1,6) \u7ed3\u679c\u663e\u793a\u987a\u5e8f\u4e3a\uff1a2 1 3 4 5 6 \r\n<\/div> \r\n<div> \r\n <br> \r\n<\/div> \r\n<div>\r\n  SELECT * FROM `user` ORDER BY INSTR( '2,3,5,4', id ) ASC \r\n<\/div> \r\n<div>\r\n  &nbsp; id user pass \r\n<\/div> \r\n<div>\r\n  aaa aaa \r\n<\/div> \r\n<div>\r\n  fff fff \r\n<\/div> \r\n<div>\r\n  bbb bbb \r\n<\/div> \r\n<div>\r\n  ccc ccc \r\n<\/div> \r\n<div>\r\n  eee eee \r\n<\/div> \r\n<div>\r\n  ddd ddd \r\n<\/div> \r\n<div>\r\n  \u6839\u636e\u7ed3\u679c\u5206\u6790\uff1aorder by INSTR(2,3,5,4,1,6) \u7ed3\u679c\u663e\u793a\u987a\u5e8f\u4e3a\uff1a1 6 2 3 5 4 \r\n<\/div> \r\n<div>\r\n  SELECT * FROM `user` ORDER BY INSTR( '2,3,5,4', id ) DESC \r\n<\/div> \r\n<div>\r\n  &nbsp; id user pass \r\n<\/div> \r\n<div>\r\n  ddd ddd \r\n<\/div> \r\n<div>\r\n  eee eee \r\n<\/div> \r\n<div>\r\n  ccc ccc \r\n<\/div> \r\n<div>\r\n  bbb bbb \r\n<\/div> \r\n<div>\r\n  aaa aaa \r\n<\/div> \r\n<div>\r\n  fff fff \r\n<\/div> \r\n<div>\r\n  \u6839\u636e\u7ed3\u679c\u5206\u6790\uff1aorder by INSTR(2,3,5,4,1,6) \u7ed3\u679c\u663e\u793a\u987a\u5e8f\u4e3a\uff1a4 5 3 2 1 6 \r\n<\/div> \r\n<div>\r\n  SELECT * FROM `user` ORDER BY locate( id, '2,3,5,4' ) ASC \r\n<\/div> \r\n<div>\r\n  &nbsp; id user pass \r\n<\/div> \r\n<div>\r\n  aaa aaa \r\n<\/div> \r\n<div>\r\n  fff fff \r\n<\/div> \r\n<div>\r\n  bbb bbb \r\n<\/div> \r\n<div>\r\n  ccc ccc \r\n<\/div> \r\n<div>\r\n  eee eee \r\n<\/div> \r\n<div>\r\n  ddd ddd \r\n<\/div> \r\n<div>\r\n  \u6839\u636e\u7ed3\u679c\u5206\u6790\uff1aorder by locate(2,3,5,4,1,6) \u7ed3\u679c\u663e\u793a\u987a\u5e8f\u4e3a\uff1a1 6 2 3 5 4 \r\n<\/div> \r\n<div>\r\n  SELECT * FROM `user` ORDER BY locate( id, '2,3,5,4' ) DESC \r\n<\/div> \r\n<div>\r\n  &nbsp; id user pass \r\n<\/div> \r\n<div>\r\n  ddd ddd \r\n<\/div> \r\n<div>\r\n  eee eee \r\n<\/div> \r\n<div>\r\n  ccc ccc \r\n<\/div> \r\n<div>\r\n  bbb bbb \r\n<\/div> \r\n<div>\r\n  aaa aaa \r\n<\/div> \r\n<div>\r\n  fff fff \r\n<\/div> \r\n<div>\r\n  \u6839\u636e\u7ed3\u679c\u5206\u6790\uff1aorder by locate(2,3,5,4,1,6) \u7ed3\u679c\u663e\u793a\u987a\u5e8f\u4e3a\uff1a4 5 3 2 1 6 \r\n<\/div> \r\n<div>\r\n  \u5982\u6211\u60f3\u8981\u67e5\u627e\u7684\u6570\u636e\u5e93\u4e2d\u7684ID\u987a\u5e8f\u9996\u5148\u662f\uff082,3,5,4\uff09\u7136\u540e\u5728\u662f\u5176\u5b83\u7684ID\u987a\u5e8f\uff0c\u4f60\u9996\u5148\u8981\u628a\u4ed6\u964d\u5e8f\u6392\u5373\uff084 5 3 2\uff09\uff0c\u7136\u540e\u5728 SELECT * FROM `user` ORDER BY INSTR( '4,5,3,2', id ) DESC limit 0,10 \u6216\u7528 SELECT * FROM `user` ORDER BY locate( id, '4,5,3,2' ) DESC \u5c31\u5f97\u5230\u4f60\u60f3\u8981\u7684\u7ed3\u679c\u4e86\u3002 \r\n<\/div> \r\n<div>\r\n  &nbsp; id user pass \r\n<\/div> \r\n<div>\r\n  bbb bbb \r\n<\/div> \r\n<div>\r\n  ccc ccc \r\n<\/div> \r\n<div>\r\n  eee eee \r\n<\/div> \r\n<div>\r\n  ddd ddd \r\n<\/div> \r\n<div>\r\n  aaa aaa \r\n<\/div> \r\n<div>\r\n  fff fff \r\n<\/div>\r\n ","excerpt":"\u00a0\u4e0b\u9762\u662f\u672c\u4eba\u5173\u4e8emysql\u81ea\u5b9a\u4e49\u6392\u5e8f\uff08field\uff0cINSTR\uff0clocate\uff09\u7684\u4e00\u70b9\u5fc3\u5f97\uff0c\u5e0c\u671b\u5bf9\u5927\u5bb6\u6709\u6240\u5e2e\u52a9\u9996\u5148\u8bf4\u660e\u8fd9\u91cc\u6709\u4e09\u4e2a\u51fd\u6570\uff08orderbyfield\uff0cORDERBYINSTR\uff0cORDERBYlocate\uff09\u539f\u8868\uff1aiduserpassaaaaaabbbbbbccccccd","author":"1","sortid":"19","type":"blog","views":"47","comnum":"0","tbcount":"0","attnum":"0","top":"n","hide":"n","allow_remark":"y","allow_tb":"y","password":"","thumb":"0","alias":""}