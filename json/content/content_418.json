{"gid":"418","title":"HTML5\u4e2d\u4f7f\u7528js\u63a7\u5236audio\u6807\u7b7e\u7684\u65b9\u6cd5","date":"1418079600","content":"\r\n <p>&lt;audio&gt;\u6807\u7b7e\u53ef\u4ee5\u5728HTML5\u6d4f\u89c8\u5668\u4e2d\u64ad\u653e\u97f3\u9891\u6587\u4ef6\u3002<\/p> \r\n<p>&lt;audio&gt;\u9ed8\u8ba4\u63d0\u4f9b\u4e00\u4e2a\u63a7\u5236\u9762\u677f\uff0c\u4f46\u662f\u6709\u4e9b\u65f6\u5019\u6211\u4eec\u53ea\u9700\u8981\u64ad\u653e\u58f0\u97f3\uff0c\u63a7\u5236\u9762\u677f\u7531\u6211\u4eec\u81ea\u5df1\u6765\u5b9a\u4e49\u5176\u663e\u793a\u7684\u72b6\u6001\u3002<\/p> \r\n<p>\u8fd9\u91cc\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528JS\u6765\u8fdb\u884c\u63a7\u5236\uff0c\u4ee3\u7801\u5982\u4e0b\uff1a<\/p> \r\n<p><br><\/p> \r\n<p>var audio ; <\/p> \r\n<p>window.onload = function(){ <\/p> \r\n<p>&nbsp;initAudio(); <\/p> \r\n<p>} <\/p> \r\n<p>var initAudio = function(){ <\/p> \r\n<p>&nbsp;\/\/audio = document.createElement('audio') <\/p> \r\n<p>&nbsp;\/\/audio.src='Never Say Good Bye.ogg' <\/p> \r\n<p>&nbsp;audio = document.getElementById('audio'); <\/p> \r\n<p>} <\/p> \r\n<p>function getCurrentTime(id){ <\/p> \r\n<p>&nbsp;alert(parseInt(audio.currentTime) + '\uff1a\u79d2'); <\/p> \r\n<p>} <\/p> \r\n<p> <\/p> \r\n<p>function playOrPaused(id,obj){ <\/p> \r\n<p>&nbsp;if(audio.paused){ <\/p> \r\n<p>&nbsp; audio.play(); <\/p> \r\n<p>&nbsp; obj.innerHTML='\u6682\u505c'; <\/p> \r\n<p>&nbsp; return; <\/p> \r\n<p>&nbsp;} <\/p> \r\n<p>&nbsp;audio.pause(); <\/p> \r\n<p>&nbsp;obj.innerHTML='\u64ad\u653e'; <\/p> \r\n<p>} <\/p> \r\n<p> <\/p> \r\n<p>function hideOrShowControls(id,obj){ <\/p> \r\n<p>&nbsp;if(audio.controls){ <\/p> \r\n<p>&nbsp; audio.removeAttribute('controls'); <\/p> \r\n<p>&nbsp; obj.innerHTML = '\u663e\u793a\u63a7\u5236\u6846' <\/p> \r\n<p>&nbsp; return; <\/p> \r\n<p>&nbsp;} <\/p> \r\n<p>&nbsp;audio.controls = 'controls'; <\/p> \r\n<p>&nbsp;obj.innerHTML = '\u9690\u85cf\u63a7\u5236\u6846' <\/p> \r\n<p>&nbsp;return; <\/p> \r\n<p>} <\/p> \r\n<p>function vol(id,type , obj){ <\/p> \r\n<p>&nbsp;if(type == 'up'){ <\/p> \r\n<p>&nbsp; var volume = audio.volume + 0.1; <\/p> \r\n<p>&nbsp; if(volume &gt;=1 ){ <\/p> \r\n<p>&nbsp; &nbsp;volume = 1 ; <\/p> \r\n<p>&nbsp; <\/p> \r\n<p>&nbsp; } <\/p> \r\n<p>&nbsp; audio.volume = volume; <\/p> \r\n<p>&nbsp;}else if(type == 'down'){ <\/p> \r\n<p>&nbsp; var volume = audio.volume - 0.1; <\/p> \r\n<p>&nbsp; if(volume &lt;=0 ){ <\/p> \r\n<p>&nbsp; &nbsp;volume = 0 ; <\/p> \r\n<p>&nbsp; } <\/p> \r\n<p>&nbsp; audio.volume = volume; <\/p> \r\n<p>&nbsp;} <\/p> \r\n<p>&nbsp;document.getElementById('nowVol').innerHTML = returnFloat1(audio.volume); <\/p> \r\n<p>} <\/p> \r\n<p>function muted(id,obj){ <\/p> \r\n<p>&nbsp;if(audio.muted){ <\/p> \r\n<p>&nbsp; audio.muted = false; <\/p> \r\n<p>&nbsp; obj.innerHTML = '\u5f00\u542f\u9759\u97f3'; <\/p> \r\n<p>&nbsp;}else{ <\/p> \r\n<p>&nbsp; audio.muted = true; <\/p> \r\n<p>&nbsp; obj.innerHTML = '\u5173\u95ed\u9759\u97f3'; <\/p> \r\n<p>&nbsp;} <\/p> \r\n<p>} <\/p> \r\n<p>&nbsp;\/\/\u4fdd\u7559\u4e00\u4f4d\u5c0f\u6570\u70b9 <\/p> \r\n<p> <\/p> \r\n<p>function returnFloat1(value) { <\/p> \r\n<p>&nbsp;value = Math.round(parseFloat(value) * 10) \/ 10; <\/p> \r\n<p>&nbsp;if (value.toString().indexOf('.') &lt; 0){ <\/p> \r\n<p>&nbsp; value = value.toString() + '.0'; <\/p> \r\n<p>&nbsp;} <\/p> \r\n<p>&nbsp;return value; <\/p> \r\n<p>}<\/p> \r\n<div> \r\n <p style='color: rgb(69, 69, 69); font-family: Verdana, 'Microsoft YaHei'; font-size: 16px;'><\/p> \r\n <p style='color: rgb(69, 69, 69); font-family: Verdana, 'Microsoft YaHei'; font-size: 16px;'><br><\/p> \r\n <table border='1' cellpadding='2' cellspacing='0' style='background-color: rgb(255, 255, 255); color: rgb(69, 69, 69); font-family: Consolas, ConsolasRegular, 'Courier New', monospace; font-size: 12px;'> \r\n  <tbody> \r\n   <tr> \r\n    <td data-settings='show' style='color: rgb(175, 175, 175) !important;'> \r\n     <div style='font-size: 14px !important;'> \r\n      <div data-line='crayon-548648598aef4013059235-2' style='font-family: inherit; font-size: inherit !important;'> \r\n       <br>2 \r\n      <\/div> \r\n      <div data-line='crayon-548648598aef4013059235-3' style='font-family: inherit; font-size: inherit !important;'>\r\n        3 \r\n      <\/div> \r\n      <div data-line='crayon-548648598aef4013059235-4' style='font-family: inherit; font-size: inherit !important;'>\r\n        4 \r\n      <\/div> \r\n      <div data-line='crayon-548648598aef4013059235-5' style='font-family: inherit; font-size: inherit !important;'>\r\n        5 \r\n      <\/div> \r\n      <div data-line='crayon-548648598aef4013059235-6' style='font-family: inherit; font-size: inherit !important;'>\r\n        6 \r\n      <\/div> \r\n      <div data-line='crayon-548648598aef4013059235-7' style='font-family: inherit; font-size: inherit !important;'>\r\n        7 \r\n      <\/div> \r\n      <div data-line='crayon-548648598aef4013059235-8' style='font-family: inherit; font-size: inherit !important;'>\r\n        8 \r\n      <\/div> \r\n     <\/div><\/td> \r\n    <td style='width: 854px;'> \r\n     <div style='color: rgb(0, 0, 0); font-size: 14px !important;'> \r\n      <div style='font-family: inherit; font-size: inherit !important;'> \r\n       <span style='font-family: inherit; color: rgb(128, 0, 128) !important; font-size: inherit !important;'>&lt;a <\/span> \r\n       <span style='font-family: inherit; color: rgb(0, 78, 208) !important; font-size: inherit !important;'>href<\/span> \r\n       <span style='font-family: inherit; color: rgb(0, 111, 224) !important; font-size: inherit !important;'>=<\/span> \r\n       <span style='font-family: inherit; color: rgb(0, 128, 0) !important; font-size: inherit !important;'>'javascript:void(0);'<\/span> \r\n       <span style='font-family: inherit; color: rgb(0, 111, 224) !important; font-size: inherit !important;'> <\/span> \r\n       <span style='font-family: inherit; color: rgb(0, 78, 208) !important; font-size: inherit !important;'>onclick<\/span> \r\n       <span style='font-family: inherit; color: rgb(0, 111, 224) !important; font-size: inherit !important;'>=<\/span> \r\n       <span style='font-family: inherit; color: rgb(0, 128, 0) !important; font-size: inherit !important;'>'getCurrentTime('firefox');'<\/span> \r\n       <span style='font-family: inherit; color: rgb(128, 0, 128) !important; font-size: inherit !important;'>&gt;<\/span> \r\n       <span style='font-family: inherit; font-size: inherit !important;'>\u83b7\u53d6\u64ad\u653e\u65f6\u95f4<\/span> \r\n       <span style='font-family: inherit; color: rgb(128, 0, 128) !important; font-size: inherit !important;'>&lt;\/a&gt;<\/span> \r\n      <\/div> \r\n      <div style='font-family: inherit; background-color: rgb(249, 249, 249) !important; font-size: inherit !important;'> \r\n       <span style='font-family: inherit; color: rgb(128, 0, 128) !important; font-size: inherit !important;'>&lt;a <\/span> \r\n       <span style='font-family: inherit; color: rgb(0, 78, 208) !important; font-size: inherit !important;'>href<\/span> \r\n       <span style='font-family: inherit; color: rgb(0, 111, 224) !important; font-size: inherit !important;'>=<\/span> \r\n       <span style='font-family: inherit; color: rgb(0, 128, 0) !important; font-size: inherit !important;'>'javascript:void(0);'<\/span> \r\n       <span style='font-family: inherit; color: rgb(0, 111, 224) !important; font-size: inherit !important;'> <\/span> \r\n       <span style='font-family: inherit; color: rgb(0, 78, 208) !important; font-size: inherit !important;'>onclick<\/span> \r\n       <span style='font-family: inherit; color: rgb(0, 111, 224) !important; font-size: inherit !important;'>=<\/span> \r\n       <span style='font-family: inherit; color: rgb(0, 128, 0) !important; font-size: inherit !important;'>'playOrPaused('firefox',this);'<\/span> \r\n       <span style='font-family: inherit; color: rgb(128, 0, 128) !important; font-size: inherit !important;'>&gt;<\/span> \r\n       <span style='font-family: inherit; font-size: inherit !important;'>\u64ad\u653e<\/span> \r\n       <span style='font-family: inherit; color: rgb(128, 0, 128) !important; font-size: inherit !important;'>&lt;\/a&gt;<\/span> \r\n      <\/div> \r\n      <div style='font-family: inherit; font-size: inherit !important;'> \r\n       <span style='font-family: inherit; color: rgb(128, 0, 128) !important; font-size: inherit !important;'>&lt;a <\/span> \r\n       <span style='font-family: inherit; color: rgb(0, 78, 208) !important; font-size: inherit !important;'>href<\/span> \r\n       <span style='font-family: inherit; color: rgb(0, 111, 224) !important; font-size: inherit !important;'>=<\/span> \r\n       <span style='font-family: inherit; color: rgb(0, 128, 0) !important; font-size: inherit !important;'>'javascript:void(0);'<\/span> \r\n       <span style='font-family: inherit; color: rgb(0, 111, 224) !important; font-size: inherit !important;'> <\/span> \r\n       <span style='font-family: inherit; color: rgb(0, 78, 208) !important; font-size: inherit !important;'>onclick<\/span> \r\n       <span style='font-family: inherit; color: rgb(0, 111, 224) !important; font-size: inherit !important;'>=<\/span> \r\n       <span style='font-family: inherit; color: rgb(0, 128, 0) !important; font-size: inherit !important;'>'hideOrShowControls('firefox',this);'<\/span> \r\n       <span style='font-family: inherit; color: rgb(128, 0, 128) !important; font-size: inherit !important;'>&gt;<\/span> \r\n       <span style='font-family: inherit; font-size: inherit !important;'>\u9690\u85cf\u63a7\u5236\u6846<\/span> \r\n       <span style='font-family: inherit; color: rgb(128, 0, 128) !important; font-size: inherit !important;'>&lt;\/a&gt;<\/span> \r\n      <\/div> \r\n      <div style='font-family: inherit; background-color: rgb(249, 249, 249) !important; font-size: inherit !important;'> \r\n       <span style='font-family: inherit; color: rgb(128, 0, 128) !important; font-size: inherit !important;'>&lt;a <\/span> \r\n       <span style='font-family: inherit; color: rgb(0, 78, 208) !important; font-size: inherit !important;'>href<\/span> \r\n       <span style='font-family: inherit; color: rgb(0, 111, 224) !important; font-size: inherit !important;'>=<\/span> \r\n       <span style='font-family: inherit; color: rgb(0, 128, 0) !important; font-size: inherit !important;'>'javascript:void(0);'<\/span> \r\n       <span style='font-family: inherit; color: rgb(0, 111, 224) !important; font-size: inherit !important;'> <\/span> \r\n       <span style='font-family: inherit; color: rgb(0, 78, 208) !important; font-size: inherit !important;'>onclick<\/span> \r\n       <span style='font-family: inherit; color: rgb(0, 111, 224) !important; font-size: inherit !important;'>=<\/span> \r\n       <span style='font-family: inherit; color: rgb(0, 128, 0) !important; font-size: inherit !important;'>'muted('firefox',this);'<\/span> \r\n       <span style='font-family: inherit; color: rgb(128, 0, 128) !important; font-size: inherit !important;'>&gt;<\/span> \r\n       <span style='font-family: inherit; font-size: inherit !important;'>\u5f00\u542f\u9759\u97f3<\/span> \r\n       <span style='font-family: inherit; color: rgb(128, 0, 128) !important; font-size: inherit !important;'>&lt;\/a&gt;<\/span> \r\n      <\/div> \r\n      <div style='font-family: inherit; font-size: inherit !important;'> \r\n       <span style='font-family: inherit; color: rgb(128, 0, 128) !important; font-size: inherit !important;'>&lt;input <\/span> \r\n       <span style='font-family: inherit; color: rgb(0, 78, 208) !important; font-size: inherit !important;'>type<\/span> \r\n       <span style='font-family: inherit; color: rgb(0, 111, 224) !important; font-size: inherit !important;'>=<\/span> \r\n       <span style='font-family: inherit; color: rgb(0, 128, 0) !important; font-size: inherit !important;'>'button'<\/span> \r\n       <span style='font-family: inherit; color: rgb(0, 111, 224) !important; font-size: inherit !important;'> <\/span> \r\n       <span style='font-family: inherit; color: rgb(0, 78, 208) !important; font-size: inherit !important;'>value<\/span> \r\n       <span style='font-family: inherit; color: rgb(0, 111, 224) !important; font-size: inherit !important;'>=<\/span> \r\n       <span style='font-family: inherit; color: rgb(0, 128, 0) !important; font-size: inherit !important;'>'+'<\/span> \r\n       <span style='font-family: inherit; color: rgb(0, 111, 224) !important; font-size: inherit !important;'> <\/span> \r\n       <span style='font-family: inherit; color: rgb(0, 78, 208) !important; font-size: inherit !important;'>id<\/span> \r\n       <span style='font-family: inherit; color: rgb(0, 111, 224) !important; font-size: inherit !important;'>=<\/span> \r\n       <span style='font-family: inherit; color: rgb(0, 128, 0) !important; font-size: inherit !important;'>'upVol'<\/span> \r\n       <span style='font-family: inherit; color: rgb(0, 111, 224) !important; font-size: inherit !important;'> <\/span> \r\n       <span style='font-family: inherit; color: rgb(0, 78, 208) !important; font-size: inherit !important;'>onclick<\/span> \r\n       <span style='font-family: inherit; color: rgb(0, 111, 224) !important; font-size: inherit !important;'>=<\/span> \r\n       <span style='font-family: inherit; color: rgb(0, 128, 0) !important; font-size: inherit !important;'>'vol('firefox' , 'up' , this )'<\/span> \r\n       <span style='font-family: inherit; color: rgb(128, 0, 128) !important; font-size: inherit !important;'>\/&gt;<\/span> \r\n       <span style='font-family: inherit; font-size: inherit !important;'>\u97f3\u91cf<\/span> \r\n       <span style='font-family: inherit; color: rgb(128, 0, 128) !important; font-size: inherit !important;'>&lt;input <\/span> \r\n       <span style='font-family: inherit; color: rgb(0, 78, 208) !important; font-size: inherit !important;'>type<\/span> \r\n       <span style='font-family: inherit; color: rgb(0, 111, 224) !important; font-size: inherit !important;'>=<\/span> \r\n       <span style='font-family: inherit; color: rgb(0, 128, 0) !important; font-size: inherit !important;'>'button'<\/span> \r\n       <span style='font-family: inherit; color: rgb(0, 111, 224) !important; font-size: inherit !important;'> <\/span> \r\n       <span style='font-family: inherit; color: rgb(0, 78, 208) !important; font-size: inherit !important;'>value<\/span> \r\n       <span style='font-family: inherit; color: rgb(0, 111, 224) !important; font-size: inherit !important;'>=<\/span> \r\n       <span style='font-family: inherit; color: rgb(0, 128, 0) !important; font-size: inherit !important;'>'-'<\/span> \r\n       <span style='font-family: inherit; color: rgb(0, 111, 224) !important; font-size: inherit !important;'> <\/span> \r\n       <span style='font-family: inherit; color: rgb(0, 78, 208) !important; font-size: inherit !important;'>onclick<\/span> \r\n       <span style='font-family: inherit; color: rgb(0, 111, 224) !important; font-size: inherit !important;'>=<\/span> \r\n       <span style='font-family: inherit; color: rgb(0, 128, 0) !important; font-size: inherit !important;'>'vol('firefox' , 'down' ,this )'<\/span> \r\n       <span style='font-family: inherit; color: rgb(128, 0, 128) !important; font-size: inherit !important;'>\/&gt;<\/span> \r\n      <\/div> \r\n      <div style='font-family: inherit; background-color: rgb(249, 249, 249) !important; font-size: inherit !important;'> \r\n       <span style='font-family: inherit; color: rgb(128, 0, 128) !important; font-size: inherit !important;'>&lt;audio <\/span> \r\n       <span style='font-family: inherit; color: rgb(0, 78, 208) !important; font-size: inherit !important;'>src<\/span> \r\n       <span style='font-family: inherit; color: rgb(0, 111, 224) !important; font-size: inherit !important;'>=<\/span> \r\n       <span style='font-family: inherit; color: rgb(0, 128, 0) !important; font-size: inherit !important;'>'\/images\/audio\/Never Say Good Bye.ogg'<\/span> \r\n       <span style='font-family: inherit; color: rgb(0, 111, 224) !important; font-size: inherit !important;'> <\/span> \r\n       <span style='font-family: inherit; color: rgb(0, 78, 208) !important; font-size: inherit !important;'>id<\/span> \r\n       <span style='font-family: inherit; color: rgb(0, 111, 224) !important; font-size: inherit !important;'>=<\/span> \r\n       <span style='font-family: inherit; color: rgb(0, 128, 0) !important; font-size: inherit !important;'>'audio'<\/span> \r\n       <span style='font-family: inherit; color: rgb(0, 111, 224) !important; font-size: inherit !important;'> <\/span> \r\n       <span style='font-family: inherit; color: rgb(0, 78, 208) !important; font-size: inherit !important;'>controls<\/span> \r\n       <span style='font-family: inherit; color: rgb(0, 111, 224) !important; font-size: inherit !important;'>=<\/span> \r\n       <span style='font-family: inherit; color: rgb(0, 128, 0) !important; font-size: inherit !important;'>'controls'<\/span> \r\n       <span style='font-family: inherit; color: rgb(128, 0, 128) !important; font-size: inherit !important;'> &gt;<\/span> \r\n       <span style='font-family: inherit; color: rgb(128, 0, 128) !important; font-size: inherit !important;'>&lt;\/audio&gt;<\/span> \r\n      <\/div> \r\n      <div style='font-family: inherit; font-size: inherit !important;'>\r\n        &nbsp; \r\n      <\/div> \r\n      <div style='font-family: inherit; background-color: rgb(249, 249, 249) !important; font-size: inherit !important;'> \r\n       <span style='font-family: inherit; font-size: inherit !important;'>\u5f53\u524d\u97f3\u91cf\uff1a<\/span> \r\n       <span style='font-family: inherit; color: rgb(128, 0, 128) !important; font-size: inherit !important;'>&lt;span&nbsp;&nbsp;<\/span> \r\n       <span style='font-family: inherit; color: rgb(0, 78, 208) !important; font-size: inherit !important;'>id<\/span> \r\n       <span style='font-family: inherit; color: rgb(0, 111, 224) !important; font-size: inherit !important;'> <\/span> \r\n       <span style='font-family: inherit; color: rgb(0, 111, 224) !important; font-size: inherit !important;'>=<\/span> \r\n       <span style='font-family: inherit; color: rgb(0, 111, 224) !important; font-size: inherit !important;'> <\/span> \r\n       <span style='font-family: inherit; color: rgb(0, 128, 0) !important; font-size: inherit !important;'>'nowVol'<\/span> \r\n       <span style='font-family: inherit; color: rgb(128, 0, 128) !important; font-size: inherit !important;'>&gt;<\/span> \r\n       <span style='font-family: inherit; font-size: inherit !important;'> - <\/span> \r\n       <span style='font-family: inherit; color: rgb(128, 0, 128) !important; font-size: inherit !important;'>&lt;\/span&gt;<\/span> \r\n      <\/div> \r\n     <\/div><\/td> \r\n   <\/tr> \r\n  <\/tbody> \r\n <\/table> \r\n<\/div>\r\n ","excerpt":"\u00a0<audio>\u6807\u7b7e\u53ef\u4ee5\u5728HTML5\u6d4f\u89c8\u5668\u4e2d\u64ad\u653e\u97f3\u9891\u6587\u4ef6\u3002<audio>\u9ed8\u8ba4\u63d0\u4f9b\u4e00\u4e2a\u63a7\u5236\u9762\u677f\uff0c\u4f46\u662f\u6709\u4e9b\u65f6\u5019\u6211\u4eec\u53ea\u9700\u8981\u64ad\u653e\u58f0\u97f3\uff0c\u63a7\u5236\u9762\u677f\u7531\u6211\u4eec\u81ea\u5df1\u6765\u5b9a\u4e49\u5176\u663e\u793a\u7684\u72b6\u6001\u3002\u8fd9\u91cc\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528JS\u6765\u8fdb\u884c\u63a7\u5236\uff0c\u4ee3\u7801\u5982\u4e0b\uff1avaraudio;window.onload=function(){initAudio","author":"1","sortid":"19","type":"blog","views":"51","comnum":"0","tbcount":"0","attnum":"0","top":"n","hide":"n","allow_remark":"y","allow_tb":"y","password":"","thumb":"0","alias":""}